import chroma from 'chroma-js';

const palette = (color, suffixes = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900], padding = 0.1) => {
  if (!color || typeof color !== "string") {
    throw new Error('Please provide a valid "color" string parameter');
  }
  function scalePalette(baseColor, _suffixes = suffixes, _padding = padding) {
    const colorScale = chroma.scale(["white", baseColor, "black"]).padding(padding).colors(suffixes.length);
    const colorRange = {};
    suffixes.forEach(
      (suffix, index) => colorRange[suffix] = {
        value: colorScale[index]
      }
    );
    colorRange[500] = {
      value: baseColor
    };
    return colorRange;
  }
  return {
    ...scalePalette(color),
    palette: true
  };
};

export { palette as p };
