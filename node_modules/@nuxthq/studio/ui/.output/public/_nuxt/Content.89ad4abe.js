var Sv=Object.defineProperty;var Ev=(t,e,n)=>e in t?Sv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fr=(t,e,n)=>(Ev(t,typeof e!="symbol"?e+"":e,n),n),yd=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var me=(t,e,n)=>(yd(t,e,"read from private field"),n?n.call(t):e.get(t)),Qe=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Rt=(t,e,n,r)=>(yd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var zs=(t,e,n)=>(yd(t,e,"access private method"),n);import{e as nn,O as Hc,j as Rn,P as nf,Q as Av,R as Fv,r as Qt,S as Tv,U as Hw,V as rf,W as Mv,k as Gw,X as Ov,Y as Nv,Z as $v,u as de,a0 as Kw,h as mt,o as ge,a as je,b as Tt,D as Lv,$ as pe,a1 as Ca,a2 as Jw,a3 as Iv,a4 as of,s as qe,B as Xi,i as sf,t as pr,x as ln,F as Ko,p as va,y as af,c as Ir,w as Rv,v as Ag,a5 as Bv,a6 as Pv,l as wd}from"./entry.504c0376.js";import{u as Fg}from"./ColorModeToggle.31a3ff49.js";import{m as Bl}from"./get.751e4c84.js";import{_ as jv}from"./_plugin-vue_export-helper.a1a6add7.js";var zv=Object.defineProperty,Vv=(t,e,n)=>e in t?zv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qv=(t,e,n)=>(Vv(t,typeof e!="symbol"?e+"":e,n),n),xt=(t=>(t.docTypeError="docTypeError",t.contextNotFound="contextNotFound",t.timerNotFound="timerNotFound",t.ctxCallOutOfScope="ctxCallOutOfScope",t.createNodeInParserFail="createNodeInParserFail",t.stackOverFlow="stackOverFlow",t.parserMatchError="parserMatchError",t.serializerMatchError="serializerMatchError",t.getAtomFromSchemaFail="getAtomFromSchemaFail",t.expectDomTypeError="expectDomTypeError",t.callCommandBeforeEditorView="callCommandBeforeEditorView",t.themeMustInstalled="themeMustInstalled",t.missingRootElement="missingRootElement",t.missingNodeInSchema="missingNodeInSchema",t.missingMarkInSchema="missingMarkInSchema",t.missingIcon="missingIcon",t.vueRendererCallOutOfScope="vueRendererCallOutOfScope",t.ctxNotBind="ctxNotBind",t.missingYjsDoc="missingYjsDoc",t.repeatCallsToMenuWrapperInit="repeatCallsToMenuWrapperInit",t.missingMenuWrapper="missingMenuWrapper",t))(xt||{});class $t extends Error{constructor(e,n){super(n),qv(this,"code"),this.name="MilkdownError",this.code=e}}const Uv=(t,e)=>typeof e=="function"?"[Function]":e,ms=t=>JSON.stringify(t,Uv),Wv=t=>new $t(xt.docTypeError,`Doc type error, unsupported type: ${ms(t)}`),Hv=t=>new $t(xt.contextNotFound,`Context "${t}" not found, do you forget to inject it?`),Gv=t=>new $t(xt.timerNotFound,`Timer "${t}" not found, do you forget to record it?`),Kv=()=>new $t(xt.ctxCallOutOfScope,"Should not call a context out of the plugin."),Jv=(...t)=>{const e=t.reduce((n,r)=>{if(!r)return n;const i=o=>Array.isArray(o)?o.map(s=>i(s)).join(", "):o.toJSON?ms(o.toJSON()):o.spec?ms(o.spec):o.toString();return`${n}, ${i(r)}`},"Create prosemirror node from remark failed in parser");return new $t(xt.createNodeInParserFail,e)},Yw=()=>new $t(xt.stackOverFlow,"Stack over flow, cannot pop on an empty stack."),Yv=t=>new $t(xt.parserMatchError,`Cannot match target parser for node: ${ms(t)}.`),Xv=t=>new $t(xt.serializerMatchError,`Cannot match target serializer for node: ${ms(t)}.`),Qv=(t,e)=>new $t(xt.getAtomFromSchemaFail,`Cannot get ${t}: ${e} from schema.`),Ht=t=>new $t(xt.expectDomTypeError,`Expect to be a dom, but get: ${ms(t)}.`),Zv=()=>new $t(xt.callCommandBeforeEditorView,"You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized"),Tg=()=>new $t(xt.themeMustInstalled,"It seems that no theme found in editor, please make sure you have use theme in front of all plugins.\nIf you prefer to use an empty theme, you can use `themeFactory({})`."),En=()=>new $t(xt.missingRootElement,"Missing root element, milkdown cannot find root element of the editor."),eS=t=>new $t(xt.missingIcon,`Missing icon in theme, milkdown cannot find icon "${t}" in theme.`),la=()=>new $t(xt.ctxNotBind,"Context not bind, please make sure the plugin has been initialized."),Xw=()=>new $t(xt.missingYjsDoc,"Missing yjs doc, please make sure you have bind one."),tS=()=>new $t(xt.vueRendererCallOutOfScope,"Should not call vue renderer before it has been created.");function St(t){this.content=t}St.prototype={constructor:St,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new St(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new St(n)},addToStart:function(t,e){return new St([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new St(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new St(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=St.from(t),t.size?new St(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=St.from(t),t.size?new St(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=St.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};St.from=function(t){if(t instanceof St)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new St(e)};function Qw(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=Qw(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function Zw(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=Zw(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class z{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(a,l)=>{a.isText?(o+=a.text.slice(Math.max(e,l)-l,n-l),s=!r):a.isLeaf?(i?o+=typeof i=="function"?i(a):i:a.type.spec.leafText&&(o+=a.type.spec.leafText(a)),s=!r):!s&&a.isBlock&&(o+=r,s=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new z(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new z(r,i)}cutByIndex(e,n){return e==n?z.empty:e==0&&n==this.content.length?this:new z(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new z(i,o)}addToStart(e){return new z([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new z(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return Qw(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return Zw(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Pl(0,e);if(e==this.size)return Pl(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?Pl(r+1,s):Pl(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return z.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new z(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return z.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new z(n||e,r)}static from(e){if(!e)return z.empty;if(e instanceof z)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new z([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}z.empty=new z([],0);const kd={index:0,offset:0};function Pl(t,e){return kd.index=t,kd.offset=e,kd}function Gc(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Gc(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Gc(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class Ae{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Gc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ae.none;if(e instanceof Ae)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}Ae.none=[];class Kc extends Error{}class K{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=t1(this.content,e+this.openStart,n);return r&&new K(r,this.openStart,this.openEnd)}removeBetween(e,n){return new K(e1(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return K.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new K(z.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new K(e,r,i)}}K.empty=new K(z.empty,0,0);function e1(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(e1(o.content,e-i-1,n-i-1)))}function t1(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=t1(s.content,e-o-1,n);return a&&t.replaceChild(i,s.copy(a))}function nS(t,e,n){if(n.openStart>t.depth)throw new Kc("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Kc("Inconsistent open depths");return n1(t,e,n,0)}function n1(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=n1(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return Zi(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=rS(n,t);return Zi(o,i1(t,s,a,e,r))}else return Zi(o,Jc(t,e,r))}function r1(t,e){if(!e.type.compatibleContent(t.type))throw new Kc("Cannot join "+e.type.name+" onto "+t.type.name)}function lf(t,e,n){let r=t.node(n);return r1(r,e.node(n)),r}function Qi(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ca(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Qi(t.nodeAfter,r),o++));for(let a=o;a<s;a++)Qi(i.child(a),r);e&&e.depth==n&&e.textOffset&&Qi(e.nodeBefore,r)}function Zi(t,e){return t.type.checkContent(e),t.copy(e)}function i1(t,e,n,r,i){let o=t.depth>i&&lf(t,e,i+1),s=r.depth>i&&lf(n,r,i+1),a=[];return ca(null,t,i,a),o&&s&&e.index(i)==n.index(i)?(r1(o,s),Qi(Zi(o,i1(t,e,n,r,i+1)),a)):(o&&Qi(Zi(o,Jc(t,e,i+1)),a),ca(e,n,i,a),s&&Qi(Zi(s,Jc(n,r,i+1)),a)),ca(r,null,i,a),new z(a)}function Jc(t,e,n){let r=[];if(ca(null,t,n,r),t.depth>n){let i=lf(t,e,n+1);Qi(Zi(i,Jc(t,e,n+1)),r)}return ca(e,null,n,r),new z(r)}function rS(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(z.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Sa{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ae.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new o1(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new Sa(n,r,o)}static resolveCached(e,n){for(let i=0;i<_d.length;i++){let o=_d[i];if(o.pos==n&&o.doc==e)return o}let r=_d[Dd]=Sa.resolve(e,n);return Dd=(Dd+1)%iS,r}}let _d=[],Dd=0,iS=12;class o1{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const oS=Object.create(null);class fn{constructor(e,n,r,i=Ae.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||z.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Gc(this.attrs,n||e.defaultAttrs||oS)&&Ae.sameSet(this.marks,r||Ae.none)}copy(e=null){return e==this.content?this:new fn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new fn(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return K.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new K(c,i.depth-s,o.depth-s)}replace(e,n,r){return nS(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Sa.resolveCached(this,e)}resolveNoCache(e){return Sa.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),s1(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=z.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Ae.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Ae.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=z.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}}fn.prototype.text=void 0;class Yc extends fn{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):s1(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Yc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Yc(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function s1(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class lo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new sS(e,n);if(r.next==null)return lo.empty;let i=a1(r);r.next&&r.err("Unexpected trailing text");let o=fS(hS(i));return pS(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return z.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,a.concat(u));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}lo.empty=new lo(!0);class sS{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function a1(t){let e=[];do e.push(aS(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function aS(t){let e=[];do e.push(lS(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function lS(t){let e=dS(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=cS(t,e);else break;return e}function Mg(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function cS(t,e){let n=Mg(t),r=n;return t.eat(",")&&(t.next!="}"?r=Mg(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function uS(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function dS(t){if(t.eat("(")){let e=a1(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=uS(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function hS(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=n();i(o(s.expr,l),u),l=u}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=n();r(l,u),i(o(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function l1(t,e){return e-t}function Og(t,e){let n=[];return r(e),n.sort(l1);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function fS(t){let e=Object.create(null);return n(Og(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);Og(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=e[r.join(",")]=new lo(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(l1);o.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return o}}function pS(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function c1(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function u1(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function d1(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new mS(t[n]);return e}class Xc{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=d1(r.attrs),this.defaultAttrs=c1(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==lo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:u1(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new fn(this,this.computeAttrs(e),z.from(n),Ae.setFrom(r))}createChecked(e=null,n,r){return n=z.from(n),this.checkContent(n),new fn(this,this.computeAttrs(e),n,Ae.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=z.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(z.empty,!0);return o?new fn(this,e,n.append(o),Ae.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Ae.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new Xc(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class mS{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Iu{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=d1(i.attrs),this.excluded=null;let o=c1(this.attrs);this.instance=o?new Ae(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Ae(this,u1(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new Iu(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class gS{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=St.from(e.nodes),n.marks=St.from(e.marks||{}),this.nodes=Xc.compile(this.spec.nodes,this),this.marks=Iu.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;o.contentMatch=r[s]||(r[s]=lo.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=a=="_"?null:a?Ng(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:Ng(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Xc){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Yc(r,r.defaultAttrs,e,Ae.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return fn.fromJSON(this,e)}markFromJSON(e){return Ae.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Ng(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class gs{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new Lg(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Lg(this,n,!0);return r.addAll(e,n.from,n.to),K.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(wS(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Ig(s)),s.mark=i})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Ig(s)),s.node=i})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new gs(e,gs.schemaRules(e)))}}const h1={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},bS={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},f1={ol:!0,ul:!0},Qc=1,Zc=2,ua=4;function $g(t,e,n){return e!=null?(e?Qc:0)|(e==="full"?Zc:0):t&&t.whitespace=="pre"?Qc|Zc:n&~ua}class jl{constructor(e,n,r,i,o,s,a){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=a,this.content=[],this.activeMarks=Ae.none,this.stashMarks=[],this.match=s||(a&ua?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(z.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Qc)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=z.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(z.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):_S(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!h1.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Lg{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=$g(null,n.preserveWhitespace,0)|(r?ua:0);i?o=new jl(i.type,i.attrs,Ae.none,Ae.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new jl(null,null,Ae.none,Ae.none,!0,null,s):o=new jl(e.schema.topNodeType,null,Ae.none,Ae.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style"),r=n?this.readStyles(kS(n)):null,i=this.top;if(r!=null)for(let o=0;o<r.length;o++)this.addPendingMark(r[o]);if(this.addElement(e),r!=null)for(let o=0;o<r.length;o++)this.removePendingMark(r[o],i)}}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&Zc||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Qc)r.options&Zc?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;f1.hasOwnProperty(r)&&this.parser.normalizeLists&&yS(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:bS.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,a=this.top,l=this.needsBlock;if(h1.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),s=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),s&&this.sync(a),this.needsBlock=l}else this.addElementByRule(e,o,o.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=Ae.none;e:for(let r=0;r<e.length;r+=2)for(let i=void 0;;){let o=this.parser.matchStyle(e[r],e[r+1],this,i);if(!o)continue e;if(o.ignore)return null;if(n=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(n),o.consuming===!1)i=o;else break}return n}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,s&&this.removePendingMark(s,a)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=$g(e,i,o.options);o.options&ua&&o.content.length==0&&(s|=ua),this.nodes.push(new jl(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=DS(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function yS(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&f1.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function wS(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function kS(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function Ig(t){let e={};for(let n in t)e[n]=t[n];return e}function _S(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||o.indexOf(u)<0&&s(u))return!0}};if(s(i.contentMatch))return!0}}function DS(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class mr{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=xd(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,n);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=mr.renderSpec(xd(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&mr.renderSpec(xd(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,a=r?e.createElementNS(r,i):e.createElement(i),l=n[1],c=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){c=2;for(let u in l)if(l[u]!=null){let d=u.indexOf(" ");d>0?a.setAttributeNS(u.slice(0,d),u.slice(d+1),l[u]):a.setAttribute(u,l[u])}}for(let u=c;u<n.length;u++){let d=n[u];if(d===0){if(u<n.length-1||u>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:f,contentDOM:h}=mr.renderSpec(e,d,r);if(a.appendChild(f),h){if(s)throw new RangeError("Multiple content holes");s=h}}}return{dom:a,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new mr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Rg(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Rg(e.marks)}}function Rg(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function xd(t){return t.document||window.document}let xS=t=>crypto.getRandomValues(new Uint8Array(t)),CS=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(o=e)=>{let s="";for(;;){let a=n(i),l=i;for(;l--;)if(s+=t[a[l]&r]||"",s.length===o)return s}}},p1=(t,e=21)=>CS(t,e,xS);var vS=Object.defineProperty,SS=(t,e,n)=>e in t?vS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cd=(t,e,n)=>(SS(t,typeof e!="symbol"?e+"":e,n),n);const m1=Symbol("rendererKey"),ES=t=>{const e=Hc(m1,()=>{throw tS()}),{dom:n,loading:r,editor:i}=Hc(Ip,{}),o=Qt(!1);Gw(()=>{if(!n.value)return;const s=t(n.value,e);!s||o.value||(r.value=!0,o.value=!0,s.create().then(a=>{i.value=a}).finally(()=>{r.value=!1,o.value=!1}).catch(a=>console.error(a)))}),Hw(()=>{var s;(s=i.value)==null||s.destroy()})},g1=nn({name:"MilkdownDomRoot",setup:(t,{slots:e})=>{ES(t.editor);const n=Hc(Ip,{});return t.editorRef&&(t.editorRef.get=()=>n.editor.value,t.editorRef.dom=()=>n.dom.value),()=>{var r;return Rn("div",{ref:n.dom},[(r=e.default)==null?void 0:r.call(e)])}}});g1.props=["editor","editorRef"];const b1=Symbol("nodeMetadata"),AS=()=>Hc(b1),y1=nn({name:"MilkdownNodeContainer",setup:({node:t,view:e,getPos:n,decorations:r,ctx:i,as:o},s)=>(nf(b1,{ctx:i,node:t,view:e,getPos:n,decorations:r}),()=>{var a,l;return Av(o,{"data-view-container":!0},(l=(a=s.slots).default)==null?void 0:l.call(a))})});y1.props=["ctx","editor","node","view","getPos","decorations","as"];const w1=nn({name:"MilkdownContent",setup:({isInline:t})=>()=>t?Rn("span",{"data-view-content":!0},null):Rn("div",{"data-view-content":!0},null)});w1.props=["isInline"];const FS=p1("abcedfghicklmn",10),TS=(t,e,n)=>(r,i={})=>o=>(s,a,l,c)=>new MS(o,r,t,e,n,i,s,a,l,c);var Bg,Pg;class MS{constructor(e,n,r,i,o,s,a,l,c,u){Cd(this,"getPortal",()=>{const f=this.component,h=this.options.as?this.options.as:this.isInlineOrMark?"span":"div";return rf(nn({name:"MilkdownPortal",setup:()=>()=>Rn($v,{key:this.key,to:this.teleportDOM},{default:()=>[Rn(y1,{as:h,ctx:this.ctx,node:this.node,view:this.view,getPos:this.getPos,decorations:this.decorations},{default:()=>[Rn(f,null,{default:()=>[Rn(w1,{isInline:this.isInlineOrMark},null)]})]})]})}))}),Cd(this,"selectNode",(Bg=this.options)==null?void 0:Bg.selectNode),Cd(this,"deselectNode",(Pg=this.options)==null?void 0:Pg.deselectNode),this.ctx=e,this.component=n,this.rootInstance=r,this.addPortal=i,this.removePortalByKey=o,this.options=s,this.view=l,this.getPos=c,this.key=FS(),this.node=Qt(a),this.decorations=Qt(u);const d=s.as?s.as:this.isInlineOrMark?"span":"div";this.teleportDOM=document.createElement(d),this.renderPortal()}get isInlineOrMark(){return this.node.value instanceof Ae||this.node.value.isInline}get dom(){return this.teleportDOM.firstElementChild||this.teleportDOM}get contentDOM(){if(!(this.node instanceof fn&&this.node.isLeaf))return this.teleportDOM.querySelector("[data-view-content]")||this.dom}renderPortal(){if(!this.teleportDOM)return;const e=this.getPortal();this.addPortal(e,this.key);const n=this.rootInstance.value;n&&n.update()}destroy(){var e,n;(n=(e=this.options).destroy)==null||n.call(e),this.teleportDOM.remove(),this.removePortalByKey(this.key)}ignoreMutation(e){return this.options.ignoreMutation?this.options.ignoreMutation(e):!this.dom||!this.contentDOM||this.node instanceof fn&&(this.node.isLeaf||this.node.isAtom)?!0:!(e.type==="selection"||this.contentDOM===this.dom||this.contentDOM.contains(e.target))}update(e,n,r){return(()=>{var i,o;if(this.options.update){const s=(o=(i=this.options).update)==null?void 0:o.call(i,e,n,r);if(s!=null)return s}return this.node.value.type!==e.type?!1:(e===this.node.value&&this.decorations.value===n||(this.node.value=e,this.decorations.value=n),!0)})()}}function OS(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ov(t)}const Ip=Symbol("editorInfoCtxKey"),NS=`
@milkdown/vue:
Passing ref to VueEditor will soon be deprecated, please use:

const { editor, getInstance, getDom, loading } = useEditor(/* creator */);

effect(() => {
    if (!loading) {
        const editor = getInstance();
        const rootDOM = getDom();
    }
})

<VueEditor editor={editor} />
`,$S=`
@milkdown/vue:
Passing editor directly to VueEditor will soon be deprecated, please use:

const { editor } = useEditor(/* creator */);

<VueEditor editor={editor} />
`,k1=nn({name:"MilkdownVueRoot",setup:t=>{const e=Fv([]),n=Nv(),r=Qt(null);Tv(()=>{r.value=n.ctx._}),Hw(()=>{r.value=null});const i=rf((f,h)=>{e.push([h,f])}),o=rf(f=>{const h=e.findIndex(p=>p[0]===f);e.splice(h,1)}),s=TS(r,i,o);nf(m1,s);const a=Object.hasOwnProperty.call(t.editor,"getInstance"),{getEditorCallback:l,dom:c,editor:u,loading:d}=a?t.editor.editor:t.editor;return Mv(()=>{a&&console.warn($S),t.editorRef&&console.warn(NS)}),nf(Ip,{dom:c,editor:u,loading:d}),()=>{const f=e.map(([h,p])=>Rn(p,{key:h},null));return Rn(g1,{editorRef:t.editorRef,editor:l.value},OS(f)?f:{default:()=>[f]})}}});k1.props=["editor","editorRef"];const LS=t=>{const e=Qt(null),n=Qt(),r=Qt(!0),i=Qt((...o)=>t(...o));return{loading:r,getInstance:()=>n.value,getDom:()=>e.value,editor:{getEditorCallback:i,dom:e,editor:n,loading:r}}};var IS=Object.defineProperty,RS=(t,e,n)=>e in t?IS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ye=(t,e,n)=>(RS(t,typeof e!="symbol"?e+"":e,n),n),_1=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},On=(t,e,n)=>(_1(t,e,"read from private field"),n?n.call(t):e.get(t)),Ci=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},vi=(t,e,n,r)=>(_1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);const Ru=()=>{const t=new Map;return{sliceMap:t,getSlice:e=>{const n=typeof e=="string"?[...t.values()].find(r=>r.name===e):t.get(e.id);if(!n){const r=typeof e=="string"?e:e.sliceName;throw Hv(r)}return n},removeSlice:e=>{const n=typeof e=="string"?[...t.values()].find(r=>r.name===e):t.get(e.id);!n||t.delete(n.id)}}},BS=t=>Array.isArray(t)?[...t]:typeof t=="object"?{...t}:t,ie=(t,e)=>{const n=Symbol(`Context-${e}`),r=(i,o=BS(t))=>{let s=o;const a={name:e,id:n,set:l=>{s=l},get:()=>s,update:l=>{s=l(s)}};return i.set(n,a),a};return r.sliceName=e,r.id=n,r._typeInfo=()=>{throw Kv()},r};var oc,sc;class PS{constructor(e,n){Ci(this,oc,void 0),Ci(this,sc,void 0),Ye(this,"use",r=>On(this,oc).getSlice(r)),Ye(this,"get",r=>this.use(r).get()),Ye(this,"set",(r,i)=>this.use(r).set(i)),Ye(this,"update",(r,i)=>this.use(r).update(i)),Ye(this,"timing",r=>On(this,sc).get(r)),Ye(this,"done",r=>this.timing(r).done()),Ye(this,"wait",r=>this.timing(r)()),Ye(this,"waitTimers",async r=>{await Promise.all(this.get(r).map(i=>this.wait(i)))}),vi(this,oc,e),vi(this,sc,n)}}oc=new WeakMap,sc=new WeakMap;var Fo,To;class jS{constructor(e,n){Ci(this,Fo,void 0),Ci(this,To,void 0),Ye(this,"inject",(r,i)=>(r(On(this,Fo).sliceMap,i),this)),Ye(this,"remove",r=>(On(this,Fo).removeSlice(r),this)),Ye(this,"record",r=>(r(On(this,To).store),this)),Ye(this,"clearTimer",r=>(On(this,To).remove(r),this)),Ye(this,"use",r=>On(this,Fo).getSlice(r)),Ye(this,"get",r=>this.use(r).get()),Ye(this,"set",(r,i)=>this.use(r).set(i)),Ye(this,"update",(r,i)=>this.use(r).update(i)),Ye(this,"timing",r=>On(this,To).get(r)),Ye(this,"wait",r=>this.timing(r)()),Ye(this,"done",r=>this.timing(r).done()),Ye(this,"waitTimers",async r=>{await Promise.all(this.get(r).map(i=>this.wait(i)))}),vi(this,Fo,e),vi(this,To,n)}}Fo=new WeakMap,To=new WeakMap;var ac,lc;class zS{constructor(e,n){Ci(this,ac,void 0),Ci(this,lc,void 0),Ye(this,"clearTimer",r=>(On(this,lc).remove(r),this)),Ye(this,"remove",r=>(On(this,ac).removeSlice(r),this)),vi(this,ac,e),vi(this,lc,n)}}ac=new WeakMap,lc=new WeakMap;var cc,uc;class VS{constructor(e,n){Ci(this,cc,void 0),Ci(this,uc,void 0),Ye(this,"inject",(r,i)=>(r(On(this,cc).sliceMap,i),this)),Ye(this,"record",r=>(r(On(this,uc).store),this)),vi(this,cc,e),vi(this,uc,n)}}cc=new WeakMap,uc=new WeakMap;const D1=()=>{const t=new Map;return{store:t,get:e=>{const n=t.get(e.id);if(!n)throw Gv(e.timerName);return n},remove:e=>{t.delete(e.id)}}},zn=(t,e=3e3)=>{const n=Symbol("Timer"),r=i=>{let o=null,s;const a=Symbol(t),l=()=>o!=null?o:o=new Promise((c,u)=>{s=d=>{d instanceof CustomEvent&&d.detail.id===a&&(removeEventListener(t,s),d.stopImmediatePropagation(),c())},setTimeout(()=>{u(new Error(`Timing ${t} timeout.`)),removeEventListener(t,s)},e),addEventListener(t,s)});return l.done=()=>{const c=new CustomEvent(t,{detail:{id:a}});dispatchEvent(c)},i.set(n,l),l};return r.id=n,r.timerName=t,r};function qS(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function US(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var WS=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(US(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=qS(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Bt="-ms-",eu="-moz-",Oe="-webkit-",x1="comm",Rp="rule",Bp="decl",HS="@import",C1="@keyframes",GS=Math.abs,Bu=String.fromCharCode,KS=Object.assign;function JS(t,e){return At(t,0)^45?(((e<<2^At(t,0))<<2^At(t,1))<<2^At(t,2))<<2^At(t,3):0}function v1(t){return t.trim()}function YS(t,e){return(t=e.exec(t))?t[0]:t}function Le(t,e,n){return t.replace(e,n)}function cf(t,e){return t.indexOf(e)}function At(t,e){return t.charCodeAt(e)|0}function Ea(t,e,n){return t.slice(e,n)}function cr(t){return t.length}function Pp(t){return t.length}function zl(t,e){return e.push(t),t}function XS(t,e){return t.map(e).join("")}var Pu=1,bs=1,S1=0,mn=0,ut=0,Os="";function ju(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Pu,column:bs,length:s,return:""}}function Vs(t,e){return KS(ju("",null,null,"",null,null,0),t,{length:-t.length},e)}function QS(){return ut}function ZS(){return ut=mn>0?At(Os,--mn):0,bs--,ut===10&&(bs=1,Pu--),ut}function Dn(){return ut=mn<S1?At(Os,mn++):0,bs++,ut===10&&(bs=1,Pu++),ut}function yr(){return At(Os,mn)}function dc(){return mn}function cl(t,e){return Ea(Os,t,e)}function Aa(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function E1(t){return Pu=bs=1,S1=cr(Os=t),mn=0,[]}function A1(t){return Os="",t}function hc(t){return v1(cl(mn-1,uf(t===91?t+2:t===40?t+1:t)))}function e2(t){for(;(ut=yr())&&ut<33;)Dn();return Aa(t)>2||Aa(ut)>3?"":" "}function t2(t,e){for(;--e&&Dn()&&!(ut<48||ut>102||ut>57&&ut<65||ut>70&&ut<97););return cl(t,dc()+(e<6&&yr()==32&&Dn()==32))}function uf(t){for(;Dn();)switch(ut){case t:return mn;case 34:case 39:t!==34&&t!==39&&uf(ut);break;case 40:t===41&&uf(t);break;case 92:Dn();break}return mn}function n2(t,e){for(;Dn()&&t+ut!==47+10;)if(t+ut===42+42&&yr()===47)break;return"/*"+cl(e,mn-1)+"*"+Bu(t===47?t:Dn())}function r2(t){for(;!Aa(yr());)Dn();return cl(t,mn)}function i2(t){return A1(fc("",null,null,null,[""],t=E1(t),0,[0],t))}function fc(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,h=0,p=0,m=1,g=1,b=1,_=0,w="",x=i,k=o,y=r,D=w;g;)switch(p=_,_=Dn()){case 40:if(p!=108&&At(D,d-1)==58){cf(D+=Le(hc(_),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:D+=hc(_);break;case 9:case 10:case 13:case 32:D+=e2(p);break;case 92:D+=t2(dc()-1,7);continue;case 47:switch(yr()){case 42:case 47:zl(o2(n2(Dn(),dc()),e,n),l);break;default:D+="/"}break;case 123*m:a[c++]=cr(D)*b;case 125*m:case 59:case 0:switch(_){case 0:case 125:g=0;case 59+u:h>0&&cr(D)-d&&zl(h>32?zg(D+";",r,n,d-1):zg(Le(D," ","")+";",r,n,d-2),l);break;case 59:D+=";";default:if(zl(y=jg(D,e,n,c,u,i,a,w,x=[],k=[],d),o),_===123)if(u===0)fc(D,e,y,y,x,o,d,a,k);else switch(f===99&&At(D,3)===110?100:f){case 100:case 109:case 115:fc(t,y,y,r&&zl(jg(t,y,y,0,0,i,a,w,i,x=[],d),k),i,k,d,a,r?x:k);break;default:fc(D,y,y,y,[""],k,0,a,k)}}c=u=h=0,m=b=1,w=D="",d=s;break;case 58:d=1+cr(D),h=p;default:if(m<1){if(_==123)--m;else if(_==125&&m++==0&&ZS()==125)continue}switch(D+=Bu(_),_*m){case 38:b=u>0?1:(D+="\f",-1);break;case 44:a[c++]=(cr(D)-1)*b,b=1;break;case 64:yr()===45&&(D+=hc(Dn())),f=yr(),u=d=cr(w=D+=r2(dc())),_++;break;case 45:p===45&&cr(D)==2&&(m=0)}}return o}function jg(t,e,n,r,i,o,s,a,l,c,u){for(var d=i-1,f=i===0?o:[""],h=Pp(f),p=0,m=0,g=0;p<r;++p)for(var b=0,_=Ea(t,d+1,d=GS(m=s[p])),w=t;b<h;++b)(w=v1(m>0?f[b]+" "+_:Le(_,/&\f/g,f[b])))&&(l[g++]=w);return ju(t,e,n,i===0?Rp:a,l,c,u)}function o2(t,e,n){return ju(t,e,n,x1,Bu(QS()),Ea(t,2,-2),0)}function zg(t,e,n,r){return ju(t,e,n,Bp,Ea(t,0,r),Ea(t,r+1,-1),r)}function Jo(t,e){for(var n="",r=Pp(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function s2(t,e,n,r){switch(t.type){case HS:case Bp:return t.return=t.return||t.value;case x1:return"";case C1:return t.return=t.value+"{"+Jo(t.children,r)+"}";case Rp:t.value=t.props.join(",")}return cr(n=Jo(t.children,r))?t.return=t.value+"{"+n+"}":""}function a2(t){var e=Pp(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function l2(t){return function(e){e.root||(e=e.return)&&t(e)}}var c2=function(e,n,r){for(var i=0,o=0;i=o,o=yr(),i===38&&o===12&&(n[r]=1),!Aa(o);)Dn();return cl(e,mn)},u2=function(e,n){var r=-1,i=44;do switch(Aa(i)){case 0:i===38&&yr()===12&&(n[r]=1),e[r]+=c2(mn-1,n,r);break;case 2:e[r]+=hc(i);break;case 4:if(i===44){e[++r]=yr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Bu(i)}while(i=Dn());return e},d2=function(e,n){return A1(u2(E1(e),n))},Vg=new WeakMap,h2=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Vg.get(r))&&!i){Vg.set(e,!0);for(var o=[],s=d2(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},f2=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function F1(t,e){switch(JS(t,e)){case 5103:return Oe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Oe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Oe+t+eu+t+Bt+t+t;case 6828:case 4268:return Oe+t+Bt+t+t;case 6165:return Oe+t+Bt+"flex-"+t+t;case 5187:return Oe+t+Le(t,/(\w+).+(:[^]+)/,Oe+"box-$1$2"+Bt+"flex-$1$2")+t;case 5443:return Oe+t+Bt+"flex-item-"+Le(t,/flex-|-self/,"")+t;case 4675:return Oe+t+Bt+"flex-line-pack"+Le(t,/align-content|flex-|-self/,"")+t;case 5548:return Oe+t+Bt+Le(t,"shrink","negative")+t;case 5292:return Oe+t+Bt+Le(t,"basis","preferred-size")+t;case 6060:return Oe+"box-"+Le(t,"-grow","")+Oe+t+Bt+Le(t,"grow","positive")+t;case 4554:return Oe+Le(t,/([^-])(transform)/g,"$1"+Oe+"$2")+t;case 6187:return Le(Le(Le(t,/(zoom-|grab)/,Oe+"$1"),/(image-set)/,Oe+"$1"),t,"")+t;case 5495:case 3959:return Le(t,/(image-set\([^]*)/,Oe+"$1$`$1");case 4968:return Le(Le(t,/(.+:)(flex-)?(.*)/,Oe+"box-pack:$3"+Bt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Oe+t+t;case 4095:case 3583:case 4068:case 2532:return Le(t,/(.+)-inline(.+)/,Oe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cr(t)-1-e>6)switch(At(t,e+1)){case 109:if(At(t,e+4)!==45)break;case 102:return Le(t,/(.+:)(.+)-([^]+)/,"$1"+Oe+"$2-$3$1"+eu+(At(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~cf(t,"stretch")?F1(Le(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(At(t,e+1)!==115)break;case 6444:switch(At(t,cr(t)-3-(~cf(t,"!important")&&10))){case 107:return Le(t,":",":"+Oe)+t;case 101:return Le(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Oe+(At(t,14)===45?"inline-":"")+"box$3$1"+Oe+"$2$3$1"+Bt+"$2box$3")+t}break;case 5936:switch(At(t,e+11)){case 114:return Oe+t+Bt+Le(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Oe+t+Bt+Le(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Oe+t+Bt+Le(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Oe+t+Bt+t+t}return t}var p2=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Bp:e.return=F1(e.value,e.length);break;case C1:return Jo([Vs(e,{value:Le(e.value,"@","@"+Oe)})],i);case Rp:if(e.length)return XS(e.props,function(o){switch(YS(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Jo([Vs(e,{props:[Le(o,/:(read-\w+)/,":"+eu+"$1")]})],i);case"::placeholder":return Jo([Vs(e,{props:[Le(o,/:(plac\w+)/,":"+Oe+"input-$1")]}),Vs(e,{props:[Le(o,/:(plac\w+)/,":"+eu+"$1")]}),Vs(e,{props:[Le(o,/:(plac\w+)/,Bt+"input-$1")]})],i)}return""})}},m2=[p2],g2=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var g=m.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||m2,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var g=m.getAttribute("data-emotion").split(" "),b=1;b<g.length;b++)o[g[b]]=!0;a.push(m)});var l,c=[h2,f2];{var u,d=[s2,l2(function(m){u.insert(m)})],f=a2(c.concat(i,d)),h=function(g){return Jo(i2(g),f)};l=function(g,b,_,w){u=_,h(g?g+"{"+b.styles+"}":b.styles),w&&(p.inserted[b.name]=!0)}}var p={key:n,sheet:new WS({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return p.sheet.hydrate(a),p},T1=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},vt=(t,e,n)=>(T1(t,e,"read from private field"),n?n.call(t):e.get(t)),Vl=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},b2=(t,e,n,r)=>(T1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function y2(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var w2={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function k2(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var _2=/[A-Z]|^ms/g,D2=/_EMO_([^_]+?)_([^]*?)_EMO_/g,M1=function(t){return t.charCodeAt(1)===45},qg=function(t){return t!=null&&typeof t!="boolean"},vd=k2(function(t){return M1(t)?t:t.replace(_2,"-$&").toLowerCase()}),Ug=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(D2,function(n,r,i){return ur={name:r,styles:i,next:ur},r})}return w2[t]!==1&&!M1(t)&&typeof e=="number"&&e!==0?e+"px":e};function Fa(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ur={name:n.name,styles:n.styles,next:ur},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ur={name:r.name,styles:r.styles,next:ur},r=r.next;var i=n.styles+";";return i}return x2(t,e,n)}case"function":{if(t!==void 0){var o=ur,s=n(t);return ur=o,Fa(t,e,s)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function x2(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Fa(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":qg(s)&&(r+=vd(o)+":"+Ug(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var a=0;a<s.length;a++)qg(s[a])&&(r+=vd(o)+":"+Ug(o,s[a])+";");else{var l=Fa(t,e,s);switch(o){case"animation":case"animationName":{r+=vd(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var Wg=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ur,Sd=function(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ur=void 0;var o=t[0];o==null||o.raw===void 0?(r=!1,i+=Fa(n,e,o)):i+=o[0];for(var s=1;s<t.length;s++)i+=Fa(n,e,t[s]),r&&(i+=o[s]);Wg.lastIndex=0;for(var a="",l;(l=Wg.exec(i))!==null;)a+="-"+l[1];var c=y2(i)+a;return{name:c,styles:i,next:ur}},C2=!0;function O1(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var v2=function(t,e,n){var r=t.key+"-"+e.name;(n===!1||C2===!1)&&t.registered[r]===void 0&&(t.registered[r]=e.styles)},S2=function(t,e,n){v2(t,e,n);var r=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var i=e;do t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function Hg(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function Gg(t,e,n){var r=[],i=O1(t,r,n);return r.length<2?n:i+e(r)}var E2=function(t){var e=g2(t);e.sheet.speedy=function(s){this.isSpeedy=s},e.compat=!0;var n=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var c=Sd(a,e.registered,void 0);return S2(e,c,!1),e.key+"-"+c.name},r=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var c=Sd(a,e.registered),u="animation-"+c.name;return Hg(e,{name:c.name,styles:"@keyframes "+u+"{"+c.styles+"}"}),u},i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var c=Sd(a,e.registered);Hg(e,c)},o=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return Gg(e.registered,n,A2(a))};return{css:n,cx:o,injectGlobal:i,keyframes:r,hydrate:function(s){s.forEach(function(a){e.inserted[a]=!0})},flush:function(){e.registered={},e.inserted={},e.sheet.flush()},sheet:e.sheet,cache:e,getRegisteredStyles:O1.bind(null,e.registered),merge:Gg.bind(null,e.registered,n)}},A2=function t(e){for(var n="",r=0;r<e.length;r++){var i=e[r];if(i!=null){var o=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))o=t(i);else{o="";for(var s in i)i[s]&&s&&(o&&(o+=" "),o+=s)}break}default:o=i}o&&(n&&(n+=" "),n+=o)}}return n};const F2=E2,T2=t=>F2(t),Ed=ie({key:"milkdown"},"EmotionConfig"),pi=ie({},"Emotion"),Fn=t=>ie(()=>null,t);var ei,ti,Mo,pc;class N1{constructor(){Vl(this,ei,Ru()),Vl(this,ti,new Map),Vl(this,Mo,new Set),Vl(this,pc,()=>{})}inject(e){e(vt(this,ei).sliceMap)}has(e){const n=typeof e=="string"?e:e.sliceName;return vt(this,ti).has(n)?!0:vt(this,ei).getSlice(e).get()(null)!=null}set(e,n){const r=typeof e=="string"?e:e.sliceName;vt(this,ti).set(r,n)}get(e,n){const r=typeof e=="string"?e:e.sliceName,i=vt(this,ti).get(r);return i&&(vt(this,ei).getSlice(e).set(i),vt(this,ti).delete(e)),vt(this,ei).getSlice(e).get()(n)}getSlice(e){const n=typeof e=="string"?e:e.sliceName,r=vt(this,ti).get(n);return r&&(vt(this,ei).getSlice(e).set(r),vt(this,ti).delete(e)),vt(this,ei).getSlice(e).get()}onFlush(e,n=!0){vt(this,Mo).has(e)||vt(this,Mo).add(e),n&&e()}async switch(e,n){e.get(pi).flush(),await n(e)(e),this.runExecutor(),vt(this,Mo).forEach(r=>r())}flush(e){e.get(pi).flush(),this.runExecutor(),vt(this,Mo).forEach(n=>n())}setExecutor(e){e(),b2(this,pc,e)}runExecutor(){vt(this,pc).call(this)}}ei=new WeakMap,ti=new WeakMap,Mo=new WeakMap,pc=new WeakMap;const Fe=ie(new N1,"themeManager"),M2=()=>new N1,kt=Fn("border"),qt=Fn("color"),Hn=Fn("font"),jp=Fn("global"),pt=Fn("icon"),O2=Fn("code-fence"),N2=Fn("image"),$2=Fn("inner-editor"),L2=Fn("input-chip"),I2=Fn("task-list-item"),Br=Fn("scrollbar"),Xn=Fn("shadow"),He=Fn("size"),$1=[qt,He,Hn,Br,Xn,kt,pt,jp,O2,N2,$2,I2,L2],R2=t=>{const e=/^([a-f\d])([a-f\d])([a-f\d])$/i,n=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,r=c=>parseInt(c,16),i=t.slice(1).replace(e,(c,u,d,f)=>u+u+d+d+f+f),[o,s="0",a="0",l="0"]=i.match(n)||[];return o?[s,a,l].map(r):null},er=t=>(e,n=1)=>t.get(qt,[e,n]);var B2=Object.defineProperty,P2=(t,e,n)=>e in t?B2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pt=(t,e,n)=>(P2(t,typeof e!="symbol"?e+"":e,n),n),j2=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},zo=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ci=(t,e,n)=>(j2(t,e,"access private method"),n);const L1=()=>{const t=n=>n.elements.length,e=n=>n.elements[t(n)-1];return{size:t,top:e,push:n=>r=>{var i;(i=e(n))==null||i.push(r)},open:n=>r=>{n.elements.push(r)},close:n=>{const r=n.elements.pop();if(!r)throw Yw();return r}}},z2=(t,e,...n)=>{t.content.push(e,...n)},V2=t=>t.content.pop(),q2=(t,e,n)=>{const r={type:t,content:e,attrs:n,push:(...i)=>z2(r,...i),pop:()=>V2(r)};return r},{size:U2,push:W2,top:H2,open:G2,close:K2}=L1(),Kg=t=>t.isText,J2=(t,e,n)=>{if(Kg(e)&&Kg(n)&&Ae.sameSet(e.marks,n.marks))return t.text(e.text+n.text,e.marks)},Y2=t=>(e,n)=>G2(t)(q2(e,[],n)),I1=t=>(e,n,r)=>{const i=e.createAndFill(n,r,t.marks);if(!i)throw Jv(e,n,r);return W2(t)(i),i},R1=t=>()=>{t.marks=Ae.none;const e=K2(t);return I1(t)(e.type,e.attrs,e.content)},X2=t=>(e,n)=>{const r=e.create(n);t.marks=r.addToSet(t.marks)},Q2=t=>e=>{t.marks=e.removeFromSet(t.marks)},Z2=t=>e=>{const n=H2(t);if(!n)throw Yw();const r=n.pop(),i=t.schema.text(e,t.marks);if(!r){n.push(i);return}const o=J2(t.schema,r,i);if(o){n.push(o);return}n.push(r,i)},eE=t=>()=>{let e;do e=R1(t)();while(U2(t));return e},tE=t=>{const e={marks:[],elements:[],schema:t};return{build:eE(e),openMark:X2(e),closeMark:Q2(e),addText:Z2(e),openNode:Y2(e),addNode:I1(e),closeNode:R1(e)}};var df,Jg,hf,B1;class nE{constructor(e,n,r){zo(this,df),zo(this,hf),Pt(this,"run",(i,o)=>{const s=i.runSync(i.parse(o),o);return this.next(s),this}),Pt(this,"next",(i=[])=>([i].flat().forEach(o=>ci(this,hf,B1).call(this,o)),this)),Pt(this,"toDoc",()=>this.stack.build()),Pt(this,"injectRoot",(i,o,s)=>(this.stack.openNode(o,s),this.next(i.children),this)),Pt(this,"addText",(i="")=>(this.stack.addText(i),this)),Pt(this,"addNode",(...i)=>(this.stack.addNode(...i),this)),Pt(this,"openNode",(...i)=>(this.stack.openNode(...i),this)),Pt(this,"closeNode",(...i)=>(this.stack.closeNode(...i),this)),Pt(this,"openMark",(...i)=>(this.stack.openMark(...i),this)),Pt(this,"closeMark",(...i)=>(this.stack.closeMark(...i),this)),this.stack=e,this.schema=n,this.specMap=r}}df=new WeakSet,Jg=function(t){const e=Object.values(this.specMap).find(n=>n.match(t));if(!e)throw Yv(t);return e},hf=new WeakSet,B1=function(t){const{key:e,runner:n,is:r}=ci(this,df,Jg).call(this,t),i=this.schema[r==="node"?"nodes":"marks"][e];n(this,t,i)};const rE=(t,e,n)=>{const r=new nE(tE(t),t,e);return i=>(r.run(n,i),r.toDoc())},iE=(t,e,...n)=>{t.children||(t.children=[]),t.children.push(e,...n)},oE=t=>{var e;return(e=t.children)==null?void 0:e.pop()},P1=(t,e,n,r={})=>{const i={type:t,children:e,props:r,value:n,push:(...o)=>iE(i,...o),pop:()=>oE(i)};return i},{size:sE,push:aE,open:lE,close:cE}=L1(),uE=(t,e)=>{var n;if(t.type===e||((n=t.children)==null?void 0:n.length)!==1)return t;const r=a=>{var l;if(a.type===e)return a;if(((l=a.children)==null?void 0:l.length)!==1)return null;const[c]=a.children;return c?r(c):null},i=r(t);if(!i)return t;const o=i.children?[...i.children]:void 0,s={...t,children:o};return s.children=o,i.children=[s],i},j1=t=>{const{children:e}=t;return e&&(t.children=e.reduce((n,r,i)=>{if(i===0)return[r];const o=n[n.length-1];if(o&&o.isMark&&r.isMark){r=uE(r,o.type);const{children:s,...a}=r,{children:l,...c}=o;if(r.type===o.type&&s&&l&&JSON.stringify(a)===JSON.stringify(c)){const u={...c,children:[...l,...s]};return n.slice(0,-1).concat(j1(u))}}return n.concat(r)},[])),t},dE=t=>{const e={...t.props,type:t.type};return t.children&&(e.children=t.children),t.value&&(e.value=t.value),e},z1=t=>(e,n,r)=>lE(t)(P1(e,[],n,r)),V1=t=>(e,n,r,i)=>{const o=P1(e,n,r,i),s=j1(dE(o));return aE(t)(s),s},zp=t=>()=>{const e=cE(t);return V1(t)(e.type,e.children,e.value,e.props)},hE=t=>(e,n,r,i)=>{e.isInSet(t.marks)||(t.marks=e.addToSet(t.marks),z1(t)(n,r,{...i,isMark:!0}))},fE=t=>e=>e.isInSet(t.marks)?(t.marks=e.type.removeFromSet(t.marks),zp(t)()):null,pE=t=>()=>{let e=null;do e=zp(t)();while(sE(t));return e},mE=()=>{const t={marks:[],elements:[]};return{build:pE(t),openMark:hE(t),closeMark:fE(t),openNode:z1(t),addNode:V1(t),closeNode:zp(t)}},gE=t=>Object.prototype.hasOwnProperty.call(t,"size");var mc,Ad,ff,Yg,pf,Xg,gc,mf;class bE{constructor(e,n,r){zo(this,mc),zo(this,ff),zo(this,pf),zo(this,gc),Pt(this,"toString",i=>i.stringify(this.stack.build())),Pt(this,"next",i=>gE(i)?(i.forEach(o=>{ci(this,gc,mf).call(this,o)}),this):(ci(this,gc,mf).call(this,i),this)),Pt(this,"addNode",(...i)=>(this.stack.addNode(...i),this)),Pt(this,"openNode",(...i)=>(this.stack.openNode(...i),this)),Pt(this,"closeNode",(...i)=>(this.stack.closeNode(...i),this)),Pt(this,"withMark",(...i)=>(this.stack.openMark(...i),this)),this.stack=e,this.schema=n,this.specMap=r}run(e){return this.next(e),this}}mc=new WeakSet,Ad=function(t){const e=Object.entries(this.specMap).map(([n,r])=>({key:n,...r})).find(n=>n.match(t));if(!e)throw Xv(t.type);return e},ff=new WeakSet,Yg=function(t){const{runner:e}=ci(this,mc,Ad).call(this,t);e(this,t)},pf=new WeakSet,Xg=function(t,e){const{runner:n}=ci(this,mc,Ad).call(this,t);return n(this,t,e)},gc=new WeakSet,mf=function(t){const{marks:e}=t,n=r=>{var i;return(i=r.type.spec.priority)!=null?i:50};[...e].sort((r,i)=>n(r)-n(i)).every(r=>!ci(this,pf,Xg).call(this,r,t))&&ci(this,ff,Yg).call(this,t),e.forEach(r=>this.stack.closeMark(r))};const yE=(t,e,n)=>r=>{const i=new bE(mE(),t,e);return i.run(r),i.toString(n)},q1=65535,U1=Math.pow(2,16);function wE(t,e){return t+e*U1}function Qg(t){return t&q1}function kE(t){return(t-(t&q1))/U1}const W1=1,H1=2,bc=4,G1=8;class gf{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&G1)>0}get deletedBefore(){return(this.delInfo&(W1|bc))>0}get deletedAfter(){return(this.delInfo&(H1|bc))>0}get deletedAcross(){return(this.delInfo&bc)>0}}class _n{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&_n.empty)return _n.empty}recover(e){let n=0,r=Qg(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+kE(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,h=l+i+(f<0?0:u);if(r)return h;let p=e==(n<0?l:d)?null:wE(a/3,e-l),m=e==l?H1:e==d?W1:bc;return(n<0?e!=l:e!=d)&&(m|=G1),new gf(h,m,p)}i+=u-c}return r?e+i:new gf(e+i,0,null)}touches(e,n){let r=0,i=Qg(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),o+=u-c}}invert(){return new _n(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?_n.empty:new _n(e<0?[0,-e,0]:[0,0,e])}}_n.empty=new _n([]);class Yo{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Yo(this.maps,this.mirror,e,n)}copy(){return new Yo(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Yo;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new gf(e,i,null)}}const Fd=Object.create(null);class bn{getMap(){return _n.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Fd[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Fd)throw new RangeError("Duplicate use of step JSON ID "+e);return Fd[e]=n,n.prototype.jsonID=e,n}}class bt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new bt(e,null)}static fail(e){return new bt(null,e)}static fromReplace(e,n,r,i){try{return bt.ok(e.replace(n,r,i))}catch(o){if(o instanceof Kc)return bt.fail(o.message);throw o}}}function Vp(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Vp(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return z.fromArray(r)}class Rr extends bn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new K(Vp(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return bt.fromReplace(e,this.from,this.to,o)}invert(){return new gr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Rr(n.pos,r.pos,this.mark)}merge(e){return e instanceof Rr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Rr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Rr(n.from,n.to,e.markFromJSON(n.mark))}}bn.jsonID("addMark",Rr);class gr extends bn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new K(Vp(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return bt.fromReplace(e,this.from,this.to,r)}invert(){return new Rr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new gr(n.pos,r.pos,this.mark)}merge(e){return e instanceof gr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new gr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new gr(n.from,n.to,e.markFromJSON(n.mark))}}bn.jsonID("removeMark",gr);class ui extends bn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return bt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return bt.fromReplace(e,this.pos,this.pos+1,new K(z.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new ui(this.pos,n.marks[i]);return new ui(this.pos,this.mark)}}return new ys(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ui(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ui(n.pos,e.markFromJSON(n.mark))}}bn.jsonID("addNodeMark",ui);class ys extends bn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return bt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return bt.fromReplace(e,this.pos,this.pos+1,new K(z.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ui(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ys(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ys(n.pos,e.markFromJSON(n.mark))}}bn.jsonID("removeNodeMark",ys);class Ut extends bn{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&bf(e,this.from,this.to)?bt.fail("Structure replace would overwrite content"):bt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new _n([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ut(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Ut(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Ut)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?K.empty:new K(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ut(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?K.empty:new K(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ut(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ut(n.from,n.to,K.fromJSON(e,n.slice),!!n.structure)}}bn.jsonID("replace",Ut);class Gt extends bn{constructor(e,n,r,i,o,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(bf(e,this.from,this.gapFrom)||bf(e,this.gapTo,this.to)))return bt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return bt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?bt.fromReplace(e,this.from,this.to,r):bt.fail("Content does not fit in gap")}getMap(){return new _n([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Gt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Gt(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Gt(n.from,n.to,n.gapFrom,n.gapTo,K.fromJSON(e,n.slice),n.insert,!!n.structure)}}bn.jsonID("replaceAround",Gt);function bf(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function _E(t,e,n,r){let i=[],o=[],s,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),h=Math.min(c+l.nodeSize,n),p=r.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(p)||(s&&s.to==f&&s.mark.eq(d[m])?s.to=h:i.push(s=new gr(f,h,d[m])));a&&a.to==f?a.to=h:o.push(a=new Rr(f,h,r))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function DE(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof Iu){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let h=0;h<i.length;h++){let p=i[h];p.step==o-1&&d.eq(i[h].style)&&(f=p)}f?(f.to=c,f.step=o):i.push({style:d,from:Math.max(a,e),to:c,step:o})}}}),i.forEach(s=>t.step(new gr(s.from,s.to,s.style)))}function xE(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],s=e+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),c=s+l.nodeSize,u=r.matchType(l.type);if(!u)o.push(new Ut(s,c,K.empty));else{r=u;for(let d=0;d<l.marks.length;d++)n.allowsMarkType(l.marks[d].type)||t.step(new gr(s,c,l.marks[d]))}s=c}if(!r.validEnd){let a=r.fillBefore(z.empty,!0);t.replace(s,s,new K(a,0,0))}for(let a=o.length-1;a>=0;a--)t.step(o[a])}function CE(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function zu(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!CE(i,o,s))break}return null}function vE(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=z.empty,d=0;for(let p=o,m=!1;p>n;p--)m||r.index(p)>0?(m=!0,u=z.from(r.node(p).copy(u)),d++):l--;let f=z.empty,h=0;for(let p=o,m=!1;p>n;p--)m||i.after(p+1)<i.end(p)?(m=!0,f=z.from(i.node(p).copy(f)),h++):c++;t.step(new Gt(l,c,s,a,new K(u.append(f),d,h),u.size-d,!0))}function K1(t,e,n=null,r=t){let i=SE(t,e),o=i&&EE(r,e);return o?i.map(Zg).concat({type:e,attrs:n}).concat(o.map(Zg)):null}function Zg(t){return{type:t,attrs:null}}function SE(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function EE(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function AE(t,e,n){let r=z.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=z.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Gt(i,o,i,o,new K(r,0,0),n.length,!0))}function FE(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&TE(t.doc,t.mapping.slice(o).map(a),r)){t.clearIncompatible(t.mapping.slice(o).map(a,1),r);let l=t.mapping.slice(o),c=l.map(a,1),u=l.map(a+s.nodeSize,1);return t.step(new Gt(c,u,c+1,u-1,new K(z.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function TE(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function ME(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Gt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new K(z.from(s),0,0),1,!0))}function da(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[u]||d;if(p!=d&&(h=h.replaceChild(0,p.type.create(p.attrs))),!d.canReplace(f+1,d.childCount)||!p.type.validContent(h))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function OE(t,e,n=1,r){let i=t.doc.resolve(e),o=z.empty,s=z.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){o=z.from(i.node(a).copy(o));let u=r&&r[c];s=z.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}t.step(new Ut(e,e,new K(o.append(s),n,n),!0))}function Vu(t,e){let n=t.resolve(e),r=n.index();return NE(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function NE(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function $E(t,e,n){let r=new Ut(e-n,e+n,K.empty,!0);t.step(r)}function LE(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function qp(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function Up(t,e,n=e,r=K.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return J1(i,o,r)?new Ut(e,n,r):new IE(i,o,r).fit()}function J1(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class IE{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=z.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=z.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new K(o,s,a);return e>-1?new Gt(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Ut(r.pos,i.pos,l):null}findFittable(){for(let e=1;e<=2;e++)for(let n=this.unplaced.openStart;n>=0;n--){let r,i=null;n?(i=Td(this.unplaced.content,n-1).firstChild,r=i.content):r=this.unplaced.content;let o=r.firstChild;for(let s=this.depth;s>=0;s--){let{type:a,match:l}=this.frontier[s],c,u=null;if(e==1&&(o?l.matchType(o.type)||(u=l.fillBefore(z.from(o),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:s,parent:i,inject:u};if(e==2&&o&&(c=l.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:s,parent:i,wrap:c};if(i&&l.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Td(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new K(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Td(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new K(Ks(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new K(Ks(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let m=0;m<o.length;m++)this.openFrontierNode(o[m]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)u.push(i.child(m));d=d.matchFragment(i)}let h=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let m=a.child(c),g=d.matchType(m.type);if(!g)break;c++,(c>1||l==0||m.content.size)&&(d=g,u.push(Y1(m.mark(f.allowedMarks(m.marks)),c==1?l:0,c==a.childCount?h:-1)))}let p=c==a.childCount;p||(h=-1),this.placed=Js(this.placed,n,z.from(u)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,g=a;m<h;m++){let b=g.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),g=b.content}this.unplaced=p?e==0?K.empty:new K(Ks(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new K(Ks(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Md(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Md(e,n,i,r,o);if(!!s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Md(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Js(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Js(this.placed,this.depth,z.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(z.empty,!0);n.childCount&&(this.placed=Js(this.placed,this.frontier.length,n))}}function Ks(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Ks(t.firstChild.content,e-1,n)))}function Js(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Js(t.lastChild.content,e-1,n)))}function Td(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Y1(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Y1(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(z.empty,!0)))),t.copy(r)}function Md(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!RE(n,o.content,s)?a:null}function RE(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function BE(t){return t.spec.defining||t.spec.definingForContent}function PE(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(J1(i,o,r))return t.step(new Ut(e,n,r));let s=Q1(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;s.indexOf(f)>-1?a=f:i.before(f)==h&&s.splice(1,0,-f)}let l=s.indexOf(a),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(c.push(p),h==r.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=c[f].type,p=BE(h);if(p&&i.node(l).type!=h)u=f;else if(p||!h.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),p=c[h];if(!!p)for(let m=0;m<s.length;m++){let g=s[(m+l)%s.length],b=!0;g<0&&(b=!1,g=-g);let _=i.node(g-1),w=i.index(g-1);if(_.canReplaceWith(w,w,p.type,p.marks))return t.replace(i.before(g),b?o.after(g):n,new K(X1(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=s[f];h<0||(e=i.before(h),n=o.after(h))}}function X1(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(X1(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(z.empty,!0))}return t}function jE(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=LE(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new K(z.from(r),0,0))}function zE(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=Q1(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function Q1(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class Xo extends bn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return bt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return bt.fromReplace(e,this.pos,this.pos+1,new K(z.from(i),0,n.isLeaf?0:1))}getMap(){return _n.empty}invert(e){return new Xo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Xo(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Xo(n.pos,n.attr,n.value)}}bn.jsonID("attr",Xo);let ws=class extends Error{};ws=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};ws.prototype=Object.create(Error.prototype);ws.prototype.constructor=ws;ws.prototype.name="TransformError";class Z1{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Yo}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new ws(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=K.empty){let i=Up(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new K(z.from(r),0,0))}delete(e,n){return this.replace(e,n,K.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return PE(this,e,n,r),this}replaceRangeWith(e,n,r){return jE(this,e,n,r),this}deleteRange(e,n){return zE(this,e,n),this}lift(e,n){return vE(this,e,n),this}join(e,n=1){return $E(this,e,n),this}wrap(e,n){return AE(this,e,n),this}setBlockType(e,n=e,r,i=null){return FE(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i=[]){return ME(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Xo(e,n,r)),this}addNodeMark(e,n){return this.step(new ui(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Ae)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new ys(e,n)),this}split(e,n=1,r){return OE(this,e,n,r),this}addMark(e,n,r){return _E(this,e,n,r),this}removeMark(e,n,r){return DE(this,e,n,r),this}clearIncompatible(e,n,r){return xE(this,e,n,r),this}}const Od=Object.create(null);class ae{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new ek(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=K.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),a?K.empty:n),a==0&&n0(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),n0(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new le(e):Oo(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?Oo(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Oo(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new xn(e.node(0))}static atStart(e){return Oo(e,e,0,0,1)||new xn(e)}static atEnd(e){return Oo(e,e,e.content.size,e.childCount,-1)||new xn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Od[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Od)throw new RangeError("Duplicate use of selection JSON ID "+e);return Od[e]=n,n.prototype.jsonID=e,n}getBookmark(){return le.between(this.$anchor,this.$head).getBookmark()}}ae.prototype.visible=!0;class ek{constructor(e,n){this.$from=e,this.$to=n}}let e0=!1;function t0(t){!e0&&!t.parent.inlineContent&&(e0=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class le extends ae{constructor(e,n=e){t0(e),t0(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return ae.near(r);let i=e.resolve(n.map(this.anchor));return new le(i.parent.inlineContent?i:r,r)}replace(e,n=K.empty){if(super.replace(e,n),n==K.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof le&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new qu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new le(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=ae.findFrom(n,r,!0)||ae.findFrom(n,-r,!0);if(o)n=o.$head;else return ae.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(ae.findFrom(e,-r,!0)||ae.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new le(e,n)}}ae.jsonID("text",le);class qu{constructor(e,n){this.anchor=e,this.head=n}map(e){return new qu(e.map(this.anchor),e.map(this.head))}resolve(e){return le.between(e.resolve(this.anchor),e.resolve(this.head))}}class re extends ae{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?ae.near(o):new re(o)}content(){return new K(z.from(this.node),0,0)}eq(e){return e instanceof re&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Wp(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new re(e.resolve(n.anchor))}static create(e,n){return new re(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}re.prototype.visible=!1;ae.jsonID("node",re);class Wp{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new qu(r,r):new Wp(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&re.isSelectable(r)?new re(n):ae.near(n)}}class xn extends ae{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=K.empty){if(n==K.empty){e.delete(0,e.doc.content.size);let r=ae.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new xn(e)}map(e){return new xn(e)}eq(e){return e instanceof xn}getBookmark(){return VE}}ae.jsonID("all",xn);const VE={map(){return this},resolve(t){return new xn(t)}};function Oo(t,e,n,r,i,o=!1){if(e.inlineContent)return le.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&re.isSelectable(a))return re.create(t,n-(i<0?a.nodeSize:0))}else{let l=Oo(t,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function n0(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Ut||i instanceof Gt))return;let o=t.mapping.maps[r],s;o.forEach((a,l,c,u)=>{s==null&&(s=u)}),t.setSelection(ae.near(t.doc.resolve(s),n))}const r0=1,ql=2,i0=4;class qE extends Z1{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|r0)&~ql,this.storedMarks=null,this}get selectionSet(){return(this.updated&r0)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ql,this}ensureMarks(e){return Ae.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ql)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~ql,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ae.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r==null?n:r,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(ae.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=i0,this}get scrolledIntoView(){return(this.updated&i0)>0}}function o0(t,e){return!e||!t?t:t.bind(e)}class Ys{constructor(e,n,r){this.name=e,this.init=o0(n.init,r),this.apply=o0(n.apply,r)}}const UE=[new Ys("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Ys("selection",{init(t,e){return t.selection||ae.atStart(e.doc)},apply(t){return t.selection}}),new Ys("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Ys("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Nd{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=UE.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ys(r.key,r.spec.state,r))})}}class di{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new di(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new qE(this)}static create(e){let n=new Nd(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new di(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Nd(this.schema,e.plugins),r=n.fields,i=new di(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Nd(e.schema,e.plugins),o=new di(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=fn.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=ae.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=c.fromJSON.call(l,e,n[a],o);return}}o[s.name]=s.init(e,o)}}),o}}function tk(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=tk(i,e,{})),n[r]=i}return n}class De{constructor(e){this.spec=e,this.props={},e.props&&tk(e.props,this,this.props),this.key=e.key?e.key.key:nk("plugin")}getState(e){return e[this.key]}}const $d=Object.create(null);function nk(t){return t in $d?t+"$"+ ++$d[t]:($d[t]=0,t+"$")}class Se{constructor(e="key"){this.key=nk(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}function Hp(t,e){var{includeImageAlt:n=!0}=e||{};return rk(t,n)}function rk(t,e){return t&&typeof t=="object"&&(t.value||(e?t.alt:"")||"children"in t&&s0(t.children,e)||Array.isArray(t)&&s0(t,e))||""}function s0(t,e){for(var n=[],r=-1;++r<t.length;)n[r]=rk(t[r],e);return n.join("")}function Cn(t,e,n,r){const i=t.length;let o=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),[].splice.apply(t,s);else for(n&&[].splice.apply(t,[e,n]);o<r.length;)s=r.slice(o,o+1e4),s.unshift(e,0),[].splice.apply(t,s),o+=1e4,e+=1e4}function Nn(t,e){return t.length>0?(Cn(t,t.length,0,e),t):e}const a0={}.hasOwnProperty;function ik(t){const e={};let n=-1;for(;++n<t.length;)WE(e,t[n]);return e}function WE(t,e){let n;for(n in e){const i=(a0.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let s;for(s in o){a0.call(i,s)||(i[s]=[]);const a=o[s];HE(i[s],Array.isArray(a)?a:a?[a]:[])}}}function HE(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Cn(t,0,0,r)}const GE=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Yt=Mi(/[A-Za-z]/),tu=Mi(/\d/),KE=Mi(/[\dA-Fa-f]/),Wt=Mi(/[\dA-Za-z]/),JE=Mi(/[!-/:-@[-`{-~]/),l0=Mi(/[#-'*+\--9=?A-Z^-~]/);function Ta(t){return t!==null&&(t<32||t===127)}function Ie(t){return t!==null&&(t<0||t===32)}function X(t){return t!==null&&t<-2}function ye(t){return t===-2||t===-1||t===32}const Uu=Mi(/\s/),Wu=Mi(GE);function Mi(t){return e;function e(n){return n!==null&&t.test(String.fromCharCode(n))}}function se(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return ye(l)?(t.enter(n),a(l)):e(l)}function a(l){return ye(l)&&o++<i?(t.consume(l),a):(t.exit(n),e(l))}}const YE={tokenize:XE};function XE(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),se(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),o(a)}function o(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return X(a)?(t.consume(a),t.exit("chunkText"),o):(t.consume(a),s)}}const QE={tokenize:ZE},c0={tokenize:eA};function ZE(t){const e=this,n=[];let r=0,i,o,s;return a;function a(w){if(r<n.length){const x=n[r];return e.containerState=x[1],t.attempt(x[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&_();const x=e.events.length;let k=x,y;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){y=e.events[k][1].end;break}b(r);let D=x;for(;D<e.events.length;)e.events[D][1].end=Object.assign({},y),D++;return Cn(e.events,k+1,0,e.events.slice(x)),e.events.length=D,c(w)}return a(w)}function c(w){if(r===n.length){if(!i)return f(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);e.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(c0,u,d)(w)}function u(w){return i&&_(),b(r),f(w)}function d(w){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,p(w)}function f(w){return e.containerState={},t.attempt(c0,h,p)(w)}function h(w){return r++,n.push([e.currentConstruct,e.containerState]),f(w)}function p(w){if(w===null){i&&_(),b(0),t.consume(w);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),m(w)}function m(w){if(w===null){g(t.exit("chunkFlow"),!0),b(0),t.consume(w);return}return X(w)?(t.consume(w),g(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(w),m)}function g(w,x){const k=e.sliceStream(w);if(x&&k.push(null),w.previous=o,o&&(o.next=w),o=w,i.defineSkip(w.start),i.write(k),e.parser.lazy[w.start.line]){let y=i.events.length;for(;y--;)if(i.events[y][1].start.offset<s&&(!i.events[y][1].end||i.events[y][1].end.offset>s))return;const D=e.events.length;let S=D,F,O;for(;S--;)if(e.events[S][0]==="exit"&&e.events[S][1].type==="chunkFlow"){if(F){O=e.events[S][1].end;break}F=!0}for(b(r),y=D;y<e.events.length;)e.events[y][1].end=Object.assign({},O),y++;Cn(e.events,S+1,0,e.events.slice(D)),e.events.length=y}}function b(w){let x=n.length;for(;x-- >w;){const k=n[x];e.containerState=k[1],k[0].exit.call(e,t)}n.length=w}function _(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function eA(t,e,n){return se(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function nu(t){if(t===null||Ie(t)||Uu(t))return 1;if(Wu(t))return 2}function Hu(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const yf={name:"attention",tokenize:nA,resolveAll:tA};function tA(t,e){let n=-1,r,i,o,s,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d=Object.assign({},t[r][1].end),f=Object.assign({},t[n][1].start);u0(d,-l),u0(f,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},t[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:f},o={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},a.end)},t[r][1].end=Object.assign({},s.start),t[n][1].start=Object.assign({},a.end),c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Nn(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Nn(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",o,e]]),c=Nn(c,Hu(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Nn(c,[["exit",o,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=Nn(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,Cn(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function nA(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=nu(r);let o;return s;function s(l){return t.enter("attentionSequence"),o=l,a(l)}function a(l){if(l===o)return t.consume(l),a;const c=t.exit("attentionSequence"),u=nu(l),d=!u||u===2&&i||n.includes(l),f=!i||i===2&&u||n.includes(r);return c._open=Boolean(o===42?d:d&&(i||!f)),c._close=Boolean(o===42?f:f&&(u||!d)),e(l)}}function u0(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const rA={name:"autolink",tokenize:iA};function iA(t,e,n){let r=1;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(p){return Yt(p)?(t.consume(p),s):l0(p)?c(p):n(p)}function s(p){return p===43||p===45||p===46||Wt(p)?a(p):c(p)}function a(p){return p===58?(t.consume(p),l):(p===43||p===45||p===46||Wt(p))&&r++<32?(t.consume(p),a):c(p)}function l(p){return p===62?(t.exit("autolinkProtocol"),h(p)):p===null||p===32||p===60||Ta(p)?n(p):(t.consume(p),l)}function c(p){return p===64?(t.consume(p),r=0,u):l0(p)?(t.consume(p),c):n(p)}function u(p){return Wt(p)?d(p):n(p)}function d(p){return p===46?(t.consume(p),r=0,u):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",h(p)):f(p)}function f(p){return(p===45||Wt(p))&&r++<63?(t.consume(p),p===45?f:d):n(p)}function h(p){return t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e}}const ul={tokenize:oA,partial:!0};function oA(t,e,n){return se(t,r,"linePrefix");function r(i){return i===null||X(i)?e(i):n(i)}}const ok={name:"blockQuote",tokenize:sA,continuation:{tokenize:aA},exit:lA};function sA(t,e,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),o}return n(s)}function o(s){return ye(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function aA(t,e,n){return se(t,t.attempt(ok,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function lA(t){t.exit("blockQuote")}const sk={name:"characterEscape",tokenize:cA};function cA(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return JE(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const d0=document.createElement("i");function Ma(t){const e="&"+t+";";d0.innerHTML=e;const n=d0.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const ak={name:"characterReference",tokenize:uA};function uA(t,e,n){const r=this;let i=0,o,s;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),o=31,s=Wt,u(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,s=KE,u):(t.enter("characterReferenceValue"),o=7,s=tu,u(d))}function u(d){let f;return d===59&&i?(f=t.exit("characterReferenceValue"),s===Wt&&!Ma(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)):s(d)&&i++<o?(t.consume(d),u):n(d)}}const wf={name:"codeFenced",tokenize:dA,concrete:!0};function dA(t,e,n){const r=this,i={tokenize:k,partial:!0},o={tokenize:x,partial:!0},s=this.events[this.events.length-1],a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0;let l=0,c;return u;function u(y){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c=y,d(y)}function d(y){return y===c?(t.consume(y),l++,d):(t.exit("codeFencedFenceSequence"),l<3?n(y):se(t,f,"whitespace")(y))}function f(y){return y===null||X(y)?g(y):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===null||Ie(y)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),se(t,p,"whitespace")(y)):y===96&&y===c?n(y):(t.consume(y),h)}function p(y){return y===null||X(y)?g(y):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||X(y)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(y)):y===96&&y===c?n(y):(t.consume(y),m)}function g(y){return t.exit("codeFencedFence"),r.interrupt?e(y):b(y)}function b(y){return y===null?w(y):X(y)?t.attempt(o,t.attempt(i,w,a?se(t,b,"linePrefix",a+1):b),w)(y):(t.enter("codeFlowValue"),_(y))}function _(y){return y===null||X(y)?(t.exit("codeFlowValue"),b(y)):(t.consume(y),_)}function w(y){return t.exit("codeFenced"),e(y)}function x(y,D,S){const F=this;return O;function O(N){return y.enter("lineEnding"),y.consume(N),y.exit("lineEnding"),E}function E(N){return F.parser.lazy[F.now().line]?S(N):D(N)}}function k(y,D,S){let F=0;return se(y,O,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function O(I){return y.enter("codeFencedFence"),y.enter("codeFencedFenceSequence"),E(I)}function E(I){return I===c?(y.consume(I),F++,E):F<l?S(I):(y.exit("codeFencedFenceSequence"),se(y,N,"whitespace")(I))}function N(I){return I===null||X(I)?(y.exit("codeFencedFence"),D(I)):S(I)}}}const Ld={name:"codeIndented",tokenize:fA},hA={tokenize:pA,partial:!0};function fA(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),se(t,o,"linePrefix",4+1)(c)}function o(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):X(c)?t.attempt(hA,s,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||X(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function pA(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):X(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):se(t,o,"linePrefix",4+1)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):X(s)?i(s):n(s)}}const mA={name:"codeText",tokenize:yA,resolve:gA,previous:bA};function gA(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function bA(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function yA(t,e,n){let r=0,i,o;return s;function s(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===96?(o=t.enter("codeTextSequence"),i=0,u(d)):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):X(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||X(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),c)}function u(d){return d===96?(t.consume(d),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(o.type="codeTextData",c(d))}}function lk(t){const e={};let n=-1,r,i,o,s,a,l,c;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,wA(t,n)),n=e[n],c=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(s=t[o],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},t[i][1].start),a=t.slice(i,n),a.unshift(r),Cn(t,i,n-i+1,a))}}return!c}function wA(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const o=[],s=n._tokenizer||r.parser[n.contentType](n.start),a=s.events,l=[],c={};let u,d,f=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;t[++i][1]!==h;);o.push(i),h._tokenizer||(u=r.sliceStream(h),h.next||u.push(null),d&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),f=g.length;f--;){const b=a.slice(g[f],g[f+1]),_=o.pop();l.unshift([_,_+b.length-1]),Cn(t,_,2,b)}for(f=-1;++f<l.length;)c[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return c}const kA={tokenize:xA,resolve:DA},_A={tokenize:CA,partial:!0};function DA(t){return lk(t),t}function xA(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):X(a)?t.check(_A,s,o)(a):(t.consume(a),i)}function o(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function s(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function CA(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),se(t,o,"linePrefix")}function o(s){if(s===null||X(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function ck(t,e,n,r,i,o,s,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(b){return b===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(b),t.exit(o),f):b===null||b===41||Ta(b)?n(b):(t.enter(r),t.enter(s),t.enter(a),t.enter("chunkString",{contentType:"string"}),m(b))}function f(b){return b===62?(t.enter(o),t.consume(b),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===62?(t.exit("chunkString"),t.exit(a),f(b)):b===null||b===60||X(b)?n(b):(t.consume(b),b===92?p:h)}function p(b){return b===60||b===62||b===92?(t.consume(b),h):h(b)}function m(b){return b===40?++u>c?n(b):(t.consume(b),m):b===41?u--?(t.consume(b),m):(t.exit("chunkString"),t.exit(a),t.exit(s),t.exit(r),e(b)):b===null||Ie(b)?u?n(b):(t.exit("chunkString"),t.exit(a),t.exit(s),t.exit(r),e(b)):Ta(b)?n(b):(t.consume(b),b===92?g:m)}function g(b){return b===40||b===41||b===92?(t.consume(b),m):m(b)}}function uk(t,e,n,r,i,o){const s=this;let a=0,l;return c;function c(h){return t.enter(r),t.enter(i),t.consume(h),t.exit(i),t.enter(o),u}function u(h){return h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs||a>999?n(h):h===93?(t.exit(o),t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):X(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||X(h)||a++>999?(t.exit("chunkString"),u(h)):(t.consume(h),l=l||!ye(h),h===92?f:d)}function f(h){return h===91||h===92||h===93?(t.consume(h),a++,d):d(h)}}function dk(t,e,n,r,i,o){let s;return a;function a(f){return t.enter(r),t.enter(i),t.consume(f),t.exit(i),s=f===40?41:f,l}function l(f){return f===s?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(o),c(f))}function c(f){return f===s?(t.exit(o),l(s)):f===null?n(f):X(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),se(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===s||f===null||X(f)?(t.exit("chunkString"),c(f)):(t.consume(f),f===92?d:u)}function d(f){return f===s||f===92?(t.consume(f),u):u(f)}}function dr(t,e){let n;return r;function r(i){return X(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):ye(i)?se(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}function Gn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const vA={name:"definition",tokenize:EA},SA={tokenize:AA,partial:!0};function EA(t,e,n){const r=this;let i;return o;function o(l){return t.enter("definition"),uk.call(r,t,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function s(l){return i=Gn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(t.enter("definitionMarker"),t.consume(l),t.exit("definitionMarker"),dr(t,ck(t,t.attempt(SA,se(t,a,"whitespace"),se(t,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(l)}function a(l){return l===null||X(l)?(t.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(l)):n(l)}}function AA(t,e,n){return r;function r(s){return Ie(s)?dr(t,i)(s):n(s)}function i(s){return s===34||s===39||s===40?dk(t,se(t,o,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s):n(s)}function o(s){return s===null||X(s)?e(s):n(s)}}const FA={name:"hardBreakEscape",tokenize:TA};function TA(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(o),i}function i(o){return X(o)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),e(o)):n(o)}}const MA={name:"headingAtx",tokenize:NA,resolve:OA};function OA(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Cn(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function NA(t,e,n){const r=this;let i=0;return o;function o(u){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),s(u)}function s(u){return u===35&&i++<6?(t.consume(u),s):u===null||Ie(u)?(t.exit("atxHeadingSequence"),r.interrupt?e(u):a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||X(u)?(t.exit("atxHeading"),e(u)):ye(u)?se(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||Ie(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const $A=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],h0=["pre","script","style","textarea"],LA={name:"htmlFlow",tokenize:BA,resolveTo:RA,concrete:!0},IA={tokenize:PA,partial:!0};function RA(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function BA(t,e,n){const r=this;let i,o,s,a,l;return c;function c(C){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(C),u}function u(C){return C===33?(t.consume(C),d):C===47?(t.consume(C),p):C===63?(t.consume(C),i=3,r.interrupt?e:A):Yt(C)?(t.consume(C),s=String.fromCharCode(C),o=!0,m):n(C)}function d(C){return C===45?(t.consume(C),i=2,f):C===91?(t.consume(C),i=5,s="CDATA[",a=0,h):Yt(C)?(t.consume(C),i=4,r.interrupt?e:A):n(C)}function f(C){return C===45?(t.consume(C),r.interrupt?e:A):n(C)}function h(C){return C===s.charCodeAt(a++)?(t.consume(C),a===s.length?r.interrupt?e:E:h):n(C)}function p(C){return Yt(C)?(t.consume(C),s=String.fromCharCode(C),m):n(C)}function m(C){return C===null||C===47||C===62||Ie(C)?C!==47&&o&&h0.includes(s.toLowerCase())?(i=1,r.interrupt?e(C):E(C)):$A.includes(s.toLowerCase())?(i=6,C===47?(t.consume(C),g):r.interrupt?e(C):E(C)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):o?_(C):b(C)):C===45||Wt(C)?(t.consume(C),s+=String.fromCharCode(C),m):n(C)}function g(C){return C===62?(t.consume(C),r.interrupt?e:E):n(C)}function b(C){return ye(C)?(t.consume(C),b):F(C)}function _(C){return C===47?(t.consume(C),F):C===58||C===95||Yt(C)?(t.consume(C),w):ye(C)?(t.consume(C),_):F(C)}function w(C){return C===45||C===46||C===58||C===95||Wt(C)?(t.consume(C),w):x(C)}function x(C){return C===61?(t.consume(C),k):ye(C)?(t.consume(C),x):_(C)}function k(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(t.consume(C),l=C,y):ye(C)?(t.consume(C),k):(l=null,D(C))}function y(C){return C===null||X(C)?n(C):C===l?(t.consume(C),S):(t.consume(C),y)}function D(C){return C===null||C===34||C===39||C===60||C===61||C===62||C===96||Ie(C)?x(C):(t.consume(C),D)}function S(C){return C===47||C===62||ye(C)?_(C):n(C)}function F(C){return C===62?(t.consume(C),O):n(C)}function O(C){return ye(C)?(t.consume(C),O):C===null||X(C)?E(C):n(C)}function E(C){return C===45&&i===2?(t.consume(C),Q):C===60&&i===1?(t.consume(C),$):C===62&&i===4?(t.consume(C),M):C===63&&i===3?(t.consume(C),A):C===93&&i===5?(t.consume(C),T):X(C)&&(i===6||i===7)?t.check(IA,M,N)(C):C===null||X(C)?N(C):(t.consume(C),E)}function N(C){return t.exit("htmlFlowData"),I(C)}function I(C){return C===null?v(C):X(C)?t.attempt({tokenize:H,partial:!0},I,v)(C):(t.enter("htmlFlowData"),E(C))}function H(C,V,Y){return J;function J(W){return C.enter("lineEnding"),C.consume(W),C.exit("lineEnding"),q}function q(W){return r.parser.lazy[r.now().line]?Y(W):V(W)}}function Q(C){return C===45?(t.consume(C),A):E(C)}function $(C){return C===47?(t.consume(C),s="",L):E(C)}function L(C){return C===62&&h0.includes(s.toLowerCase())?(t.consume(C),M):Yt(C)&&s.length<8?(t.consume(C),s+=String.fromCharCode(C),L):E(C)}function T(C){return C===93?(t.consume(C),A):E(C)}function A(C){return C===62?(t.consume(C),M):C===45&&i===2?(t.consume(C),A):E(C)}function M(C){return C===null||X(C)?(t.exit("htmlFlowData"),v(C)):(t.consume(C),M)}function v(C){return t.exit("htmlFlow"),e(C)}}function PA(t,e,n){return r;function r(i){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),t.attempt(ul,e,n)}}const jA={name:"htmlText",tokenize:zA};function zA(t,e,n){const r=this;let i,o,s,a;return l;function l(v){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(v),c}function c(v){return v===33?(t.consume(v),u):v===47?(t.consume(v),D):v===63?(t.consume(v),k):Yt(v)?(t.consume(v),O):n(v)}function u(v){return v===45?(t.consume(v),d):v===91?(t.consume(v),o="CDATA[",s=0,g):Yt(v)?(t.consume(v),x):n(v)}function d(v){return v===45?(t.consume(v),f):n(v)}function f(v){return v===null||v===62?n(v):v===45?(t.consume(v),h):p(v)}function h(v){return v===null||v===62?n(v):p(v)}function p(v){return v===null?n(v):v===45?(t.consume(v),m):X(v)?(a=p,T(v)):(t.consume(v),p)}function m(v){return v===45?(t.consume(v),M):p(v)}function g(v){return v===o.charCodeAt(s++)?(t.consume(v),s===o.length?b:g):n(v)}function b(v){return v===null?n(v):v===93?(t.consume(v),_):X(v)?(a=b,T(v)):(t.consume(v),b)}function _(v){return v===93?(t.consume(v),w):b(v)}function w(v){return v===62?M(v):v===93?(t.consume(v),w):b(v)}function x(v){return v===null||v===62?M(v):X(v)?(a=x,T(v)):(t.consume(v),x)}function k(v){return v===null?n(v):v===63?(t.consume(v),y):X(v)?(a=k,T(v)):(t.consume(v),k)}function y(v){return v===62?M(v):k(v)}function D(v){return Yt(v)?(t.consume(v),S):n(v)}function S(v){return v===45||Wt(v)?(t.consume(v),S):F(v)}function F(v){return X(v)?(a=F,T(v)):ye(v)?(t.consume(v),F):M(v)}function O(v){return v===45||Wt(v)?(t.consume(v),O):v===47||v===62||Ie(v)?E(v):n(v)}function E(v){return v===47?(t.consume(v),M):v===58||v===95||Yt(v)?(t.consume(v),N):X(v)?(a=E,T(v)):ye(v)?(t.consume(v),E):M(v)}function N(v){return v===45||v===46||v===58||v===95||Wt(v)?(t.consume(v),N):I(v)}function I(v){return v===61?(t.consume(v),H):X(v)?(a=I,T(v)):ye(v)?(t.consume(v),I):E(v)}function H(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(t.consume(v),i=v,Q):X(v)?(a=H,T(v)):ye(v)?(t.consume(v),H):(t.consume(v),i=void 0,L)}function Q(v){return v===i?(t.consume(v),$):v===null?n(v):X(v)?(a=Q,T(v)):(t.consume(v),Q)}function $(v){return v===62||v===47||Ie(v)?E(v):n(v)}function L(v){return v===null||v===34||v===39||v===60||v===61||v===96?n(v):v===62||Ie(v)?E(v):(t.consume(v),L)}function T(v){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),se(t,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function A(v){return t.enter("htmlTextData"),a(v)}function M(v){return v===62?(t.consume(v),t.exit("htmlTextData"),t.exit("htmlText"),e):n(v)}}const Gp={name:"labelEnd",tokenize:GA,resolveTo:HA,resolveAll:WA},VA={tokenize:KA},qA={tokenize:JA},UA={tokenize:YA};function WA(t){let e=-1,n;for(;++e<t.length;)n=t[e][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++);return t}function HA(t,e){let n=t.length,r=0,i,o,s,a;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[o][1].type==="labelLink"?"link":"image",start:Object.assign({},t[o][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[o][1].start),end:Object.assign({},t[s][1].end)},u={type:"labelText",start:Object.assign({},t[o+r+2][1].end),end:Object.assign({},t[s-2][1].start)};return a=[["enter",l,e],["enter",c,e]],a=Nn(a,t.slice(o+1,o+r+3)),a=Nn(a,[["enter",u,e]]),a=Nn(a,Hu(e.parser.constructs.insideSpan.null,t.slice(o+r+4,s-3),e)),a=Nn(a,[["exit",u,e],t[s-2],t[s-1],["exit",c,e]]),a=Nn(a,t.slice(s+1)),a=Nn(a,[["exit",l,e]]),Cn(t,o,t.length,a),t}function GA(t,e,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(u){return o?o._inactive?c(u):(s=r.parser.defined.includes(Gn(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelEnd"),l):n(u)}function l(u){return u===40?t.attempt(VA,e,s?e:c)(u):u===91?t.attempt(qA,e,s?t.attempt(UA,e,c):c)(u):s?e(u):c(u)}function c(u){return o._balanced=!0,n(u)}}function KA(t,e,n){return r;function r(l){return t.enter("resource"),t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),dr(t,i)}function i(l){return l===41?a(l):ck(t,o,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function o(l){return Ie(l)?dr(t,s)(l):a(l)}function s(l){return l===34||l===39||l===40?dk(t,dr(t,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):a(l)}function a(l){return l===41?(t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),t.exit("resource"),e):n(l)}}function JA(t,e,n){const r=this;return i;function i(s){return uk.call(r,t,o,n,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(Gn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(s):n(s)}}function YA(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const XA={name:"labelStartImage",tokenize:QA,resolveAll:Gp.resolveAll};function QA(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),o}function o(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const ZA={name:"labelStartLink",tokenize:eF,resolveAll:Gp.resolveAll};function eF(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const Id={name:"lineEnding",tokenize:tF};function tF(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),se(t,e,"linePrefix")}}const yc={name:"thematicBreak",tokenize:nF};function nF(t,e,n){let r=0,i;return o;function o(l){return t.enter("thematicBreak"),i=l,s(l)}function s(l){return l===i?(t.enter("thematicBreakSequence"),a(l)):ye(l)?se(t,s,"whitespace")(l):r<3||l!==null&&!X(l)?n(l):(t.exit("thematicBreak"),e(l))}function a(l){return l===i?(t.consume(l),r++,a):(t.exit("thematicBreakSequence"),s(l))}}const sn={name:"list",tokenize:oF,continuation:{tokenize:sF},exit:lF},rF={tokenize:cF,partial:!0},iF={tokenize:aF,partial:!0};function oF(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:tu(h)){if(r.containerState.type||(r.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),h===42||h===45?t.check(yc,n,c)(h):c(h);if(!r.interrupt||h===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(h)}return n(h)}function l(h){return tu(h)&&++s<10?(t.consume(h),l):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(t.exit("listItemValue"),c(h)):n(h)}function c(h){return t.enter("listItemMarker"),t.consume(h),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,t.check(ul,r.interrupt?n:u,t.attempt(rF,f,d))}function u(h){return r.containerState.initialBlankLine=!0,o++,f(h)}function d(h){return ye(h)?(t.enter("listItemPrefixWhitespace"),t.consume(h),t.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(h)}}function sF(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(ul,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,se(t,e,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!ye(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(iF,e,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,se(t,t.attempt(sn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function aF(t,e,n){const r=this;return se(t,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(o):n(o)}}function lF(t){t.exit(this.containerState.type)}function cF(t,e,n){const r=this;return se(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(o){const s=r.events[r.events.length-1];return!ye(o)&&s&&s[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const f0={name:"setextUnderline",tokenize:dF,resolveTo:uF};function uF(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",s,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[o][1].end)):t[r][1]=s,t.push(["exit",s,e]),t}function dF(t,e,n){const r=this;let i=r.events.length,o,s;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){s=r.events[i][1].type==="paragraph";break}return a;function a(u){return!r.parser.lazy[r.now().line]&&(r.interrupt||s)?(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),o=u,l(u)):n(u)}function l(u){return u===o?(t.consume(u),l):(t.exit("setextHeadingLineSequence"),se(t,c,"lineSuffix")(u))}function c(u){return u===null||X(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const hF={tokenize:fF};function fF(t){const e=this,n=t.attempt(ul,r,t.attempt(this.parser.constructs.flowInitial,i,se(t,t.attempt(this.parser.constructs.flow,i,t.attempt(kA,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const pF={resolveAll:fk()},mF=hk("string"),gF=hk("text");function hk(t){return{tokenize:e,resolveAll:fk(t==="text"?bF:void 0)};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,s,a);return s;function s(u){return c(u)?o(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),o(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function fk(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function bF(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const c=i[o];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(c===-2)l=!0,a++;else if(c!==-1){o++;break}}if(a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+o,_bufferIndex:o?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}function yF(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let s=[],a=[];const l={consume:_,enter:w,exit:x,attempt:D(k),check:D(y),interrupt:D(y,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:h,sliceSerialize:f,now:p,defineSkip:m,write:d};let u=e.tokenize.call(c,l);return e.resolveAll&&o.push(e),c;function d(E){return s=Nn(s,E),g(),s[s.length-1]!==null?[]:(S(e,0),c.events=Hu(o,c.events,c),c.events)}function f(E,N){return kF(h(E),N)}function h(E){return wF(s,E)}function p(){return Object.assign({},r)}function m(E){i[E.line]=E.column,O()}function g(){let E;for(;r._index<s.length;){const N=s[r._index];if(typeof N=="string")for(E=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===E&&r._bufferIndex<N.length;)b(N.charCodeAt(r._bufferIndex));else b(N)}}function b(E){u=u(E)}function _(E){X(E)?(r.line++,r.column=1,r.offset+=E===-3?2:1,O()):E!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=E}function w(E,N){const I=N||{};return I.type=E,I.start=p(),c.events.push(["enter",I,c]),a.push(I),I}function x(E){const N=a.pop();return N.end=p(),c.events.push(["exit",N,c]),N}function k(E,N){S(E,N.from)}function y(E,N){N.restore()}function D(E,N){return I;function I(H,Q,$){let L,T,A,M;return Array.isArray(H)?C(H):"tokenize"in H?C([H]):v(H);function v(q){return W;function W(ce){const ee=ce!==null&&q[ce],j=ce!==null&&q.null,Z=[...Array.isArray(ee)?ee:ee?[ee]:[],...Array.isArray(j)?j:j?[j]:[]];return C(Z)(ce)}}function C(q){return L=q,T=0,q.length===0?$:V(q[T])}function V(q){return W;function W(ce){return M=F(),A=q,q.partial||(c.currentConstruct=q),q.name&&c.parser.constructs.disable.null.includes(q.name)?J():q.tokenize.call(N?Object.assign(Object.create(c),N):c,l,Y,J)(ce)}}function Y(q){return E(A,M),Q}function J(q){return M.restore(),++T<L.length?V(L[T]):$}}}function S(E,N){E.resolveAll&&!o.includes(E)&&o.push(E),E.resolve&&Cn(c.events,N,c.events.length-N,E.resolve(c.events.slice(N),c)),E.resolveTo&&(c.events=E.resolveTo(c.events,c))}function F(){const E=p(),N=c.previous,I=c.currentConstruct,H=c.events.length,Q=Array.from(a);return{restore:$,from:H};function $(){r=E,c.previous=N,c.currentConstruct=I,c.events.length=H,a=Q,O()}}function O(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function wF(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let s;return n===i?s=[t[n].slice(r,o)]:(s=t.slice(n,i),r>-1&&(s[0]=s[0].slice(r)),o>0&&s.push(t[i].slice(0,o))),s}function kF(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}const _F={[42]:sn,[43]:sn,[45]:sn,[48]:sn,[49]:sn,[50]:sn,[51]:sn,[52]:sn,[53]:sn,[54]:sn,[55]:sn,[56]:sn,[57]:sn,[62]:ok},DF={[91]:vA},xF={[-2]:Ld,[-1]:Ld,[32]:Ld},CF={[35]:MA,[42]:yc,[45]:[f0,yc],[60]:LA,[61]:f0,[95]:yc,[96]:wf,[126]:wf},vF={[38]:ak,[92]:sk},SF={[-5]:Id,[-4]:Id,[-3]:Id,[33]:XA,[38]:ak,[42]:yf,[60]:[rA,jA],[91]:ZA,[92]:[FA,sk],[93]:Gp,[95]:yf,[96]:mA},EF={null:[yf,pF]},AF={null:[42,95]},FF={null:[]},TF=Object.freeze(Object.defineProperty({__proto__:null,document:_F,contentInitial:DF,flowInitial:xF,flow:CF,string:vF,text:SF,insideSpan:EF,attentionMarkers:AF,disable:FF},Symbol.toStringTag,{value:"Module"}));function MF(t={}){const e=ik([TF].concat(t.extensions||[])),n={defined:[],lazy:{},constructs:e,content:r(YE),document:r(QE),flow:r(hF),string:r(mF),text:r(gF)};return n;function r(i){return o;function o(s){return yF(n,i,s)}}}const p0=/[\0\t\n\r]/g;function OF(){let t=1,e="",n=!0,r;return i;function i(o,s,a){const l=[];let c,u,d,f,h;for(o=e+o.toString(s),d=0,e="",n&&(o.charCodeAt(0)===65279&&d++,n=void 0);d<o.length;){if(p0.lastIndex=d,c=p0.exec(o),f=c&&c.index!==void 0?c.index:o.length,h=o.charCodeAt(f),!c){e=o.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(o.slice(d,f)),t+=f-d),h){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}function NF(t){for(;!lk(t););return t}function pk(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCharCode(n)}const $F=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function mk(t){return t.replace($F,LF)}function LF(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return pk(n.slice(o?2:1),o?16:10)}return Ma(n)||t}function ha(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?m0(t.position):"start"in t||"end"in t?m0(t):"line"in t||"column"in t?kf(t):""}function kf(t){return g0(t&&t.line)+":"+g0(t&&t.column)}function m0(t){return kf(t&&t.start)+"-"+kf(t&&t.end)}function g0(t){return t&&typeof t=="number"?t:1}const _f={}.hasOwnProperty,IF=function(t,e,n){return typeof e!="string"&&(n=e,e=void 0),RF(n)(NF(MF(n).document().write(OF()(t,e,!0))))};function RF(t={}){const e=gk({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Lt),autolinkProtocol:N,autolinkEmail:N,atxHeading:l(nt),blockQuote:l(we),characterEscape:N,characterReference:N,codeFenced:l(ke),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(ke,c),codeText:l(Ne,c),codeTextData:N,data:N,codeFlowValue:N,definition:l(at),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(Xe),hardBreakEscape:l($e),hardBreakTrailing:l($e),htmlFlow:l(lt,c),htmlFlowData:N,htmlText:l(lt,c),htmlTextData:N,image:l(Me),label:c,link:l(Lt),listItem:l(on),listItemValue:m,listOrdered:l(rt,p),listUnordered:l(rt),paragraph:l(Ri),reference:q,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(nt),strong:l(Xr),thematicBreak:l(Rl)},exit:{atxHeading:d(),atxHeadingSequence:S,autolink:d(),autolinkEmail:Z,autolinkProtocol:j,blockQuote:d(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:ce,characterReferenceMarkerNumeric:ce,characterReferenceValue:ee,codeFenced:d(w),codeFencedFence:_,codeFencedFenceInfo:g,codeFencedFenceMeta:b,codeFlowValue:I,codeIndented:d(x),codeText:d(T),codeTextData:I,data:I,definition:d(),definitionDestinationString:D,definitionLabelString:k,definitionTitleString:y,emphasis:d(),hardBreakEscape:d(Q),hardBreakTrailing:d(Q),htmlFlow:d($),htmlFlowData:I,htmlText:d(L),htmlTextData:I,image:d(M),label:C,labelText:v,lineEnding:H,link:d(A),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:W,resourceDestinationString:V,resourceTitleString:Y,resource:J,setextHeading:d(E),setextHeadingLineSequence:O,setextHeadingText:F,strong:d(),thematicBreak:d()}},t.mdastExtensions||[]),n={};return r;function r(B){let G={type:"root",children:[]};const R=[G],U=[],Ce=[],It={stack:R,tokenStack:U,config:e,enter:u,exit:f,buffer:c,resume:h,setData:o,getData:s};let oe=-1;for(;++oe<B.length;)if(B[oe][1].type==="listOrdered"||B[oe][1].type==="listUnordered")if(B[oe][0]==="enter")Ce.push(oe);else{const be=Ce.pop();oe=i(B,be,oe)}for(oe=-1;++oe<B.length;){const be=e[B[oe][0]];_f.call(be,B[oe][1].type)&&be[B[oe][1].type].call(Object.assign({sliceSerialize:B[oe][2].sliceSerialize},It),B[oe][1])}if(U.length>0){const be=U[U.length-1];(be[1]||b0).call(It,void 0,be[0])}for(G.position={start:a(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:a(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},oe=-1;++oe<e.transforms.length;)G=e.transforms[oe](G)||G;return G}function i(B,G,R){let U=G-1,Ce=-1,It=!1,oe,be,it,Tn;for(;++U<=R;){const Pe=B[U];if(Pe[1].type==="listUnordered"||Pe[1].type==="listOrdered"||Pe[1].type==="blockQuote"?(Pe[0]==="enter"?Ce++:Ce--,Tn=void 0):Pe[1].type==="lineEndingBlank"?Pe[0]==="enter"&&(oe&&!Tn&&!Ce&&!it&&(it=U),Tn=void 0):Pe[1].type==="linePrefix"||Pe[1].type==="listItemValue"||Pe[1].type==="listItemMarker"||Pe[1].type==="listItemPrefix"||Pe[1].type==="listItemPrefixWhitespace"||(Tn=void 0),!Ce&&Pe[0]==="enter"&&Pe[1].type==="listItemPrefix"||Ce===-1&&Pe[0]==="exit"&&(Pe[1].type==="listUnordered"||Pe[1].type==="listOrdered")){if(oe){let Do=U;for(be=void 0;Do--;){const Ar=B[Do];if(Ar[1].type==="lineEnding"||Ar[1].type==="lineEndingBlank"){if(Ar[0]==="exit")continue;be&&(B[be][1].type="lineEndingBlank",It=!0),Ar[1].type="lineEnding",be=Do}else if(!(Ar[1].type==="linePrefix"||Ar[1].type==="blockQuotePrefix"||Ar[1].type==="blockQuotePrefixWhitespace"||Ar[1].type==="blockQuoteMarker"||Ar[1].type==="listItemIndent"))break}it&&(!be||it<be)&&(oe._spread=!0),oe.end=Object.assign({},be?B[be][1].start:Pe[1].end),B.splice(be||U,0,["exit",oe,Pe[2]]),U++,R++}Pe[1].type==="listItemPrefix"&&(oe={type:"listItem",_spread:!1,start:Object.assign({},Pe[1].start)},B.splice(U,0,["enter",oe,Pe[2]]),U++,R++,it=void 0,Tn=!0)}}return B[G][1]._spread=It,R}function o(B,G){n[B]=G}function s(B){return n[B]}function a(B){return{line:B.line,column:B.column,offset:B.offset}}function l(B,G){return R;function R(U){u.call(this,B(U),U),G&&G.call(this,U)}}function c(){this.stack.push({type:"fragment",children:[]})}function u(B,G,R){return this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([G,R]),B.position={start:a(G.start)},B}function d(B){return G;function G(R){B&&B.call(this,R),f.call(this,R)}}function f(B,G){const R=this.stack.pop(),U=this.tokenStack.pop();if(U)U[0].type!==B.type&&(G?G.call(this,B,U[0]):(U[1]||b0).call(this,B,U[0]));else throw new Error("Cannot close `"+B.type+"` ("+ha({start:B.start,end:B.end})+"): it\u2019s not open");return R.position.end=a(B.end),R}function h(){return Hp(this.stack.pop())}function p(){o("expectingFirstListItemValue",!0)}function m(B){if(s("expectingFirstListItemValue")){const G=this.stack[this.stack.length-2];G.start=Number.parseInt(this.sliceSerialize(B),10),o("expectingFirstListItemValue")}}function g(){const B=this.resume(),G=this.stack[this.stack.length-1];G.lang=B}function b(){const B=this.resume(),G=this.stack[this.stack.length-1];G.meta=B}function _(){s("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function w(){const B=this.resume(),G=this.stack[this.stack.length-1];G.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function x(){const B=this.resume(),G=this.stack[this.stack.length-1];G.value=B.replace(/(\r?\n|\r)$/g,"")}function k(B){const G=this.resume(),R=this.stack[this.stack.length-1];R.label=G,R.identifier=Gn(this.sliceSerialize(B)).toLowerCase()}function y(){const B=this.resume(),G=this.stack[this.stack.length-1];G.title=B}function D(){const B=this.resume(),G=this.stack[this.stack.length-1];G.url=B}function S(B){const G=this.stack[this.stack.length-1];if(!G.depth){const R=this.sliceSerialize(B).length;G.depth=R}}function F(){o("setextHeadingSlurpLineEnding",!0)}function O(B){const G=this.stack[this.stack.length-1];G.depth=this.sliceSerialize(B).charCodeAt(0)===61?1:2}function E(){o("setextHeadingSlurpLineEnding")}function N(B){const G=this.stack[this.stack.length-1];let R=G.children[G.children.length-1];(!R||R.type!=="text")&&(R=Er(),R.position={start:a(B.start)},G.children.push(R)),this.stack.push(R)}function I(B){const G=this.stack.pop();G.value+=this.sliceSerialize(B),G.position.end=a(B.end)}function H(B){const G=this.stack[this.stack.length-1];if(s("atHardBreak")){const R=G.children[G.children.length-1];R.position.end=a(B.end),o("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(G.type)&&(N.call(this,B),I.call(this,B))}function Q(){o("atHardBreak",!0)}function $(){const B=this.resume(),G=this.stack[this.stack.length-1];G.value=B}function L(){const B=this.resume(),G=this.stack[this.stack.length-1];G.value=B}function T(){const B=this.resume(),G=this.stack[this.stack.length-1];G.value=B}function A(){const B=this.stack[this.stack.length-1];s("inReference")?(B.type+="Reference",B.referenceType=s("referenceType")||"shortcut",delete B.url,delete B.title):(delete B.identifier,delete B.label),o("referenceType")}function M(){const B=this.stack[this.stack.length-1];s("inReference")?(B.type+="Reference",B.referenceType=s("referenceType")||"shortcut",delete B.url,delete B.title):(delete B.identifier,delete B.label),o("referenceType")}function v(B){const G=this.stack[this.stack.length-2],R=this.sliceSerialize(B);G.label=mk(R),G.identifier=Gn(R).toLowerCase()}function C(){const B=this.stack[this.stack.length-1],G=this.resume(),R=this.stack[this.stack.length-1];o("inReference",!0),R.type==="link"?R.children=B.children:R.alt=G}function V(){const B=this.resume(),G=this.stack[this.stack.length-1];G.url=B}function Y(){const B=this.resume(),G=this.stack[this.stack.length-1];G.title=B}function J(){o("inReference")}function q(){o("referenceType","collapsed")}function W(B){const G=this.resume(),R=this.stack[this.stack.length-1];R.label=G,R.identifier=Gn(this.sliceSerialize(B)).toLowerCase(),o("referenceType","full")}function ce(B){o("characterReferenceType",B.type)}function ee(B){const G=this.sliceSerialize(B),R=s("characterReferenceType");let U;R?(U=pk(G,R==="characterReferenceMarkerNumeric"?10:16),o("characterReferenceType")):U=Ma(G);const Ce=this.stack.pop();Ce.value+=U,Ce.position.end=a(B.end)}function j(B){I.call(this,B);const G=this.stack[this.stack.length-1];G.url=this.sliceSerialize(B)}function Z(B){I.call(this,B);const G=this.stack[this.stack.length-1];G.url="mailto:"+this.sliceSerialize(B)}function we(){return{type:"blockquote",children:[]}}function ke(){return{type:"code",lang:null,meta:null,value:""}}function Ne(){return{type:"inlineCode",value:""}}function at(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Xe(){return{type:"emphasis",children:[]}}function nt(){return{type:"heading",depth:void 0,children:[]}}function $e(){return{type:"break"}}function lt(){return{type:"html",value:""}}function Me(){return{type:"image",title:null,url:"",alt:null}}function Lt(){return{type:"link",title:null,url:"",children:[]}}function rt(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function on(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function Ri(){return{type:"paragraph",children:[]}}function Xr(){return{type:"strong",children:[]}}function Er(){return{type:"text",value:""}}function Rl(){return{type:"thematicBreak"}}}function gk(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?gk(t,r):BF(t,r)}return t}function BF(t,e){let n;for(n in e)if(_f.call(e,n)){const r=n==="canContainEols"||n==="transforms",o=(_f.call(t,n)?t[n]:void 0)||(t[n]=r?[]:{}),s=e[n];s&&(r?t[n]=[...o,...s]:Object.assign(o,s))}}function b0(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+ha({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+ha({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+ha({start:e.start,end:e.end})+") is still open")}function Df(t){Object.assign(this,{Parser:n=>{const r=this.data("settings");return IF(n,Object.assign({},r,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}const y0={}.hasOwnProperty;function PF(t,e){const n=e||{};function r(i,...o){let s=r.invalid;const a=r.handlers;if(i&&y0.call(i,t)){const l=String(i[t]);s=y0.call(a,l)?a[l]:r.unknown}if(s)return s.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function wc(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)wc(t,e.extensions[n]);for(r in e)r==="extensions"||(r==="unsafe"||r==="join"?t[r]=[...t[r]||[],...e[r]||[]]:r==="handlers"?t[r]=Object.assign(t[r],e[r]||{}):t.options[r]=e[r]);return t}function _t(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,o=n.column||1;return{move:l,current:s,shift:a};function s(){return{now:{line:i,column:o},lineShift:r}}function a(c){r+=c}function l(c=""){const u=c.split(/\r?\n|\r/g),d=u[u.length-1];return i+=u.length-1,o=u.length===1?o+d.length:1+d.length+r,c}}function dl(t,e,n){const r=e.indexStack,i=t.children||[],o=_t(n),s=[];let a=-1;for(r.push(-1);++a<i.length;){const c=i[a];r[r.length-1]=a,s.push(o.move(e.handle(c,t,e,{before:`
`,after:`
`,...o.current()}))),c.type!=="list"&&(e.bulletLastUsed=void 0),a<i.length-1&&s.push(o.move(l(c,i[a+1])))}return r.pop(),s.join("");function l(c,u){let d=e.join.length;for(;d--;){const f=e.join[d](c,u,t,e);if(f===!0||f===1)break;if(typeof f=="number")return`
`.repeat(1+f);if(f===!1)return`

<!---->

`}return`

`}}const jF=/\r?\n|\r/g;function Gu(t,e){const n=[];let r=0,i=0,o;for(;o=jF.exec(t);)s(t.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return s(t.slice(r)),n.join("");function s(a){n.push(e(a,i,!a))}}function zF(t,e,n,r){const i=n.enter("blockquote"),o=_t(r);o.move("> "),o.shift(2);const s=Gu(dl(t,n,o.current()),VF);return i(),s}function VF(t,e,n){return">"+(n?"":" ")+t}function bk(t,e){return w0(t,e.inConstruct,!0)&&!w0(t,e.notInConstruct,!1)}function w0(t,e,n){if(!e)return n;typeof e=="string"&&(e=[e]);let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function k0(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&bk(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function qF(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>s&&(s=o):o=1,i=r+e.length,r=n.indexOf(e,i);return s}function xf(t,e){return Boolean(!e.options.fences&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function UF(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function yk(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function yt(t,e,n){const r=(n.before||"")+(e||"")+(n.after||""),i=[],o=[],s={};let a=-1;for(;++a<t.unsafe.length;){const u=t.unsafe[a];if(!bk(t.stack,u))continue;const d=yk(u);let f;for(;f=d.exec(r);){const h="before"in u||Boolean(u.atBreak),p="after"in u,m=f.index+(h?f[1].length:0);i.includes(m)?(s[m].before&&!h&&(s[m].before=!1),s[m].after&&!p&&(s[m].after=!1)):(i.push(m),s[m]={before:h,after:p})}}i.sort(WF);let l=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(a=-1;++a<i.length;){const u=i[a];u<l||u>=c||u+1<c&&i[a+1]===u+1&&s[u].after&&!s[u+1].before&&!s[u+1].after||i[a-1]===u-1&&s[u].before&&!s[u-1].before&&!s[u-1].after||(l!==u&&o.push(_0(r.slice(l,u),"\\")),l=u,/[!-/:-@[-`{-~]/.test(r.charAt(u))&&(!n.encode||!n.encode.includes(r.charAt(u)))?o.push("\\"):(o.push("&#x"+r.charCodeAt(u).toString(16).toUpperCase()+";"),l++))}return o.push(_0(r.slice(l,c),n.after)),o.join("")}function WF(t,e){return t-e}function _0(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=t+e;let s=-1,a=0,l;for(;l=n.exec(o);)r.push(l.index);for(;++s<r.length;)a!==r[s]&&i.push(t.slice(a,r[s])),i.push("\\"),a=r[s];return i.push(t.slice(a)),i.join("")}function HF(t,e,n,r){const i=UF(n),o=t.value||"",s=i==="`"?"GraveAccent":"Tilde";if(xf(t,n)){const d=n.enter("codeIndented"),f=Gu(o,GF);return d(),f}const a=_t(r),l=i.repeat(Math.max(qF(o,i)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(t.lang){const d=n.enter("codeFencedLang"+s);u+=a.move(yt(n,t.lang,{before:u,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter("codeFencedMeta"+s);u+=a.move(" "),u+=a.move(yt(n,t.meta,{before:u,after:`
`,encode:["`"],...a.current()})),d()}return u+=a.move(`
`),o&&(u+=a.move(o+`
`)),u+=a.move(l),c(),u}function GF(t,e,n){return(n?"":"    ")+t}function Oa(t){return t.label||!t.identifier?t.label||"":mk(t.identifier)}function Kp(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function KF(t,e,n,r){const i=Kp(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const l=_t(r);let c=l.move("[");return c+=l.move(yt(n,Oa(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(yt(n,t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(yt(n,t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter("title"+o),c+=l.move(" "+i),c+=l.move(yt(n,t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),s(),c}function JF(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function _r(t,e,n){const r=e.indexStack,i=t.children||[],o=[];let s=-1,a=n.before;r.push(-1);let l=_t(n);for(;++s<i.length;){const c=i[s];let u;if(r[r.length-1]=s,s+1<i.length){let d=e.handle.handlers[i[s+1].type];d&&d.peek&&(d=d.peek),u=d?d(i[s+1],t,e,{before:"",after:"",...l.current()}).charAt(0):""}else u=n.after;o.length>0&&(a==="\r"||a===`
`)&&c.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),a=" ",l=_t(n),l.move(o.join(""))),o.push(l.move(e.handle(c,t,e,{...l.current(),before:a,after:u}))),a=o[o.length-1].slice(-1)}return r.pop(),o.join("")}wk.peek=YF;function wk(t,e,n,r){const i=JF(n),o=n.enter("emphasis"),s=_t(r);let a=s.move(i);return a+=s.move(_r(t,n,{before:a,after:i,...s.current()})),a+=s.move(i),o(),a}function YF(t,e,n){return n.options.emphasis||"*"}const Jp=function(t){if(t==null)return e3;if(typeof t=="string")return ZF(t);if(typeof t=="object")return Array.isArray(t)?XF(t):QF(t);if(typeof t=="function")return Ku(t);throw new Error("Expected function, string, or object as test")};function XF(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Jp(t[n]);return Ku(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].call(this,...i))return!0;return!1}}function QF(t){return Ku(e);function e(n){let r;for(r in t)if(n[r]!==t[r])return!1;return!0}}function ZF(t){return Ku(e);function e(n){return n&&n.type===t}}function Ku(t){return e;function e(...n){return Boolean(t.call(this,...n))}}function e3(){return!0}const t3=!0,Cf="skip",vf=!1,kk=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null);const i=Jp(e),o=r?-1:1;s(t,null,[])();function s(a,l,c){const u=typeof a=="object"&&a!==null?a:{};let d;return typeof u.type=="string"&&(d=typeof u.tagName=="string"?u.tagName:typeof u.name=="string"?u.name:void 0,Object.defineProperty(f,"name",{value:"node ("+(u.type+(d?"<"+d+">":""))+")"})),f;function f(){let h=[],p,m,g;if((!e||i(a,l,c[c.length-1]||null))&&(h=n3(n(a,c)),h[0]===vf))return h;if(a.children&&h[0]!==Cf)for(m=(r?a.children.length:-1)+o,g=c.concat(a);m>-1&&m<a.children.length;){if(p=s(a.children[m],m,g)(),p[0]===vf)return p;m=typeof p[1]=="number"?p[1]:m+o}return h}}};function n3(t){return Array.isArray(t)?t:typeof t=="number"?[t3,t]:[t]}const co=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null),kk(t,e,i,r);function i(o,s){const a=s[s.length-1];return n(o,a?a.children.indexOf(o):null,a)}};function _k(t,e){let n=!1;return co(t,r=>{if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,vf}),Boolean((!t.depth||t.depth<3)&&Hp(t)&&(e.options.setext||n))}function r3(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=_t(r);if(_k(t,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),f=_r(t,n,{...o.current(),before:`
`,after:`
`});return d(),u(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const s="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");o.move(s+" ");let c=_r(t,n,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(c)&&(c="&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),a(),c}Dk.peek=i3;function Dk(t){return t.value||""}function i3(){return"<"}xk.peek=o3;function xk(t,e,n,r){const i=Kp(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const l=_t(r);let c=l.move("![");return c+=l.move(yt(n,t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(yt(n,t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(yt(n,t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter("title"+o),c+=l.move(" "+i),c+=l.move(yt(n,t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),s(),c}function o3(){return"!"}Ck.peek=s3;function Ck(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let s=n.enter("label");const a=_t(r);let l=a.move("![");const c=yt(n,t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const d=yt(n,Oa(t),{before:l,after:"]",...a.current()});return s(),n.stack=u,o(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function s3(){return"!"}Yp.peek=a3;function Yp(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const s=n.unsafe[o],a=yk(s);let l;if(!!s.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function a3(){return"`"}function vk(t,e){const n=Hp(t);return Boolean(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Sk.peek=l3;function Sk(t,e,n,r){const i=Kp(n),o=i==='"'?"Quote":"Apostrophe",s=_t(r);let a,l;if(vk(t,n)){const u=n.stack;n.stack=[],a=n.enter("autolink");let d=s.move("<");return d+=s.move(_r(t,n,{before:d,after:">",...s.current()})),d+=s.move(">"),a(),n.stack=u,d}a=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(_r(t,n,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(yt(n,t.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(yt(n,t.url,{before:c,after:t.title?" ":")",...s.current()}))),l(),t.title&&(l=n.enter("title"+o),c+=s.move(" "+i),c+=s.move(yt(n,t.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),a(),c}function l3(t,e,n){return vk(t,n)?"<":"["}Ek.peek=c3;function Ek(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let s=n.enter("label");const a=_t(r);let l=a.move("[");const c=_r(t,n,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const d=yt(n,Oa(t),{before:l,after:"]",...a.current()});return s(),n.stack=u,o(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function c3(){return"["}function Xp(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function u3(t){const e=Xp(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Ak(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function d3(t){const e=Ak(t),n=t.options.bulletOrderedOther;if(!n)return e==="."?")":".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrderedOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bulletOrdered` (`"+e+"`) and `bulletOrderedOther` (`"+n+"`) to be different");return n}function Fk(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function h3(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let s=t.ordered?Ak(n):Xp(n);const a=t.ordered?d3(n):u3(n),l=n.bulletLastUsed;let c=!1;if(e&&(t.ordered?n.options.bulletOrderedOther:n.options.bulletOther)&&l&&s===l&&(c=!0),!t.ordered){const d=t.children?t.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),Fk(n)===s&&d){let f=-1;for(;++f<t.children.length;){const h=t.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(s=a),n.bulletCurrent=s;const u=dl(t,n,r);return n.bulletLastUsed=s,n.bulletCurrent=o,i(),u}function f3(t){const e=t.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Tk(t,e,n,r){const i=f3(n);let o=n.bulletCurrent||Xp(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let s=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(s=Math.ceil(s/4)*4);const a=_t(r);a.move(o+" ".repeat(s-o.length)),a.shift(s);const l=n.enter("listItem"),c=Gu(dl(t,n,a.current()),u);return l(),c;function u(d,f,h){return f?(h?"":" ".repeat(s))+d:(h?o:o+" ".repeat(s-o.length))+d}}function p3(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),s=_r(t,n,r);return o(),i(),s}function m3(t,e,n,r){return dl(t,n,r)}function g3(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Mk.peek=b3;function Mk(t,e,n,r){const i=g3(n),o=n.enter("strong"),s=_t(r);let a=s.move(i+i);return a+=s.move(_r(t,n,{before:a,after:i,...s.current()})),a+=s.move(i+i),o(),a}function b3(t,e,n){return n.options.strong||"*"}function y3(t,e,n,r){return yt(n,t.value,r)}function w3(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function k3(t,e,n){const r=(Fk(n)+(n.options.ruleSpaces?" ":"")).repeat(w3(n));return n.options.ruleSpaces?r.slice(0,-1):r}const No={blockquote:zF,break:k0,code:HF,definition:KF,emphasis:wk,hardBreak:k0,heading:r3,html:Dk,image:xk,imageReference:Ck,inlineCode:Yp,link:Sk,linkReference:Ek,list:h3,listItem:Tk,paragraph:p3,root:m3,strong:Mk,text:y3,thematicBreak:k3},_3=[D3];function D3(t,e,n,r){if(e.type==="code"&&xf(e,r)&&(t.type==="list"||t.type===e.type&&xf(t,r))||t.type==="list"&&t.type===e.type&&Boolean(t.ordered)===Boolean(e.ordered)&&!(t.ordered?r.options.bulletOrderedOther:r.options.bulletOther))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&_k(e,r))?void 0:n.spread?1:0}const Bi=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],x3=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Bi},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Bi},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Bi},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Bi},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Bi},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Bi},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Bi},{atBreak:!0,character:"~"}];function C3(t,e={}){const n={enter:i,stack:[],unsafe:[],join:[],handlers:{},options:{},indexStack:[]};wc(n,{unsafe:x3,join:_3,handlers:No}),wc(n,e),n.options.tightDefinitions&&wc(n,{join:[E3]}),n.handle=PF("type",{invalid:v3,unknown:S3,handlers:n.handlers});let r=n.handle(t,void 0,n,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return r&&r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r;function i(o){return n.stack.push(o),s;function s(){n.stack.pop()}}}function v3(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function S3(t){throw new Error("Cannot handle unknown node `"+t.type+"`")}function E3(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function Sf(t){Object.assign(this,{Compiler:n=>{const r=this.data("settings");return C3(n,Object.assign({},r,t,{extensions:this.data("toMarkdownExtensions")||[]}))}})}function D0(t){if(t)throw t}var Ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Ok=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)},kc=Object.prototype.hasOwnProperty,Nk=Object.prototype.toString,x0=Object.defineProperty,C0=Object.getOwnPropertyDescriptor,v0=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Nk.call(e)==="[object Array]"},S0=function(e){if(!e||Nk.call(e)!=="[object Object]")return!1;var n=kc.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&kc.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||kc.call(e,i)},E0=function(e,n){x0&&n.name==="__proto__"?x0(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},A0=function(e,n){if(n==="__proto__")if(kc.call(e,n)){if(C0)return C0(e,n).value}else return;return e[n]},F0=function t(){var e,n,r,i,o,s,a=arguments[0],l=1,c=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=A0(a,n),i=A0(e,n),a!==i&&(u&&i&&(S0(i)||(o=v0(i)))?(o?(o=!1,s=r&&v0(r)?r:[]):s=r&&S0(r)?r:{},E0(a,{name:n,newValue:t(u,s,i)})):typeof i<"u"&&E0(a,{name:n,newValue:i}));return a};function Ef(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function F3(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...c){const u=t[++o];let d=-1;if(l){s(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?T3(u,a)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function T3(t,e){let n;return r;function r(...s){const a=t.length>s.length;let l;a&&s.push(i);try{l=t.apply(this,s)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l instanceof Promise?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,e(s,...a))}function o(s){i(null,s)}}class Vn extends Error{constructor(e,n,r){const i=[null,null];let o={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const s=r.indexOf(":");s===-1?i[1]=r:(i[0]=r.slice(0,s),i[1]=r.slice(s+1))}n&&("type"in n||"position"in n?n.position&&(o=n.position):"start"in n||"end"in n?o=n:("line"in n||"column"in n)&&(o.start=n)),this.name=ha(n)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=o.start.line,this.column=o.start.column,this.position=o,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Vn.prototype.file="";Vn.prototype.name="";Vn.prototype.reason="";Vn.prototype.message="";Vn.prototype.stack="";Vn.prototype.fatal=null;Vn.prototype.column=null;Vn.prototype.line=null;Vn.prototype.source=null;Vn.prototype.ruleId=null;Vn.prototype.position=null;const sr={basename:M3,dirname:O3,extname:N3,join:$3,sep:"/"};function M3(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');hl(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.charCodeAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,a=e.length-1;for(;i--;)if(t.charCodeAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(t.charCodeAt(i)===e.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function O3(t){if(hl(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.charCodeAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.charCodeAt(0)===47?"/":".":e===1&&t.charCodeAt(0)===47?"//":t.slice(0,e)}function N3(t){hl(t);let e=t.length,n=-1,r=0,i=-1,o=0,s;for(;e--;){const a=t.charCodeAt(e);if(a===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),a===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function $3(...t){let e=-1,n;for(;++e<t.length;)hl(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":L3(n)}function L3(t){hl(t);const e=t.charCodeAt(0)===47;let n=I3(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function I3(t,e){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=t.length;){if(s<t.length)a=t.charCodeAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function hl(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const R3={cwd:B3};function B3(){return"/"}function Af(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function P3(t){if(typeof t=="string")t=new URL(t);else if(!Af(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return j3(t)}function j3(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.charCodeAt(n)===37&&e.charCodeAt(n+1)===50){const r=e.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Rd=["history","path","basename","stem","extname","dirname"];class z3{constructor(e){let n;e?typeof e=="string"||Ok(e)?n={value:e}:Af(e)?n={path:e}:n=e:n={},this.data={},this.messages=[],this.history=[],this.cwd=R3.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<Rd.length;){const o=Rd[r];o in n&&n[o]!==void 0&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)Rd.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(e){Af(e)&&(e=P3(e)),Pd(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?sr.dirname(this.path):void 0}set dirname(e){T0(this.basename,"dirname"),this.path=sr.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?sr.basename(this.path):void 0}set basename(e){Pd(e,"basename"),Bd(e,"basename"),this.path=sr.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?sr.extname(this.path):void 0}set extname(e){if(Bd(e,"extname"),T0(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=sr.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?sr.basename(this.path,this.extname):void 0}set stem(e){Pd(e,"stem"),Bd(e,"stem"),this.path=sr.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e)}message(e,n,r){const i=new Vn(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=null,i}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}}function Bd(t,e){if(t&&t.includes(sr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+sr.sep+"`")}function Pd(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function T0(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}const Ff=Lk().freeze(),$k={}.hasOwnProperty;function Lk(){const t=F3(),e=[];let n={},r,i=-1;return o.data=s,o.Parser=void 0,o.Compiler=void 0,o.freeze=a,o.attachers=e,o.use=l,o.parse=c,o.stringify=u,o.run=d,o.runSync=f,o.process=h,o.processSync=p,o;function o(){const m=Lk();let g=-1;for(;++g<e.length;)m.use(...e[g]);return m.data(F0(!0,{},n)),m}function s(m,g){return typeof m=="string"?arguments.length===2?(Vd("data",r),n[m]=g,o):$k.call(n,m)&&n[m]||null:m?(Vd("data",r),n=m,o):n}function a(){if(r)return o;for(;++i<e.length;){const[m,...g]=e[i];if(g[0]===!1)continue;g[0]===!0&&(g[0]=void 0);const b=m.call(o,...g);typeof b=="function"&&t.use(b)}return r=!0,i=Number.POSITIVE_INFINITY,o}function l(m,...g){let b;if(Vd("use",r),m!=null)if(typeof m=="function")k(m,...g);else if(typeof m=="object")Array.isArray(m)?x(m):w(m);else throw new TypeError("Expected usable value, not `"+m+"`");return b&&(n.settings=Object.assign(n.settings||{},b)),o;function _(y){if(typeof y=="function")k(y);else if(typeof y=="object")if(Array.isArray(y)){const[D,...S]=y;k(D,...S)}else w(y);else throw new TypeError("Expected usable value, not `"+y+"`")}function w(y){x(y.plugins),y.settings&&(b=Object.assign(b||{},y.settings))}function x(y){let D=-1;if(y!=null)if(Array.isArray(y))for(;++D<y.length;){const S=y[D];_(S)}else throw new TypeError("Expected a list of plugins, not `"+y+"`")}function k(y,D){let S=-1,F;for(;++S<e.length;)if(e[S][0]===y){F=e[S];break}F?(Ef(F[1])&&Ef(D)&&(D=F0(!0,F[1],D)),F[1]=D):e.push([...arguments])}}function c(m){o.freeze();const g=qs(m),b=o.Parser;return jd("parse",b),M0(b,"parse")?new b(String(g),g).parse():b(String(g),g)}function u(m,g){o.freeze();const b=qs(g),_=o.Compiler;return zd("stringify",_),O0(m),M0(_,"compile")?new _(m,b).compile():_(m,b)}function d(m,g,b){if(O0(m),o.freeze(),!b&&typeof g=="function"&&(b=g,g=void 0),!b)return new Promise(_);_(null,b);function _(w,x){t.run(m,qs(g),k);function k(y,D,S){D=D||m,y?x(y):w?w(D):b(null,D,S)}}}function f(m,g){let b,_;return o.run(m,g,w),N0("runSync","run",_),b;function w(x,k){D0(x),b=k,_=!0}}function h(m,g){if(o.freeze(),jd("process",o.Parser),zd("process",o.Compiler),!g)return new Promise(b);b(null,g);function b(_,w){const x=qs(m);o.run(o.parse(x),x,(y,D,S)=>{if(y||!D||!S)k(y);else{const F=o.stringify(D,S);F==null||(U3(F)?S.value=F:S.result=F),k(y,S)}});function k(y,D){y||!D?w(y):_?_(D):g(null,D)}}}function p(m){let g;o.freeze(),jd("processSync",o.Parser),zd("processSync",o.Compiler);const b=qs(m);return o.process(b,_),N0("processSync","process",g),b;function _(w){g=!0,D0(w)}}}function M0(t,e){return typeof t=="function"&&t.prototype&&(V3(t.prototype)||e in t.prototype)}function V3(t){let e;for(e in t)if($k.call(t,e))return!0;return!1}function jd(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function zd(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function Vd(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function O0(t){if(!Ef(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function N0(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function qs(t){return q3(t)?t:new z3(t)}function q3(t){return Boolean(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function U3(t){return typeof t=="string"||Ok(t)}const kn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Na=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let $0=null;const Or=function(t,e,n){let r=$0||($0=document.createRange());return r.setEnd(t,n==null?t.nodeValue.length:n),r.setStart(t,e||0),r},uo=function(t,e,n,r){return n&&(L0(t,e,n,r,-1)||L0(t,e,n,r,1))},W3=/^(img|br|input|textarea|hr)$/i;function L0(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:hr(t))){let o=t.parentNode;if(!o||o.nodeType!=1||G3(t)||W3.test(t.nodeName)||t.contentEditable=="false")return!1;e=kn(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?hr(t):0}else return!1}}function hr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function H3(t,e,n){for(let r=e==0,i=e==hr(t);r||i;){if(t==n)return!0;let o=kn(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==hr(t)}}function G3(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Ju=function(t){return t.focusNode&&uo(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Vo(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function K3(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}const Si=typeof navigator<"u"?navigator:null,I0=typeof document<"u"?document:null,Oi=Si&&Si.userAgent||"",Tf=/Edge\/(\d+)/.exec(Oi),Ik=/MSIE \d/.exec(Oi),Mf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Oi),pn=!!(Ik||Mf||Tf),mi=Ik?document.documentMode:Mf?+Mf[1]:Tf?+Tf[1]:0,Qn=!pn&&/gecko\/(\d+)/i.test(Oi);Qn&&+(/Firefox\/(\d+)/.exec(Oi)||[0,0])[1];const Of=!pn&&/Chrome\/(\d+)/.exec(Oi),un=!!Of,J3=Of?+Of[1]:0,Zt=!pn&&!!Si&&/Apple Computer/.test(Si.vendor),ks=Zt&&(/Mobile\/\w+/.test(Oi)||!!Si&&Si.maxTouchPoints>2),Mn=ks||(Si?/Mac/.test(Si.platform):!1),fr=/Android \d/.test(Oi),Yu=!!I0&&"webkitFontSmoothing"in I0.documentElement.style,Y3=Yu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function X3(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Qr(t,e){return typeof t=="number"?t:t[e]}function Q3(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function R0(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=Na(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,c=l?X3(o):Q3(a),u=0,d=0;if(e.top<c.top+Qr(r,"top")?d=-(c.top-e.top+Qr(i,"top")):e.bottom>c.bottom-Qr(r,"bottom")&&(d=e.bottom-c.bottom+Qr(i,"bottom")),e.left<c.left+Qr(r,"left")?u=-(c.left-e.left+Qr(i,"left")):e.right>c.right-Qr(r,"right")&&(u=e.right-c.right+Qr(i,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let p=a.scrollLeft-f,m=a.scrollTop-h;e={left:e.left-p,top:e.top-m,right:e.right-p,bottom:e.bottom-m}}if(l)break}}function Z3(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(o,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:Rk(t.dom)}}function Rk(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Na(r));return e}function eT({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Bk(n,r==0?0:r-e)}function Bk(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let xo=null;function tT(t){if(t.setActive)return t.setActive();if(xo)return t.focus(xo);let e=Rk(t);t.focus(xo==null?{get preventScroll(){return xo={preventScroll:!0},!0}}:void 0),xo||(xo=!1,Bk(e,0))}function Pk(t,e){let n,r=2e8,i,o=0,s=e.top,a=e.top;for(let l=t.firstChild,c=0;l;l=l.nextSibling,c++){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=Or(l).getClientRects();else continue;for(let d=0;d<u.length;d++){let f=u[d];if(f.top<=s&&f.bottom>=a){s=Math.max(f.bottom,s),a=Math.min(f.top,a);let h=f.left>e.left?f.left-e.left:f.right<e.left?e.left-f.right:0;if(h<r){n=l,r=h,i=h&&n.nodeType==3?{left:f.right<e.left?f.right:f.left,top:e.top}:e,l.nodeType==1&&h&&(o=c+(e.left>=(f.left+f.right)/2?1:0));continue}}!n&&(e.left>=f.right&&e.top>=f.top||e.left>=f.left&&e.top>=f.bottom)&&(o=c+1)}}return n&&n.nodeType==3?nT(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:Pk(n,i)}function nT(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=ni(r,1);if(o.top!=o.bottom&&Qp(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function Qp(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function rT(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function iT(t,e,n){let{node:r,offset:i}=Pk(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function oT(t,e,n,r){let i=-1;for(let o=e;o!=t.dom;){let s=t.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){let a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)i=s.posBefore;else if(a.right<r.left||a.bottom<r.top)i=s.posAfter;else break}o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,1)}function jk(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Qp(e,c))return jk(s,e,c)}}if((o=(o+1)%r)==i)break}return t}function sT(t,e){let n=t.dom.ownerDocument,r,i=0;if(n.caretPositionFromPoint)try{let l=n.caretPositionFromPoint(e.left,e.top);l&&({offsetNode:r,offset:i}=l)}catch{}if(!r&&n.caretRangeFromPoint){let l=n.caretRangeFromPoint(e.left,e.top);l&&({startContainer:r,startOffset:i}=l)}let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),s;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let l=t.dom.getBoundingClientRect();if(!Qp(e,l)||(o=jk(t.dom,e,l),!o))return null}if(Zt)for(let l=o;r&&l;l=Na(l))l.draggable&&(r=void 0);if(o=rT(o,e),r){if(Qn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let l=r.childNodes[i],c;l.nodeName=="IMG"&&(c=l.getBoundingClientRect()).right<=e.left&&c.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=oT(t,r,i,e))}s==null&&(s=iT(t,o,e));let a=t.docView.nearestDesc(o,!0);return{pos:s,inside:a?a.posAtStart-a.border:-1}}function ni(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const aT=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function zk(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=Yu||Qn;if(r.nodeType==3)if(s&&(aT.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=ni(Or(r,i,i),n);if(Qn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=ni(Or(r,i-1,i-1),-1);if(c.top==l.top){let u=ni(Or(r,i,i+1),-1);if(u.top!=l.top)return Us(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Us(ni(Or(r,l,c),1),u<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==hr(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return qd(l.getBoundingClientRect(),!1)}if(o==null&&i<hr(r)){let l=r.childNodes[i];if(l.nodeType==1)return qd(l.getBoundingClientRect(),!0)}return qd(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==hr(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Or(l,hr(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Us(ni(c,1),!1)}if(o==null&&i<hr(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Or(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Us(ni(c,-1),!0)}return Us(ni(r.nodeType==3?Or(r):r,-n),n>=0)}function Us(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function qd(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Vk(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function lT(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return Vk(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.dom;break}o=a.dom.parentNode}let s=zk(t,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Or(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const cT=/[\u0590-\u08ac]/;function uT(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.domSelection();return!cT.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:Vk(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:m}=t.domSelectionRange(),g=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==m;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),g})}let B0=null,P0=null,j0=!1;function dT(t,e,n){return B0==e&&P0==n?j0:(B0=e,P0=n,j0=n=="up"||n=="down"?lT(t,e,n):uT(t,e,n))}const Kn=0,z0=1,qo=2,Dr=3;class fl{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Kn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>kn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof Uk){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof qk&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?kn(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?kn(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(i==-1&&e<=c){let u=s+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=s;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=kn(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=kn(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],m=h+p.size;if(o>h&&s<m)return p.setSelection(e-h-p.border,n-h-p.border,r,i);h=m}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((Qn||Zt)&&e==n){let{node:f,offset:h}=a;if(f.nodeType==3){if(u=!!(h&&f.nodeValue[h-1]==`
`),u&&h==f.nodeValue.length)for(let p=f,m;p;p=p.parentNode){if(m=p.nextSibling){m.nodeName=="BR"&&(a=l={node:m.parentNode,offset:kn(m)+1});break}let g=p.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let p=f.childNodes[h-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(Qn&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||u&&Zt)&&uo(a.node,a.offset,c.anchorNode,c.anchorOffset)&&uo(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let h=a;a=l,l=h}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+o.border,l=s-o.border;if(e>=a&&n<=l){this.dirty=e==r||n==s?qo:z0,e==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Dr:o.markDirty(e-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?qo:Dr}r=s}this.dirty=qo}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?qo:z0;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class qk extends fl{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Kn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class hT extends fl{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ho extends fl{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=mr.renderSpec(document,n.type.spec.toDOM(n,r))),new ho(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Dr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=Dr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Kn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Kn}}slice(e,n,r){let i=ho.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=Lf(o,n,s,r)),e>0&&(o=Lf(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}}class fo extends fl{constructor(e,n,r,i,o,s,a,l,c){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a,s&&this.updateChildren(l,c)}static create(e,n,r,i,o,s){let a=o.nodeViews[n.type.name],l,c=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=mr.renderSpec(document,n.type.spec.toDOM(n)));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=Gk(u,r,n),c?l=new fT(e,n,r,i,u,d||null,f,c,o,s+1):n.isText?new Xu(e,n,r,i,u,f,o):new fo(e,n,r,i,u,d||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>z.empty)}return e}matchesNode(e,n,r){return this.dirty==Kn&&e.eq(this.node)&&$f(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new mT(this,s&&s.node,e);yT(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Ae.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,e);let h;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,h,e)||l.updateNextNode(c,u,d,e,f)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==qo)&&(s&&this.protectLocalComposition(e,s),Wk(this.contentDOM,this.children,e),ks&&wT(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof le)||r<n||i>n+this.node.content.size)return null;let o=e.domSelectionRange(),s=kT(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=_T(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new hT(this,o,n,i);e.input.compositionNodes.push(s),this.children=Lf(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==Dr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Kn}updateOuterDeco(e){if($f(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Hk(this.dom,this.nodeDOM,Nf(this.outerDeco,this.node,n),Nf(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function V0(t,e,n,r,i){return Gk(r,e,t),new fo(void 0,t,e,n,r,r,r,i,0)}class Xu extends fo{constructor(e,n,r,i,o,s,a){super(e,n,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Dr||this.dirty!=Kn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Kn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Kn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Xu(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Dr)}get domAtom(){return!1}}class Uk extends fl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Kn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class fT extends fo{constructor(e,n,r,i,o,s,a,l,c,u){super(e,n,r,i,o,s,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==Dr)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Wk(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=q0(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof ho){let l=r?r.previousSibling:t.lastChild;Wk(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=q0(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const fa=function(t){t&&(this.nodeName=t)};fa.prototype=Object.create(null);const Wi=[new fa];function Nf(t,e,n){if(t.length==0)return Wi;let r=n?Wi[0]:new fa,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(!!s){s.nodeName&&i.push(r=new fa(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&i.length==1&&i.push(r=new fa(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function Hk(t,e,n,r){if(n==Wi&&r==Wi)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Wi[0]),i=l}pT(i,a||Wi[0],s)}return i}function pT(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function Gk(t,e,n){return Hk(t,t,Wi,Nf(e,n,t.nodeType!=1))}function $f(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function q0(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class mT{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=gT(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Kn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++)if(this.top.children[l].matchesMark(e[o])){a=l;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=ho.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==Dr&&s.dom==s.contentDOM&&(s.dirty=qo),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o){for(let s=this.index;s<this.top.children.length;s++){let a=this.top.children[s];if(a instanceof fo){let l=this.preMatch.matched.get(a);if(l!=null&&l!=o)return!1;let c=a.dom;if(!(this.lock&&(c==this.lock||c.nodeType==1&&c.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Dr&&$f(n,a.outerDeco)))&&a.update(e,n,r,i))return this.destroyBetween(this.index,s),a.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,n,r,i,o){this.top.children.splice(this.index++,0,fo.create(this.top,e,n,r,i,o)),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new qk(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ho;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Xu)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Zt||un)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Uk(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}}function gT(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof ho)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(!!l){if(l!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function bT(t,e){return t.type.side-e.type.side}function yT(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(o,u),c),o+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){if(s<i.length&&i[s].to==o){let p=i[s++],m;for(;s<i.length&&i[s].to==o;)(m||(m=[p])).push(i[s++]);if(m){m.sort(bT);for(let g=0;g<m.length;g++)n(m[g],c,!!l)}else n(p,c,!!l)}let u,d;if(l)d=-1,u=l,l=null;else if(c<t.childCount)d=c,u=t.child(c++);else break;for(let p=0;p<a.length;p++)a[p].to<=o&&a.splice(p--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let f=o+u.nodeSize;if(u.isText){let p=f;s<i.length&&i[s].from<p&&(p=i[s].from);for(let m=0;m<a.length;m++)a[m].to<p&&(p=a[m].to);p<f&&(l=u.cut(p-o),u=u.cut(0,p-o),f=p,d=-1)}let h=u.isInline&&!u.isLeaf?a.filter(p=>!p.inline):a.slice();r(u,h,e.forChild(o,u),d),o=f}}function wT(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function kT(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=hr(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function _T(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let c=t.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Lf(t,e,n,r,i){let o=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],c=a,u=a+=l.size;c>=n||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function Zp(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(Ju(n)){for(l=a;i&&!i.node;)i=i.parent;let u=i.node;if(i&&u.isAtom&&re.isSelectable(u)&&i.parent&&!(u.isInline&&H3(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;c=new re(s==d?a:r.resolve(d))}}else{let u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;l=r.resolve(u)}if(!c){let u=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;c=em(t,l,a,u)}return c}function Kk(t){return t.editable?t.hasFocus():Yk(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Pr(t,e=!1){let n=t.state.selection;if(Jk(t,n),!!Kk(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&un){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&uo(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)xT(t);else{let{anchor:r,head:i}=n,o,s;U0&&!(n instanceof le)&&(n.$from.parent.inlineContent||(o=W0(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=W0(t,n.to))),t.docView.setSelection(r,i,t.root,e),U0&&(o&&H0(o),s&&H0(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&DT(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const U0=Zt||un&&J3<63;function W0(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Zt&&i&&i.contentEditable=="false")return Ud(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Ud(i);if(o)return Ud(o)}}function Ud(t){return t.contentEditable="true",Zt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function H0(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function DT(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Kk(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function xT(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,kn(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&pn&&mi<=11&&(r.disabled=!0,r.disabled=!1)}function Jk(t,e){if(e instanceof re){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(G0(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else G0(t)}function G0(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function em(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||le.between(e,n,r)}function K0(t){return t.editable&&!t.hasFocus()?!1:Yk(t)}function Yk(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function CT(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return uo(e.node,e.offset,n.anchorNode,n.anchorOffset)}function If(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&ae.findFrom(o,e)}function Ui(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function J0(t,e,n){let r=t.state.selection;if(r instanceof le){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=If(t.state,e);return i&&i instanceof re?Ui(t,i):!1}else if(!(Mn&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?re.isSelectable(o)?Ui(t,new re(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Yu?Ui(t,new le(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else{if(r instanceof re&&r.node.isInline)return Ui(t,new le(e>0?r.$to:r.$from));{let i=If(t.state,e);return i?Ui(t,i):!1}}}function ru(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function pa(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function Wd(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(Qn&&n.nodeType==1&&r<ru(n)&&pa(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(pa(a))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(Xk(n))break;{let a=n.previousSibling;for(;a&&pa(a);)i=n.parentNode,o=kn(a),a=a.previousSibling;if(a)n=a,r=ru(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?Rf(t,n,r):i&&Rf(t,i,o)}function Hd(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=ru(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(pa(a))o=n,s=++r;else break}else{if(Xk(n))break;{let a=n.nextSibling;for(;a&&pa(a);)o=a.parentNode,s=kn(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=ru(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&Rf(t,o,s)}function Xk(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Rf(t,e,n){let r=t.domSelection();if(Ju(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Pr(t)},50)}function Y0(t,e,n){let r=t.state.selection;if(r instanceof le&&!r.empty||n.indexOf("s")>-1||Mn&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=If(t.state,e);if(s&&s instanceof re)return Ui(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof xn?ae.near(s,e):ae.findFrom(s,e);return a?Ui(t,a):!1}return!1}function X0(t,e){if(!(t.state.selection instanceof le))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function Q0(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function vT(t){if(!Zt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Q0(t,r,"true"),setTimeout(()=>Q0(t,r,"false"),20)}return!1}function ST(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function ET(t,e){let n=e.keyCode,r=ST(e);return n==8||Mn&&n==72&&r=="c"?X0(t,-1)||Wd(t):n==46||Mn&&n==68&&r=="c"?X0(t,1)||Hd(t):n==13||n==27?!0:n==37||Mn&&n==66&&r=="c"?J0(t,-1,r)||Wd(t):n==39||Mn&&n==70&&r=="c"?J0(t,1,r)||Hd(t):n==38||Mn&&n==80&&r=="c"?Y0(t,-1,r)||Wd(t):n==40||Mn&&n==78&&r=="c"?vT(t)||Y0(t,1,r)||Hd(t):r==(Mn?"m":"c")&&(n==66||n==73||n==89||n==90)}function Qk(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=t.someProp("clipboardSerializer")||mr.fromSchema(t.state.schema),a=i_(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=r_[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f}}function Zk(t,e,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,o||r,t)}),o)return e?new K(z.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):K.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)a=d;else{let f=i.marks(),{schema:h}=t.state,p=mr.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let g=s.appendChild(document.createElement("p"));m&&g.appendChild(p.serializeNode(h.text(m,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=TT(n),Yu&&MT(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||gs.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!AT.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=OT(Z0(a,+u[1],+u[2]),u[4]);else if(a=K.maxOpen(FT(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=Z0(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const AT=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function FT(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&t_(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=n_(s[s.length-1],o.length));let u=e_(a,l);s.push(u),i=i.matchType(u.type),o=l}}),s)return z.from(s)}return t}function e_(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,z.from(t));return t}function t_(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=t_(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(z.from(e_(n,t,i+1))))}}function n_(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,n_(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(z.empty,!0);return t.copy(n.append(r))}function Bf(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return i<r-1&&(a=Bf(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,t.childCount>1||o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(z.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function Z0(t,e,n){return e<t.openStart&&(t=new K(Bf(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new K(Bf(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const r_={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let eb=null;function i_(){return eb||(eb=document.implementation.createHTMLDocument("title"))}function TT(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=i_().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&r_[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function MT(t){let e=t.querySelectorAll(un?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function OT(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=z.from(l.create(r[a+1],i)),o++,s++}return new K(i,o,s)}const en={},tn={},NT={touchstart:!0,touchmove:!0};class $T{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function LT(t){for(let e in en){let n=en[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{RT(t,r)&&!tm(t,r)&&(t.editable||!(r.type in tn))&&n(t,r)},NT[e]?{passive:!0}:void 0)}Zt&&t.dom.addEventListener("input",()=>null),Pf(t)}function hi(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function IT(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Pf(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>tm(t,r))})}function tm(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function RT(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function BT(t,e){!tm(t,e)&&en[e.type]&&(t.editable||!(e.type in tn))&&en[e.type](t,e)}tn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!s_(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(fr&&un&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),ks&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Vo(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||ET(t,n)?n.preventDefault():hi(t,"key")};tn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};tn.keypress=(t,e)=>{let n=e;if(s_(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Mn&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof le)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Qu(t){return{left:t.clientX,top:t.clientY}}function PT(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function nm(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,n,o.nodeAfter,o.before(s),i,!0):a(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Qo(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function jT(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&re.isSelectable(r)?(Qo(t,new re(n),"pointer"),!0):!1}function zT(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof re&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(re.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(Qo(t,re.create(t.state.doc,i),"pointer"),!0):!1}function VT(t,e,n,r,i){return nm(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?zT(t,n):jT(t,n))}function qT(t,e,n,r){return nm(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function UT(t,e,n,r){return nm(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||WT(t,n,r)}function WT(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Qo(t,le.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Qo(t,le.create(r,a+1,a+1+s.content.size),"pointer");else if(re.isSelectable(s))Qo(t,re.create(r,a),"pointer");else continue;return!0}}function rm(t){return iu(t)}const o_=Mn?"metaKey":"ctrlKey";en.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=rm(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&PT(n,t.input.lastClick)&&!n[o_]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(Qu(n));!s||(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new HT(t,s,n,!!r)):(o=="doubleClick"?qT:UT)(t,s.pos,s.inside,n)?n.preventDefault():hi(t,"pointer"))};class HT{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[o_],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let u=e.state.doc.resolve(n.pos);o=u.parent,s=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:c}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof re&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Qn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),hi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Pr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Qu(e))),this.updateAllowDefault(e),this.allowDefault||!n?hi(this.view,"pointer"):VT(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Zt&&this.mightDrag&&!this.mightDrag.node.isAtom||un&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Qo(this.view,ae.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):hi(this.view,"pointer")}move(e){this.updateAllowDefault(e),hi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}en.touchstart=t=>{t.input.lastTouch=Date.now(),rm(t),hi(t,"pointer")};en.touchmove=t=>{t.input.lastTouch=Date.now(),hi(t,"pointer")};en.contextmenu=t=>rm(t);function s_(t,e){return t.composing?!0:Zt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const GT=fr?5e3:-1;tn.compositionstart=tn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),iu(t,!0),t.markCursor=null;else if(iu(t),Qn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}a_(t,GT)};tn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,a_(t,20))};function a_(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>iu(t),e))}function l_(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=KT());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function KT(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function iu(t,e=!1){if(!(fr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),l_(t),e||t.docView&&t.docView.dirty){let n=Zp(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function JT(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const _s=pn&&mi<15||ks&&Y3<604;en.copy=tn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=_s?null:n.clipboardData,s=r.content(),{dom:a,text:l}=Qk(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):JT(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function YT(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function XT(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?jf(t,r.value,null,e):jf(t,r.textContent,r.innerHTML,e)},50)}function jf(t,e,n,r){let i=Zk(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,r,i||K.empty)))return!0;if(!i)return!1;let o=YT(i),s=o?t.state.tr.replaceSelectionWith(o,t.input.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}tn.paste=(t,e)=>{let n=e;if(t.composing&&!fr)return;let r=_s?null:n.clipboardData;r&&jf(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():XT(t,n)};class QT{constructor(e,n){this.slice=e,this.move=n}}const c_=Mn?"altKey":"ctrlKey";en.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Qu(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof re?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(re.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let c=t.docView.nearestDesc(n.target,!0);c&&c.node.type.spec.draggable&&c!=t.docView&&t.dispatch(t.state.tr.setSelection(re.create(t.state.doc,c.posBefore)))}}let s=t.state.selection.content(),{dom:a,text:l}=Qk(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(_s?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",_s||n.dataTransfer.setData("text/plain",l),t.dragging=new QT(s,!n[c_])};en.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};tn.dragover=tn.dragenter=(t,e)=>e.preventDefault();tn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Qu(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",p=>{s=p(s,t)}):s=Zk(t,n.dataTransfer.getData(_s?"Text":"text/plain"),_s?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!n[c_]);if(t.someProp("handleDrop",p=>p(t,n,s||K.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?qp(t.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=t.state.tr;a&&c.deleteSelection();let u=c.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&re.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new re(h));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((m,g,b,_)=>p=_),c.setSelection(em(t,h,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};en.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Pr(t)},20))};en.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};en.beforeinput=(t,e)=>{if(un&&fr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Vo(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in tn)en[t]=tn[t];function $a(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class im{constructor(e,n){this.toDOM=e,this.spec=n||eo,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new tt(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof im&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&$a(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class gi{constructor(e,n){this.attrs=e,this.spec=n||eo}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new tt(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof gi&&$a(this.attrs,e.attrs)&&$a(this.spec,e.spec)}static is(e){return e.type instanceof gi}destroy(){}}class om{constructor(e,n){this.attrs=e,this.spec=n||eo}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new tt(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof om&&$a(this.attrs,e.attrs)&&$a(this.spec,e.spec)}destroy(){}}class tt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new tt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new tt(e,e,new im(n,r))}static inline(e,n,r,i){return new tt(e,n,new gi(r,i))}static node(e,n,r,i){return new tt(e,n,new om(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof gi}}const $o=[],eo={};class Te{constructor(e,n){this.local=e.length?e:$o,this.children=n.length?n:$o}static create(e,n){return n.length?ou(n,e,0,eo):jt}find(e,n,r){let i=[];return this.findInner(e==null?0:e,n==null?1e9:n,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,i+a,o)}}map(e,n,r){return this==jt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||eo)}mapInner(e,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?ZT(this.children,s||[],e,n,r,i,o):s?new Te(s.sort(to),$o):jt}add(e,n){return n.length?this==jt?Te.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((a,l)=>{let c=l+r,u;if(!!(u=d_(n,a,c))){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,u,c+1):i.splice(o,0,l,l+a.nodeSize,ou(u,a,c+1,eo)),o+=3}});let s=u_(o?h_(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new Te(s.length?this.local.concat(s).sort(to):this.local,i||this.children)}remove(e){return e.length==0||this==jt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=jt?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Te(i,r):jt}forChild(e,n){if(this==jt)return this;if(n.isLeaf)return Te.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof gi){let c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new Te(i.sort(to),$o);return r?new oi([a,r]):a}return r||jt}eq(e){if(this==e)return!0;if(!(e instanceof Te)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return sm(this.localsInner(e))}localsInner(e){if(this==jt)return $o;if(e.inlineContent||!this.local.some(gi.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof gi||n.push(this.local[r]);return n}}Te.empty=new Te([],[]);Te.removeOverlap=sm;const jt=Te.empty;class oi{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,eo));return oi.from(r)}forChild(e,n){if(n.isLeaf)return Te.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=jt&&(o instanceof oi?r=r.concat(o.members):r.push(o))}return oi.from(r)}eq(e){if(!(e instanceof oi)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(!!o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?sm(r?n:n.sort(to)):$o}static from(e){switch(e.length){case 0:return jt;case 1:return e[0];default:return new oi(e.every(n=>n instanceof Te)?e:e.reduce((n,r)=>n.concat(r instanceof Te?r:r.members),[]))}}}function ZT(t,e,n,r,i,o,s){let a=t.slice();for(let c=0,u=o;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,p,m)=>{let g=m-p-(h-f);for(let b=0;b<a.length;b+=3){let _=a[b+1];if(_<0||f>_+u-d)continue;let w=a[b]+u-d;h>=w?a[b+1]=f<=w?-2:-1:p>=i&&g&&(a[b]+=g,a[b+1]+=g)}d+=g}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+o),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+o,-1),h=f-i,{index:p,offset:m}=r.content.findIndex(d),g=r.maybeChild(p);if(g&&m==d&&m+g.nodeSize==h){let b=a[c+2].mapInner(n,g,u+1,t[c]+o+1,s);b!=jt?(a[c]=d,a[c+1]=h,a[c+2]=b):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=eM(a,t,e,n,i,o,s),u=ou(c,r,0,s);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Te(e.sort(to),a)}function u_(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new tt(i.from+e,i.to+e,i.type))}return n}function eM(t,e,n,r,i,o,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+o+1);return n}function d_(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function h_(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function ou(t,e,n,r){let i=[],o=!1;e.forEach((a,l)=>{let c=d_(t,a,l+n);if(c){o=!0;let u=ou(c,a,n+l+1,r);u!=jt&&i.push(l,l+a.nodeSize,u)}});let s=u_(o?h_(t):t,-n).sort(to);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new Te(s,i):jt}function to(t,e){return t.from-e.from||t.to-e.to}function sm(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),tb(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),tb(e,i,r.copy(o.from,r.to)));break}}}return e}function tb(t,e,n){for(;e<t.length&&to(n,t[e])>0;)e++;t.splice(e,0,n)}function Gd(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=jt&&e.push(r)}),t.cursorWrapper&&e.push(Te.create(t.state.doc,[t.cursorWrapper.deco])),oi.from(e)}const tM={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},nM=pn&&mi<=11;class rM{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class iM{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new rM,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);pn&&mi<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),nM&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,tM)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!K0(this.view)){if(this.suppressingSelectionUpdates)return Pr(this.view);if(pn&&mi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&uo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Na(o))n.add(o);for(let o=e.anchorNode;o;o=Na(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.observer?this.observer.takeRecords():[];this.queue.length&&(n=this.queue.concat(n),this.queue.length=0);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&K0(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(Qn&&l.length>1){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let d=u[0],f=u[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&e.input.lastTouch<Date.now()-300&&Ju(r)&&(c=Zp(e))&&c.eq(ae.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Pr(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),oM(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Pr(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++)n.push(e.addedNodes[u]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(pn&&mi<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let s=i&&i.parentNode==e.target?kn(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?kn(o):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let nb=new WeakMap,rb=!1;function oM(t){if(!nb.has(t)&&(nb.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Qn,rb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),rb=!0}}function sM(t){let e;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return uo(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}function aM(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Ju(l)||c.push({node:l.focusNode,offset:l.focusOffset})),un&&t.input.lastKeyCode===8)for(let g=o;g>i;g--){let b=r.childNodes[g-1],_=b.pmViewDesc;if(b.nodeName=="BR"&&!_){o=g;break}if(!_||_.size)break}let d=t.state.doc,f=t.someProp("domParser")||gs.fromSchema(t.state.schema),h=d.resolve(s),p=null,m=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:lM,context:h});if(c&&c[0].pos!=null){let g=c[0].pos,b=c[1]&&c[1].pos;b==null&&(b=g),p={anchor:g+s,head:b+s}}return{doc:m,sel:p,from:s,to:a}}function lM(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Zt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Zt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function cM(t,e,n,r,i){if(e<0){let S=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,F=Zp(t,S);if(F&&!t.state.selection.eq(F)){let O=t.state.tr.setSelection(F);S=="pointer"?O.setMeta("pointer",!0):S=="key"&&O.scrollIntoView(),t.dispatch(O)}return}let o=t.state.doc.resolve(e),s=o.sharedDepth(n);e=o.before(s+1),n=t.state.doc.resolve(n).after(s+1);let a=t.state.selection,l=aM(t,e,n),c=t.state.doc,u=c.slice(l.from,l.to),d,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,f="end"):(d=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let h=hM(u.content,l.doc.content,l.from,d,f);if((ks&&t.input.lastIOSEnter>Date.now()-225||fr)&&i.some(S=>S.nodeName=="DIV"||S.nodeName=="P"||S.nodeName=="LI")&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",S=>S(t,Vo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&a instanceof le&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))h={start:a.from,endA:a.to,endB:a.to};else{if(l.sel){let S=ib(t,t.state.doc,l.sel);S&&!S.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(S))}return}if(un&&t.cursorWrapper&&l.sel&&l.sel.anchor==t.cursorWrapper.deco.from&&l.sel.head==l.sel.anchor){let S=h.endB-h.start;l.sel={anchor:l.sel.anchor+S,head:l.sel.anchor+S}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof le&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=l.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=l.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),pn&&mi<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>l.from&&l.doc.textBetween(h.start-l.from-1,h.start-l.from+1)==" \xA0"&&(h.start--,h.endA--,h.endB--);let p=l.doc.resolveNoCache(h.start-l.from),m=l.doc.resolveNoCache(h.endB-l.from),g=c.resolve(h.start),b=p.sameParent(m)&&p.parent.inlineContent&&g.end()>=h.endA,_;if((ks&&t.input.lastIOSEnter>Date.now()-225&&(!b||i.some(S=>S.nodeName=="DIV"||S.nodeName=="P"))||!b&&p.pos<l.doc.content.size&&(_=ae.findFrom(l.doc.resolve(p.pos+1),1,!0))&&_.head==m.pos)&&t.someProp("handleKeyDown",S=>S(t,Vo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&dM(c,h.start,h.endA,p,m)&&t.someProp("handleKeyDown",S=>S(t,Vo(8,"Backspace")))){fr&&un&&t.domObserver.suppressSelectionUpdates();return}un&&fr&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),fr&&!b&&p.start()!=m.start()&&m.parentOffset==0&&p.depth==m.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==h.endA&&(h.endB-=2,m=l.doc.resolveNoCache(h.endB-l.from),setTimeout(()=>{t.someProp("handleKeyDown",function(S){return S(t,Vo(13,"Enter"))})},20));let w=h.start,x=h.endA,k,y,D;if(b){if(p.pos==m.pos)pn&&mi<=11&&p.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Pr(t),20)),k=t.state.tr.delete(w,x),y=c.resolve(h.start).marksAcross(c.resolve(h.endA));else if(h.endA==h.endB&&(D=uM(p.parent.content.cut(p.parentOffset,m.parentOffset),g.parent.content.cut(g.parentOffset,h.endA-g.start()))))k=t.state.tr,D.type=="add"?k.addMark(w,x,D.mark):k.removeMark(w,x,D.mark);else if(p.parent.child(p.index()).isText&&p.index()==m.index()-(m.textOffset?0:1)){let S=p.parent.textBetween(p.parentOffset,m.parentOffset);if(t.someProp("handleTextInput",F=>F(t,w,x,S)))return;k=t.state.tr.insertText(S,w,x)}}if(k||(k=t.state.tr.replace(w,x,l.doc.slice(h.start-l.from,h.endB-l.from))),l.sel){let S=ib(t,k.doc,l.sel);S&&!(un&&fr&&t.composing&&S.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(S.head==w||S.head==k.mapping.map(x)-1)||pn&&S.empty&&S.head==w)&&k.setSelection(S)}y&&k.ensureMarks(y),t.dispatch(k.scrollIntoView())}function ib(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:em(t,e.resolve(n.anchor),e.resolve(n.head))}function uM(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)o=n[u].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(z.from(c).eq(t))return{mark:a,type:s}}function dM(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||Kd(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(Kd(o,!0,!0));return!s.parent.isTextblock||s.pos>n||Kd(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Kd(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function hM(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&t.size<e.size){let l=r<=o&&r>=s?o-r:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}class f_{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new $T,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(cb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=ab(this),sb(this),this.nodeViews=lb(this),this.docView=V0(this.state.doc,ob(this),Gd(this),this.dom,this),this.domObserver=new iM(this,(r,i,o,s)=>cM(this,r,i,o,s)),this.domObserver.start(),LT(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Pf(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(cb),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(l_(this),o=!0),this.state=e;let s=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=lb(this);pM(f,this.nodeViews)&&(this.nodeViews=f,i=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&Pf(this),this.editable=ab(this),sb(this);let a=Gd(this),l=ob(this),c=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",u=i||!this.docView.matchesNode(e.doc,l,a);(u||!e.selection.eq(r.selection))&&(o=!0);let d=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Z3(this);if(o){this.domObserver.stop();let f=u&&(pn||un)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&fM(r.selection,e.selection);if(u){let h=un?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,l,a,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=V0(e.doc,l,a,this.dom,this)),h&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&CT(this))?Pr(this,f):(Jk(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():d&&eT(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof re){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&R0(this,n.getBoundingClientRect(),e)}else R0(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(pn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&tT(this.dom),Pr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return sT(this,e)}coordsAtPos(e,n=1){return zk(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return dT(this,n||this.state,e)}destroy(){!this.docView||(IT(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Gd(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return BT(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Zt&&this.root.nodeType===11&&K3(this.dom.ownerDocument)==this.dom?sM(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function ob(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"&&(e.class+=" "+n[r]),r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),[tt.node(0,t.state.doc.content.size,e)]}function sb(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:tt.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function ab(t){return!t.someProp("editable",e=>e(t.state)===!1)}function fM(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function lb(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function pM(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function cb(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}class gn{constructor(e,n){this.match=e,this.match=e,this.handler=typeof n=="string"?mM(n):n}}function mM(t){return function(e,n,r,i){let o=t;if(n[1]){let s=n[0].lastIndexOf(n[1]);o+=n[0].slice(s+n[1].length),r+=s;let a=r-i;a>0&&(o=n[0].slice(s-a,s)+o,r=i)}return e.tr.insertText(o,r,i)}}new gn(/--$/,"\u2014");new gn(/\.\.\.$/,"\u2026");new gn(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C");new gn(/"$/,"\u201D");new gn(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018");new gn(/'$/,"\u2019");function Ns(t,e,n=null,r){return new gn(t,(i,o,s,a)=>{let l=n instanceof Function?n(o):n,c=i.tr.delete(s,a),u=c.doc.resolve(s),d=u.blockRange(),f=d&&K1(d,e,l);if(!f)return null;c.wrap(d,f);let h=c.doc.resolve(s-1).nodeBefore;return h&&h.type==e&&Vu(c.doc,s-1)&&(!r||r(o,h))&&c.join(s-1),c})}function zf(t,e,n=null){return new gn(t,(r,i,o,s)=>{let a=r.doc.resolve(o),l=n instanceof Function?n(i):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?r.tr.delete(o,s).setBlockType(o,o,e,l):null})}const Ei=typeof navigator<"u"?navigator:null,ub=typeof document<"u"?document:null,Ni=Ei&&Ei.userAgent||"",Vf=/Edge\/(\d+)/.exec(Ni),p_=/MSIE \d/.exec(Ni),qf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ni),Zu=!!(p_||qf||Vf),gM=p_?document.documentMode:qf?+qf[1]:Vf?+Vf[1]:0,m_=!Zu&&/gecko\/(\d+)/i.test(Ni),bM=m_&&+(/Firefox\/(\d+)/.exec(Ni)||[0,0])[1],Uf=!Zu&&/Chrome\/(\d+)/.exec(Ni),yM=!!Uf,wM=Uf?+Uf[1]:0,g_=!Zu&&!!Ei&&/Apple Computer/.test(Ei.vendor),b_=g_&&(/Mobile\/\w+/.test(Ni)||!!Ei&&Ei.maxTouchPoints>2),kM=b_||(Ei?/Mac/.test(Ei.platform):!1),_M=/Android \d/.test(Ni),y_=!!ub&&"webkitFontSmoothing"in ub.documentElement.style,DM=y_?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;var Uo=Object.freeze({__proto__:null,ie:Zu,ie_version:gM,gecko:m_,gecko_version:bM,chrome:yM,chrome_version:wM,safari:g_,ios:b_,mac:kM,android:_M,webkit:y_,webkit_version:DM});function Jd(t,e,n,r,i,o){if(t.composing)return!1;const s=t.state,a=s.doc.resolve(e);if(a.parent.type.spec.code)return!1;const l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,void 0,"\uFFFC")+r;for(let c=0;c<i.length;c++){const u=i[c].match.exec(l),d=u&&u[0]&&i[c].handler(s,u,e-(u[0].length-r.length),n);if(!!d)return t.dispatch(d.setMeta(o,{transform:d,from:e,to:n,text:r})),!0}return!1}const xM=new Se("MILKDOWN_CUSTOM_INPUTRULES"),CM=({rules:t})=>{const e=new De({key:xM,isInputRules:!0,state:{init(){return null},apply(n,r){const i=n.getMeta(this);return i||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput(n,r,i,o){return Jd(n,r,i,o,t,e)},handleDOMEvents:{compositionend:n=>(setTimeout(()=>{const{$cursor:r}=n.state.selection;r&&Jd(n,r.pos,r.pos,"",t,e)}),!1)},handleKeyDown(n,r){if(r.key!=="Enter")return!1;const{$cursor:i}=n.state.selection;return i?Jd(n,i.pos,i.pos,`
`,t,e):!1}}});return e},am=(t,e,n)=>{const r=t.state,{from:i}=r.selection,{node:o}=t.domAtPos(i),s=o instanceof Text?o.parentElement:o;if(!(s instanceof HTMLElement))throw Ht(s);const a=s.getBoundingClientRect(),l=e.getBoundingClientRect(),c=e.parentElement;if(!c)throw Ht(c);const u=c.getBoundingClientRect(),[d,f]=n(a,l,u);e.style.top=`${d}px`,e.style.left=`${f}px`},lm=(t,e,n)=>{const r=t.state,{from:i,to:o}=r.selection,s=t.coordsAtPos(i),a=t.coordsAtPos(o),l=e.getBoundingClientRect(),c=e.parentElement;if(!c)throw En();const u=c.getBoundingClientRect(),[d,f]=n(s,a,l,u);e.style.top=`${d}px`,e.style.left=`${f}px`},cm=t=>Object.assign(Object.create(t),t).setTime(Date.now()),vM=(t,e)=>Array.isArray(t)&&t.includes(e.type)||e.type===t,SM=(t,e=!0)=>{const n=[];return t.descendants((r,i)=>{if(n.push({node:r,pos:i}),!e)return!1}),n},Wf=t=>(e,n)=>SM(e,n).filter(r=>t(r.node)),Lo=(t,e)=>{const n=e.nodes[t];if(!n)throw Qv("node",t);return n},EM=t=>e=>{for(let n=e.depth;n>0;n--){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}},pl=t=>e=>EM(t)(e.$from),jr=(t,e)=>{if(!(t instanceof re))return;const{node:n,$from:r}=t;if(vM(e,n))return{node:n,pos:r.pos,start:r.start(r.depth),depth:r.depth}},um=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function AM(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const FM=(t,e,n)=>{let r=AM(t,n);if(!r)return!1;let i=w_(r);if(!i){let s=r.blockRange(),a=s&&zu(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&C_(t,i,e))return!0;if(r.parent.content.size==0&&(Ds(o,"end")||re.isSelectable(o))){let s=Up(t.doc,r.before(),r.after(),K.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(Ds(o,"end")?ae.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):re.create(a.doc,i.pos-o.nodeSize)),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function Ds(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const TM=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=w_(r)}let s=o&&o.nodeBefore;return!s||!re.isSelectable(s)?!1:(e&&e(t.tr.setSelection(re.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function w_(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function MM(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const OM=(t,e,n)=>{let r=MM(t,n);if(!r)return!1;let i=k_(r);if(!i)return!1;let o=i.nodeAfter;if(C_(t,i,e))return!0;if(r.parent.content.size==0&&(Ds(o,"start")||re.isSelectable(o))){let s=Up(t.doc,r.before(),r.after(),K.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(Ds(o,"start")?ae.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):re.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},NM=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=k_(r)}let s=o&&o.nodeAfter;return!s||!re.isSelectable(s)?!1:(e&&e(t.tr.setSelection(re.create(t.doc,o.pos)).scrollIntoView()),!0)};function k_(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const __=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function dm(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const $M=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=dm(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(ae.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},D_=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof xn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=dm(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(le.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},LM=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(da(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&zu(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function IM(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof re&&e.selection.node.isBlock)return!r.parentOffset||!da(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let o=i.parentOffset==i.parent.content.size,s=e.tr;(e.selection instanceof le||e.selection instanceof xn)&&s.deleteSelection();let a=r.depth==0?null:dm(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=t&&t(i.parent,o),c=l?[l]:o&&a?[{type:a}]:void 0,u=da(s.doc,s.mapping.map(r.pos),1,c);if(!c&&!u&&da(s.doc,s.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(c=[{type:a}]),u=!0),u&&(s.split(s.mapping.map(r.pos),1,c),!o&&!r.parentOffset&&r.parent.type!=a)){let d=s.mapping.map(r.before()),f=s.doc.resolve(d);a&&r.node(-1).canReplaceWith(f.index(),f.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}n(s.scrollIntoView())}return!0}}const x_=IM(),RM=(t,e)=>(e&&e(t.tr.setSelection(new xn(t.doc))),!0);function BM(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Vu(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function C_(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(BM(t,e,n))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let d=e.pos+i.nodeSize,f=z.empty;for(let m=o.length-1;m>=0;m--)f=z.from(o[m].create(null,f));f=z.from(r.copy(f));let h=t.tr.step(new Gt(e.pos-1,d,e.pos,d,new K(f,1,0),o.length,!0)),p=d+2*o.length;Vu(h.doc,p)&&h.join(p),n(h.scrollIntoView())}return!0}let l=ae.findFrom(e,1),c=l&&l.$from.blockRange(l.$to),u=c&&zu(c);if(u!=null&&u>=e.depth)return n&&n(t.tr.lift(c,u).scrollIntoView()),!0;if(a&&Ds(i,"start",!0)&&Ds(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let h=i,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(d.canReplace(d.childCount,d.childCount,h.content)){if(n){let m=z.empty;for(let b=f.length-1;b>=0;b--)m=z.from(f[b].copy(m));let g=t.tr.step(new Gt(e.pos-f.length,e.pos+i.nodeSize,e.pos+p,e.pos+i.nodeSize-p,new K(m,f.length,0),0,!0));n(g.scrollIntoView())}return!0}}return!1}function v_(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(le.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const PM=v_(-1),jM=v_(1);function br(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&K1(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function Zo(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,t,e)}r(o.scrollIntoView())}return!0}}function zM(t,e,n){for(let r=0;r<e.length;r++){let{$from:i,$to:o}=e[r],s=i.depth==0?t.inlineContent&&t.type.allowsMarkType(n):!1;if(t.nodesBetween(i.pos,o.pos,a=>{if(s)return!1;s=a.inlineContent&&a.type.allowsMarkType(n)}),s)return!0}return!1}function ed(t,e=null){return function(n,r){let{empty:i,$cursor:o,ranges:s}=n.selection;if(i&&!o||!zM(n.doc,s,t))return!1;if(r)if(o)t.isInSet(n.storedMarks||o.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{let a=!1,l=n.tr;for(let c=0;!a&&c<s.length;c++){let{$from:u,$to:d}=s[c];a=n.doc.rangeHasMark(u.pos,d.pos,t)}for(let c=0;c<s.length;c++){let{$from:u,$to:d}=s[c];if(a)l.removeMark(u.pos,d.pos,t);else{let f=u.pos,h=d.pos,p=u.nodeAfter,m=d.nodeBefore,g=p&&p.isText?/^\s*/.exec(p.text)[0].length:0,b=m&&m.isText?/\s*$/.exec(m.text)[0].length:0;f+g<h&&(f+=g,h-=b),l.addMark(f,h,t.create(e))}}r(l.scrollIntoView())}return!0}}function ml(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let Yd=ml(um,FM,TM),db=ml(um,OM,NM);const Nr={Enter:ml(__,D_,LM,x_),"Mod-Enter":$M,Backspace:Yd,"Mod-Backspace":Yd,"Shift-Backspace":Yd,Delete:db,"Mod-Delete":db,"Mod-a":RM},S_={"Ctrl-h":Nr.Backspace,"Alt-Backspace":Nr["Mod-Backspace"],"Ctrl-d":Nr.Delete,"Ctrl-Alt-Backspace":Nr["Mod-Delete"],"Alt-Delete":Nr["Mod-Delete"],"Alt-d":Nr["Mod-Delete"],"Ctrl-a":PM,"Ctrl-e":jM};for(let t in Nr)S_[t]=Nr[t];const VM=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,E_=VM?S_:Nr;var Ai={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},su={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},hb=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent);var qM=typeof navigator<"u"&&/Mac/.test(navigator.platform),UM=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),WM=qM||hb&&+hb[1]<57;for(var Ft=0;Ft<10;Ft++)Ai[48+Ft]=Ai[96+Ft]=String(Ft);for(var Ft=1;Ft<=24;Ft++)Ai[Ft+111]="F"+Ft;for(var Ft=65;Ft<=90;Ft++)Ai[Ft]=String.fromCharCode(Ft+32),su[Ft]=String.fromCharCode(Ft);for(var Xd in Ai)su.hasOwnProperty(Xd)||(su[Xd]=Ai[Xd]);function HM(t){var e=WM&&(t.ctrlKey||t.altKey||t.metaKey)||UM&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?su:Ai)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const GM=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function KM(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))GM?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function JM(t){let e=Object.create(null);for(let n in t)e[KM(n)]=t[n];return e}function Qd(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}function po(t){return new De({props:{handleKeyDown:td(t)}})}function td(t){let e=JM(t);return function(n,r){let i=HM(r),o=i.length==1&&i!=" ",s,a=e[Qd(i,r,!o)];if(a&&a(n.state,n.dispatch,n))return!0;if(o&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Ai[r.keyCode])&&s!=i){let l=e[Qd(s,r,!0)];if(l&&l(n.state,n.dispatch,n))return!0}else if(o&&r.shiftKey){let l=e[Qd(i,r,!0)];if(l&&l(n.state,n.dispatch,n))return!0}return!1}}var YM=Object.defineProperty,XM=(t,e,n)=>e in t?YM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ri=(t,e,n)=>(XM(t,typeof e!="symbol"?e+"":e,n),n),A_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},fe=(t,e,n)=>(A_(t,e,"read from private field"),n?n.call(t):e.get(t)),Jt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},_c=(t,e,n,r)=>(A_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);const Dc=zn("ConfigReady"),QM=t=>e=>(e.record(Dc),async n=>(await t(n),n.done(Dc),r=>{r.clearTimer(Dc)})),Zd=ie([],"themeTimer"),xc=zn("ThemeEnvironmentReady"),es=zn("ThemeReady"),ZM=new Se("MILKDOWN_THEME_RESET"),eO=t=>{const e=M2();return t.inject(Ed).inject(pi).inject(Fe,e).inject(Zd,[Dc]).record(es).record(xc),async n=>{await n.waitTimers(Zd);const r=T2(n.get(Ed));return $1.forEach(i=>{e.inject(i)}),n.set(pi,r),n.done(xc),n.done(es),await n.wait(zr),n.update(Dt,i=>i.concat(new De({key:ZM,view:()=>(e.runExecutor(),{destroy:()=>{r.flush()}})}))),i=>{i.remove(Ed).remove(pi).remove(Fe).remove(Zd).clearTimer(es).clearTimer(xc)}}},tO=t=>{let e=null;const n=()=>async r=>{await r.wait(xc);const i=r.get(pi),o=r.get(Fe);o.setExecutor(()=>{t==null||t(i,o),e==null||e(i,o),$1.forEach(s=>{o.has(s)||console.warn("Theme key not found: ",s.sliceName)}),o.get(jp,void 0)})};return n.override=r=>(e=r,n),n},zr=zn("InitReady"),eh=ie([],"initTimer"),fb=ie({},"editor"),La=ie([],"inputRules"),Dt=ie([],"prosePlugins"),xs=ie([],"remarkPlugins"),Ia=ie([],"nodeView"),Ra=ie([],"markView"),no=ie(Ff().use(Df).use(Sf),"remark"),nO={},th=ie(nO,"remarkStringifyOptions"),rO=t=>e=>(e.inject(fb,t).inject(Dt).inject(xs).inject(La).inject(Ia).inject(Ra).inject(th).inject(no,Ff().use(Df).use(Sf)).inject(eh,[es]).record(zr),async n=>{await n.waitTimers(eh);const r=n.get(th);return n.set(no,Ff().use(Df).use(Sf,r)),n.done(zr),i=>{i.remove(fb).remove(Dt).remove(xs).remove(La).remove(Ia).remove(Ra).remove(th).remove(no).remove(eh).clearTimer(zr)}}),wr=zn("schemaReady"),ht=ie({},"schema"),nh=ie([],"schemaTimer"),bi=ie([],"nodes"),yi=ie([],"marks"),pb=t=>{var e;return{...t,parseDOM:(e=t.parseDOM)==null?void 0:e.map(n=>({priority:t.priority,...n}))}},iO=t=>(t.inject(ht).inject(bi).inject(yi).inject(nh,[zr]).record(wr),async e=>{await e.waitTimers(nh);const n=e.get(no),r=e.get(xs).reduce((s,a)=>s.use(a),n);e.set(no,r);const i=Object.fromEntries(e.get(bi).map(([s,a])=>[s,pb(a)])),o=Object.fromEntries(e.get(yi).map(([s,a])=>[s,pb(a)]));return e.set(ht,new gS({nodes:i,marks:o})),e.done(wr),s=>{s.remove(ht).remove(bi).remove(yi).remove(nh).clearTimer(wr)}}),wi=ie(()=>{},"parser"),rh=ie([],"parserTimer"),Cc=zn("ParserReady"),oO=t=>(t.inject(wi).inject(rh,[wr]).record(Cc),async e=>{await e.waitTimers(rh);const n=e.get(bi),r=e.get(yi),i=e.get(no),o=e.get(ht),s=[...n.map(([l,c])=>({id:l,...c})).map(l=>({...l,is:"node"})),...r.map(([l,c])=>({id:l,...c})).map(l=>({...l,is:"mark"}))],a=Object.fromEntries(s.map(({id:l,parseMarkdown:c,is:u})=>[l,{...c,is:u,key:l}]));return e.set(wi,rE(o,a,i)),e.done(Cc),l=>{l.remove(wi).remove(rh).clearTimer(Cc)}}),ts=ie(()=>"","serializer"),ih=ie([],"serializerTimer"),ma=zn("SerializerReady"),sO=t=>(t.inject(ts).inject(ih,[wr]).record(ma),async e=>{await e.waitTimers(ih);const n=e.get(bi),r=e.get(yi),i=e.get(no),o=e.get(ht),s=[...n,...r],a=Object.fromEntries(s.map(([l,c])=>[l,c.toMarkdown]));return e.set(ts,yE(o,a,i)),e.done(ma),l=>{l.remove(ts).remove(ih).clearTimer(ma)}}),vc=ie("","defaultValue"),Xs=ie({},"editorState"),Sc=ie(t=>t,"stateOptions"),Ec=ie([],"editorStateTimer"),Ac=zn("EditorStateReady"),aO=new Se("MILKDOWN_STATE_TRACKER"),F_=(t,e,n)=>{if(typeof t=="string")return e(t);if(t.type==="html")return gs.fromSchema(n).parse(t.dom);if(t.type==="json")return fn.fromJSON(n,t.value);throw Wv(t)},lO=t=>(t.inject(vc).inject(Xs).inject(Sc).inject(Ec,[Cc,ma,Tc]).record(Ac),async e=>{await e.waitTimers(Ec);const n=e.get(ht),r=e.get(wi),i=e.get(La),o=e.get(Sc),s=e.get(Dt),a=e.get(vc),l=F_(a,r,n),c=[...s,new De({key:aO,state:{init:()=>{},apply:(f,h,p,m)=>{e.set(Xs,m)}}}),CM({rules:i}),po(E_)];e.set(Dt,c);const u=o({schema:n,doc:l,plugins:c}),d=di.create(u);return e.set(Xs,d),e.done(Ac),f=>{f.remove(vc).remove(Xs).remove(Sc).remove(Ec).clearTimer(Ac)}}),Je=ie({},"editorView"),oh=ie({},"editorViewOptions"),Fc=ie(null,"root"),sh=ie([],"editorViewTimer"),Hf=ie(null,"rootDOM"),ro=zn("EditorViewReady"),cO=(t,e)=>{const n=document.createElement("div");return n.className="milkdown",t.appendChild(n),e.set(Hf,n),n},uO=t=>{t.classList.add("editor"),t.setAttribute("role","textbox")},dO=new Se("MILKDOWN_VIEW_CLEAR"),hO=t=>(t.inject(Fc,document.body).inject(Je).inject(oh).inject(Hf).inject(sh,[Ac]).record(ro),async e=>{await e.wait(zr);const n=e.get(Fc)||document.body,r=typeof n=="string"?document.querySelector(n):n;e.update(Dt,c=>[new De({key:dO,view:u=>{const d=r?cO(r,e):void 0;return(()=>{if(d&&r){const f=u.dom;r.replaceChild(d,f),d.appendChild(f)}})(),{destroy:()=>{d!=null&&d.parentNode&&(d==null||d.parentNode.replaceChild(u.dom,d)),d==null||d.remove()}}}}),...c]),await e.waitTimers(sh);const i=e.get(Xs),o=e.get(oh),s=Object.fromEntries(e.get(Ia)),a=Object.fromEntries(e.get(Ra)),l=new f_(r,{state:i,nodeViews:s,markViews:a,...o});return uO(l.dom),e.set(Je,l),e.done(ro),c=>{l==null||l.destroy(),c.remove(Fc).remove(Je).remove(oh).remove(Hf).remove(sh).clearTimer(ro)}});var Qs,Zs;class fO{constructor(){Jt(this,Qs,Ru()),Jt(this,Zs,null),ri(this,"setCtx",e=>{_c(this,Zs,e)})}create(e,n){return e(fe(this,Qs).sliceMap,n)}get(e){return fe(this,Qs).getSlice(e).get()}call(e,n){if(fe(this,Zs)==null)throw Zv();const r=this.get(e)(n),i=fe(this,Zs).get(Je);return r(i.state,i.dispatch,i)}remove(e){return fe(this,Qs).removeSlice(e)}}Qs=new WeakMap,Zs=new WeakMap;const _e=(t,e)=>[t,e],xe=(t="cmdKey")=>ie(()=>()=>!1,t),ve=ie({},"commands"),ah=ie([],"commandsTimer"),Tc=zn("CommandsReady"),pO=t=>{const e=new fO;return t.inject(ve,e).inject(ah,[wr]).record(Tc),async n=>(await n.waitTimers(ah),n.done(Tc),await n.wait(ro),e.setCtx(n),r=>{r.remove(ve).remove(ah).clearTimer(Tc)})};var Mr,ea,Mc,ta,na,or,ra,Oc,Gf,Kf,Jf,Nc,Io;const T_=class{constructor(){Jt(this,Mr,"Idle"),Jt(this,ea,[]),Jt(this,Mc,()=>{}),Jt(this,ta,Ru()),Jt(this,na,D1()),Jt(this,or,new Map),Jt(this,ra,new PS(fe(this,ta),fe(this,na))),Jt(this,Oc,new VS(fe(this,ta),fe(this,na))),Jt(this,Gf,new zS(fe(this,ta),fe(this,na))),Jt(this,Kf,()=>{const t=[eO,iO,oO,sO,pO,lO,hO,rO(this)],e=QM(async n=>{await Promise.all(fe(this,ea).map(r=>r(n)))});this.use(t.concat(e))}),Jt(this,Jf,()=>{[...fe(this,or).entries()].map(async([t,e])=>{var n;const r=(n=e.handler)!=null?n:t(fe(this,Oc));fe(this,or).set(t,{...e,handler:r})})}),Jt(this,Nc,(t,e=!1)=>Promise.all([t].flat().map(n=>{const r=fe(this,or).get(n),i=r==null?void 0:r.cleanup;if(e&&fe(this,or).delete(n),typeof i=="function")return i(fe(this,Gf))}))),Jt(this,Io,t=>{_c(this,Mr,t),fe(this,Mc).call(this,t)}),ri(this,"use",t=>([t].flat().forEach(e=>{const n=fe(this,Mr)==="Created"?e(fe(this,Oc)):void 0;fe(this,or).set(e,{handler:n,cleanup:void 0})}),this)),ri(this,"config",t=>(fe(this,ea).push(t),this)),ri(this,"onStatusChange",t=>(_c(this,Mc,t),this)),ri(this,"create",async()=>fe(this,Mr)==="OnCreate"?this:(fe(this,Mr)==="Created"&&await this.destroy(),fe(this,Io).call(this,"OnCreate"),fe(this,Kf).call(this),fe(this,Jf).call(this),await Promise.all([...fe(this,or).entries()].map(async([t,e])=>{const n=e.handler;if(!n)return;const r=await n(fe(this,ra));return fe(this,or).set(t,{handler:n,cleanup:r}),r})),fe(this,Io).call(this,"Created"),this)),ri(this,"remove",async t=>(await fe(this,Nc).call(this,[t].flat(),!0),this)),ri(this,"destroy",async(t=!1)=>fe(this,Mr)==="Destroyed"||fe(this,Mr)==="OnDestroy"?this:(t&&_c(this,ea,[]),fe(this,Io).call(this,"OnDestroy"),await fe(this,Nc).call(this,[...fe(this,or).keys()],t),fe(this,Io).call(this,"Destroyed"),this)),ri(this,"action",t=>t(fe(this,ra)))}static make(){return new T_}get ctx(){return fe(this,ra)}get status(){return fe(this,Mr)}};let mO=T_;Mr=new WeakMap,ea=new WeakMap,Mc=new WeakMap,ta=new WeakMap,na=new WeakMap,or=new WeakMap,ra=new WeakMap,Oc=new WeakMap,Gf=new WeakMap,Kf=new WeakMap,Jf=new WeakMap,Nc=new WeakMap,Io=new WeakMap;function gO(t={}){return new De({view(e){return new bO(e,t)}})}class bO{constructor(e,n){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=o=>{this[r](o)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n;if(!e.parent.inlineContent){let s=e.nodeBefore,a=e.nodeAfter;if(s||a){let l=this.editorView.nodeDOM(this.cursorPos-(s?s.nodeSize:0));if(l){let c=l.getBoundingClientRect(),u=s?c.bottom:c.top;s&&a&&(u=(u+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:c.left,right:c.right,top:u-this.width/2,bottom:u+this.width/2}}}}if(!n){let s=this.editorView.coordsAtPos(this.cursorPos);n={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);let i,o;if(!r||r==document.body&&getComputedStyle(r).position=="static")i=-pageXOffset,o=-pageYOffset;else{let s=r.getBoundingClientRect();i=s.left-r.scrollLeft,o=s.top-r.scrollTop}this.element.style.left=n.left-i+"px",this.element.style.top=n.top-o+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(s=qp(this.editorView.state.doc,s,this.editorView.dragging.slice),s==null))return this.setCursor(null);this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}class et extends ae{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return et.valid(r)?new et(r):ae.near(r)}content(){return K.empty}eq(e){return e instanceof et&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new et(e.resolve(n.pos))}getBookmark(){return new hm(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!yO(e)||!wO(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&et.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let l=e.doc.resolve(i);if(et.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!re.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=e.doc.resolve(i);if(et.valid(a))return a}return null}}}et.prototype.visible=!1;et.findFrom=et.findGapCursorFrom;ae.jsonID("gapcursor",et);class hm{constructor(e){this.pos=e}map(e){return new hm(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return et.valid(n)?new et(n):ae.near(n)}}function yO(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function wO(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function kO(){return new De({props:{decorations:CO,createSelectionBetween(t,e,n){return e.pos==n.pos&&et.valid(n)?new et(n):null},handleClick:DO,handleKeyDown:_O,handleDOMEvents:{beforeinput:xO}}})}const _O=td({ArrowLeft:Wl("horiz",-1),ArrowRight:Wl("horiz",1),ArrowUp:Wl("vert",-1),ArrowDown:Wl("vert",1)});function Wl(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof le){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=et.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new et(c))),!0):!1}}function DO(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!et.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&re.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new et(r))),!0)}function xO(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof et))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=z.empty;for(let s=r.length-1;s>=0;s--)i=z.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new K(i,0,0));return o.setSelection(le.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function CO(t){if(!(t.selection instanceof et))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Te.create(t.doc,[tt.widget(t.selection.head,e,{key:"gapcursor"})])}const mb=t=>Object.prototype.hasOwnProperty.call(t,"origin");class rn extends Array{findThenRun(e,n){const r=this.findIndex(i=>mb(i)&&i.origin===e);return r<0?this:(n(r),this)}configure(e,n){return this.findThenRun(e,r=>{this.splice(r,1,e(n))})}replace(e,n){return this.findThenRun(e,r=>{this.splice(r,1,n)})}remove(e){return this.findThenRun(e,n=>{this.splice(n,1)})}headless(){return this.filter(mb).forEach(e=>{this.configure(e.origin,{headless:!0})}),this}static create(e){return new rn(...e)}}p1("abcedfghicklmn",10);const vO=t=>{const e=()=>async n=>{await n.wait(wr);const[r,i]=t(n);n.get(ve).create(r,i),e.run=o=>n.get(ve).call(r,o),e.key=r};return e},M_=t=>{const e=()=>async n=>{await n.wait(wr);const r=t(n);n.update(Dt,i=>[...i,r]),e.plugin=r};return e},O_=t=>{const e=()=>async n=>{await n.wait(zr);const r=t(n);n.update(xs,i=>[...i,r]),e.plugin=r};return e},SO=t=>{const e=()=>async n=>{await n.wait(wr);const r=t(n);n.update(Dt,i=>[...i,po(r)]),e.keymap=r};return e},EO=t=>(e,...n)=>{var r;const i=(r=t==null?void 0:t(e,...n))!=null?r:n;return Array.isArray(i)?i.filter(o=>o).join(" "):i},Ue=(t,e,n)=>[t,e,n];function fm(t,e){try{const n=t.get(Fe),r=t.get(pi);if(!r.css)throw Tg();return{getClassName:EO(e==null?void 0:e.className),getStyle:i=>e!=null&&e.headless?"":i(r),themeManager:n}}catch{throw Tg()}}const pm=t=>{const e=n=>{const r=t(n);return r.origin=e,r};return e},mm=(t,e)=>n=>{const r=n,i=o=>e((...s)=>o(t(...s),...s));return r.extend=i,r},nd=(...t)=>{const e=t.length;let n=e;for(;n--;)if(typeof t[n]!="function")throw new TypeError("Expected a function");return(...r)=>{let i=0,o=e?t[i](...r):r[0];for(;++i<e;)o=t[i](o);return o}},$s=ie({},"optionsPipeCtx"),gl=ie([],"injectPipeCtx"),gm=async(t,e)=>{const{pipelineCtx:n,onCleanup:r,pre:i}=t,o=n.get(gl);o&&(o.forEach(s=>i.inject(s)),r(s=>{o.forEach(a=>s.remove(a))})),await e()},bm=async(t,e)=>{const{ctx:n}=t;await n.wait(es),await e()},bl=ie(void 0,"getRemarkPluginsPipeCtx"),ym=async(t,e)=>{const{ctx:n,pipelineCtx:r,onCleanup:i}=t;await n.wait(zr);const o=r.get(bl);if(o){const s=o(n);n.update(xs,a=>a.concat(s)),i(()=>{n.update(xs,a=>a.filter(l=>!s.includes(l)))})}await e()},yl=ie(void 0,"getSchemaPipeCtx"),wl=ie({},"Type"),wm=async(t,e)=>{var n;const{ctx:r,pipelineCtx:i,onCleanup:o}=t,s=i.get(yl),a=(n=s==null?void 0:s(t.ctx))!=null?n:{};let l={},c={};if(a.node){l=a.node;const p=Object.entries(a.node);r.update(bi,m=>[...m,...p]),o(()=>{r.update(bi,m=>m.filter(g=>!p.includes(g)))})}if(a.mark){c=a.mark;const p=Object.entries(a.mark);r.update(yi,m=>[...m,...p]),o(()=>{r.update(yi,m=>m.filter(g=>!p.includes(g)))})}await r.wait(wr);const u=r.get(ht),d=Object.keys(l).map(p=>[p,u.nodes[p]]),f=Object.keys(c).map(p=>[p,u.marks[p]]),h=Object.fromEntries([...d,...f]);i.set(wl,h),await e()},kl=ie(void 0,"getCommandsPipeCtx"),km=async(t,e)=>{const{ctx:n,pipelineCtx:r,onCleanup:i}=t,o=r.get(kl);if(o){const s=r.get(wl),a=o(s,n);a.forEach(([l,c])=>{n.get(ve).create(l,c)}),i(()=>{a.forEach(([l])=>{n.get(ve).remove(l)})})}await e()},_l=ie(void 0,"getInputRulesPipeCtx"),_m=async(t,e)=>{const{ctx:n,pipelineCtx:r,onCleanup:i}=t,o=r.get(_l);if(o){const s=r.get(wl),a=o(s,n);n.update(La,l=>[...l,...a]),i(()=>{n.update(La,l=>l.filter(c=>!a.includes(c)))})}await e()},Dl=ie({},"shortcutsPipeCtx"),Dm=async(t,e)=>{const{pipelineCtx:n,ctx:r,onCleanup:i}=t,o=n.get(Dl),s=n.get($s),a=(u,d)=>{var f,h;return(h=(f=s==null?void 0:s.keymap)==null?void 0:f[u])!=null?h:d},l=Object.entries(o).flatMap(([u,[d,f,h]])=>{const p=()=>r.get(ve).call(d,h),m=a(u,f);return Array.isArray(m)?m.map(g=>({key:g,runner:p})):{key:m,runner:p}}).map(u=>[u.key,u.runner]),c=po(Object.fromEntries(l));r.update(Dt,u=>u.concat(c)),i(()=>{r.update(Dt,u=>u.filter(d=>d!==c))}),await e()},xl=ie(void 0,"getProsePluginsPipeCtx"),xm=async(t,e)=>{const{pipelineCtx:n,ctx:r,onCleanup:i}=t,o=n.get(xl);if(o){const s=n.get(wl),a=o(s,r);r.update(Dt,l=>[...l,...a]),i(()=>{r.update(Dt,l=>l.filter(c=>!a.includes(c)))})}await e()},Cl=ie(void 0,"getViewPipeCtx"),Cm=async(t,e)=>{const{pipelineCtx:n,ctx:r,onCleanup:i}=t,o=n.get(Cl),s=n.get($s),a=s.view?s.view(r):o==null?void 0:o(r);if(a){const l=Object.entries(a).filter(([u])=>r.get(bi).findIndex(d=>d[0]===u)!==-1),c=Object.entries(a).filter(([u])=>r.get(yi).findIndex(d=>d[0]===u)!==-1);r.update(Ia,u=>[...u,...l]),r.update(Ra,u=>[...u,...c]),i(()=>{r.update(Ia,u=>u.filter(d=>!l.includes(d))),r.update(Ra,u=>u.filter(d=>!c.includes(d)))})}await e()},vm=ie("","idPipeCtx"),Sm=async(t,e)=>{const{pipelineCtx:n}=t;n.inject(vm).inject($s).inject(gl).inject(bl).inject(yl).inject(wl).inject(kl).inject(_l).inject(Dl).inject(xl).inject(Cl),await e()},AO=t=>(e,n)=>{let r=-1;const i=o=>{if(o<=r)return Promise.reject(new Error("next() called multiple times"));r=o;let s=t[o];if(o===t.length&&(s=n),!s)return Promise.resolve();try{return Promise.resolve(s(e,()=>i(o+1)))}catch(a){return Promise.reject(a)}};return i(0)},Em=t=>{const e=AO(t),n=Ru(),r=D1(),i=new Set,o=new jS(n,r),s=c=>{i.add(c)},a=async c=>{await Promise.all([...i].map(u=>u(c)))},l=(c,u)=>e({pre:c,ctx:u,pipelineCtx:o,onCleanup:s});return l.runCleanup=a,l},Ls=t=>nd(pm,mm(t,Ls))(e=>n=>async r=>{const i=Em([Sm,bm,async({pipelineCtx:o},s)=>{const a=fm(r,e),l=t(a,e),{id:c,commands:u,remarkPlugins:d,schema:f,inputRules:h,shortcuts:p,prosePlugins:m,view:g,injectSlices:b}=l,_=e==null?void 0:e.view,w=b!=null?b:[],x={...e||{},view:_?k=>({[c]:_(k)}):void 0};o.set(gl,w),o.set(vm,c),o.set($s,x),o.set(bl,d),o.set(yl,k=>({mark:{[c]:f(k)}})),u&&o.set(kl,(k,y)=>u(k[c],y)),h&&o.set(_l,(k,y)=>h(k[c],y)),p&&o.set(Dl,p),m&&o.set(xl,(k,y)=>m(k[c],y)),g&&o.set(Cl,k=>({[c]:g(k)})),await s()},gm,ym,wm,km,_m,Dm,xm,Cm]);return await i(n,r),i.runCleanup}),Ct=t=>nd(pm,mm(t,Ct))(e=>n=>async r=>{const i=Em([Sm,bm,async({pipelineCtx:o},s)=>{const a=fm(r,e),l=t(a,e),{id:c,commands:u,remarkPlugins:d,schema:f,inputRules:h,shortcuts:p,prosePlugins:m,view:g,injectSlices:b}=l,_=e==null?void 0:e.view,w=b!=null?b:[],x={...e||{},view:_?k=>({[c]:_(k)}):void 0};o.set(gl,w),o.set(vm,c),o.set($s,x),o.set(bl,d),o.set(yl,k=>({node:{[c]:f(k)}})),u&&o.set(kl,(k,y)=>u(k[c],y)),h&&o.set(_l,(k,y)=>h(k[c],y)),p&&o.set(Dl,p),m&&o.set(xl,(k,y)=>m(k[c],y)),g&&o.set(Cl,k=>({[c]:g(k)})),await s()},gm,ym,wm,km,_m,Dm,xm,Cm]);return await i(n,r),i.runCleanup}),Kr=t=>nd(pm,mm(t,Kr))(e=>n=>async r=>{const i=Em([Sm,bm,async({pipelineCtx:o},s)=>{const a=fm(r,e),l=t(a,e),{commands:c,remarkPlugins:u,schema:d,inputRules:f,shortcuts:h,prosePlugins:p,view:m,injectSlices:g}=l,b=g!=null?g:[];o.set(gl,b),o.set($s,e||{}),o.set(bl,u),d&&o.set(yl,d),c&&o.set(kl,c),f&&o.set(_l,f),h&&o.set(Dl,h),p&&o.set(xl,p),m&&o.set(Cl,m),await s()},gm,ym,wm,km,_m,Dm,xm,Cm]);return await i(n,r),i.runCleanup}),N_=(t,e=!1)=>n=>{const r=n.get(Je),i=n.get(wi)(t);if(!i)return;if(!e){const{state:u}=r;return r.dispatch(u.tr.replace(0,u.doc.content.size,new K(i.content,0,0)))}const o=n.get(ht),s=n.get(Sc),a=n.get(Dt),l=n.get(Fe),c=di.create({schema:o,doc:i,plugins:a,...s});r.updateState(c),l.flush(n)},FO=t=>e=>e.get(Fe).switch(e,t),TO=Kr(({getStyle:t,themeManager:e})=>(e.onFlush(()=>{t(({injectGlobal:n})=>{n`
                /* copy from https://github.com/ProseMirror/prosemirror-gapcursor/blob/master/style/gapcursor.css */
                .ProseMirror-gapcursor {
                    display: none;
                    pointer-events: none;
                    position: absolute;
                    margin: 0 !important;
                }

                .ProseMirror-gapcursor:after {
                    content: '';
                    display: block;
                    position: absolute;
                    top: -2px;
                    width: 20px;
                    border-top: ${e.get(He,"lineWidth")} solid
                        ${e.get(qt,["secondary"])};
                    animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
                }

                @keyframes ProseMirror-cursor-blink {
                    to {
                        visibility: hidden;
                    }
                }

                .ProseMirror-focused .ProseMirror-gapcursor {
                    display: block;
                }
            `})}),{prosePlugins:(n,r)=>{var i,o;const s=r.get(Fe),a=s.get(He,"lineWidth"),l=s.get(qt,["secondary"]),c=Number((o=(i=a==null?void 0:a.match(/\d+/))==null?void 0:i[0])!=null?o:1);return[kO(),gO({color:l,width:c})]}}))();var $_={exports:{}},MO=typeof Ul=="object"&&Ul&&Ul.Object===Object&&Ul,L_=MO,OO=L_,NO=typeof self=="object"&&self&&self.Object===Object&&self,$O=OO||NO||Function("return this")(),$i=$O,LO=$i,IO=LO.Symbol,Am=IO;function RO(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var BO=RO,gb=Am,I_=Object.prototype,PO=I_.hasOwnProperty,jO=I_.toString,Ws=gb?gb.toStringTag:void 0;function zO(t){var e=PO.call(t,Ws),n=t[Ws];try{t[Ws]=void 0;var r=!0}catch{}var i=jO.call(t);return r&&(e?t[Ws]=n:delete t[Ws]),i}var VO=zO,qO=Object.prototype,UO=qO.toString;function WO(t){return UO.call(t)}var HO=WO,bb=Am,GO=VO,KO=HO,JO="[object Null]",YO="[object Undefined]",yb=bb?bb.toStringTag:void 0;function XO(t){return t==null?t===void 0?YO:JO:yb&&yb in Object(t)?GO(t):KO(t)}var vl=XO;function QO(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var R_=QO,ZO=vl,eN=R_,tN="[object AsyncFunction]",nN="[object Function]",rN="[object GeneratorFunction]",iN="[object Proxy]";function oN(t){if(!eN(t))return!1;var e=ZO(t);return e==nN||e==rN||e==tN||e==iN}var B_=oN,sN=$i,aN=sN["__core-js_shared__"],lN=aN,lh=lN,wb=function(){var t=/[^.]+$/.exec(lh&&lh.keys&&lh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function cN(t){return!!wb&&wb in t}var uN=cN,dN=Function.prototype,hN=dN.toString;function fN(t){if(t!=null){try{return hN.call(t)}catch{}try{return t+""}catch{}}return""}var P_=fN,pN=B_,mN=uN,gN=R_,bN=P_,yN=/[\\^$.*+?()[\]{}|]/g,wN=/^\[object .+?Constructor\]$/,kN=Function.prototype,_N=Object.prototype,DN=kN.toString,xN=_N.hasOwnProperty,CN=RegExp("^"+DN.call(xN).replace(yN,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vN(t){if(!gN(t)||mN(t))return!1;var e=pN(t)?CN:wN;return e.test(bN(t))}var SN=vN;function EN(t,e){return t==null?void 0:t[e]}var AN=EN,FN=SN,TN=AN;function MN(t,e){var n=TN(t,e);return FN(n)?n:void 0}var Sl=MN,ON=Sl,NN=$i,$N=ON(NN,"DataView"),LN=$N,IN=Sl,RN=$i,BN=IN(RN,"Map"),PN=BN,jN=Sl,zN=$i,VN=jN(zN,"Promise"),qN=VN,UN=Sl,WN=$i,HN=UN(WN,"Set"),GN=HN,KN=Sl,JN=$i,YN=KN(JN,"WeakMap"),XN=YN,Yf=LN,Xf=PN,Qf=qN,Zf=GN,ep=XN,j_=vl,Is=P_,kb="[object Map]",QN="[object Object]",_b="[object Promise]",Db="[object Set]",xb="[object WeakMap]",Cb="[object DataView]",ZN=Is(Yf),e8=Is(Xf),t8=Is(Qf),n8=Is(Zf),r8=Is(ep),Vi=j_;(Yf&&Vi(new Yf(new ArrayBuffer(1)))!=Cb||Xf&&Vi(new Xf)!=kb||Qf&&Vi(Qf.resolve())!=_b||Zf&&Vi(new Zf)!=Db||ep&&Vi(new ep)!=xb)&&(Vi=function(t){var e=j_(t),n=e==QN?t.constructor:void 0,r=n?Is(n):"";if(r)switch(r){case ZN:return Cb;case e8:return kb;case t8:return _b;case n8:return Db;case r8:return xb}return e});var i8=Vi,o8=9007199254740991;function s8(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=o8}var z_=s8,a8=B_,l8=z_;function c8(t){return t!=null&&l8(t.length)&&!a8(t)}var V_=c8,u8=Array.isArray,q_=u8;function d8(t){return t!=null&&typeof t=="object"}var rd=d8,h8=vl,f8=q_,p8=rd,m8="[object String]";function g8(t){return typeof t=="string"||!f8(t)&&p8(t)&&h8(t)==m8}var b8=g8;function y8(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}var w8=y8;function k8(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var _8=k8;function D8(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var x8=D8;function C8(t){return t.split("")}var v8=C8,S8="\\ud800-\\udfff",E8="\\u0300-\\u036f",A8="\\ufe20-\\ufe2f",F8="\\u20d0-\\u20ff",T8=E8+A8+F8,M8="\\ufe0e\\ufe0f",O8="\\u200d",N8=RegExp("["+O8+S8+T8+M8+"]");function $8(t){return N8.test(t)}var L8=$8,U_="\\ud800-\\udfff",I8="\\u0300-\\u036f",R8="\\ufe20-\\ufe2f",B8="\\u20d0-\\u20ff",P8=I8+R8+B8,j8="\\ufe0e\\ufe0f",z8="["+U_+"]",tp="["+P8+"]",np="\\ud83c[\\udffb-\\udfff]",V8="(?:"+tp+"|"+np+")",W_="[^"+U_+"]",H_="(?:\\ud83c[\\udde6-\\uddff]){2}",G_="[\\ud800-\\udbff][\\udc00-\\udfff]",q8="\\u200d",K_=V8+"?",J_="["+j8+"]?",U8="(?:"+q8+"(?:"+[W_,H_,G_].join("|")+")"+J_+K_+")*",W8=J_+K_+U8,H8="(?:"+[W_+tp+"?",tp,H_,G_,z8].join("|")+")",G8=RegExp(np+"(?="+np+")|"+H8+W8,"g");function K8(t){return t.match(G8)||[]}var J8=K8,Y8=v8,X8=L8,Q8=J8;function Z8(t){return X8(t)?Q8(t):Y8(t)}var e$=Z8;function t$(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var n$=t$,r$=n$;function i$(t,e){return r$(e,function(n){return t[n]})}var o$=i$;function s$(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var a$=s$,l$=vl,c$=rd,u$="[object Arguments]";function d$(t){return c$(t)&&l$(t)==u$}var h$=d$,vb=h$,f$=rd,Y_=Object.prototype,p$=Y_.hasOwnProperty,m$=Y_.propertyIsEnumerable,g$=vb(function(){return arguments}())?vb:function(t){return f$(t)&&p$.call(t,"callee")&&!m$.call(t,"callee")},b$=g$,rp={exports:{}};function y$(){return!1}var w$=y$;(function(t,e){var n=$i,r=w$,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(rp,rp.exports);var k$=9007199254740991,_$=/^(?:0|[1-9]\d*)$/;function D$(t,e){var n=typeof t;return e=e==null?k$:e,!!e&&(n=="number"||n!="symbol"&&_$.test(t))&&t>-1&&t%1==0&&t<e}var x$=D$,C$=vl,v$=z_,S$=rd,E$="[object Arguments]",A$="[object Array]",F$="[object Boolean]",T$="[object Date]",M$="[object Error]",O$="[object Function]",N$="[object Map]",$$="[object Number]",L$="[object Object]",I$="[object RegExp]",R$="[object Set]",B$="[object String]",P$="[object WeakMap]",j$="[object ArrayBuffer]",z$="[object DataView]",V$="[object Float32Array]",q$="[object Float64Array]",U$="[object Int8Array]",W$="[object Int16Array]",H$="[object Int32Array]",G$="[object Uint8Array]",K$="[object Uint8ClampedArray]",J$="[object Uint16Array]",Y$="[object Uint32Array]",Ge={};Ge[V$]=Ge[q$]=Ge[U$]=Ge[W$]=Ge[H$]=Ge[G$]=Ge[K$]=Ge[J$]=Ge[Y$]=!0;Ge[E$]=Ge[A$]=Ge[j$]=Ge[F$]=Ge[z$]=Ge[T$]=Ge[M$]=Ge[O$]=Ge[N$]=Ge[$$]=Ge[L$]=Ge[I$]=Ge[R$]=Ge[B$]=Ge[P$]=!1;function X$(t){return S$(t)&&v$(t.length)&&!!Ge[C$(t)]}var Q$=X$;function Z$(t){return function(e){return t(e)}}var eL=Z$,ip={exports:{}};(function(t,e){var n=L_,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(ip,ip.exports);var tL=Q$,nL=eL,Sb=ip.exports,Eb=Sb&&Sb.isTypedArray,rL=Eb?nL(Eb):tL,iL=rL,oL=a$,sL=b$,aL=q_,lL=rp.exports,cL=x$,uL=iL,dL=Object.prototype,hL=dL.hasOwnProperty;function fL(t,e){var n=aL(t),r=!n&&sL(t),i=!n&&!r&&lL(t),o=!n&&!r&&!i&&uL(t),s=n||r||i||o,a=s?oL(t.length,String):[],l=a.length;for(var c in t)(e||hL.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||cL(c,l)))&&a.push(c);return a}var pL=fL,mL=Object.prototype;function gL(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||mL;return t===n}var bL=gL;function yL(t,e){return function(n){return t(e(n))}}var wL=yL,kL=wL,_L=kL(Object.keys,Object),DL=_L,xL=bL,CL=DL,vL=Object.prototype,SL=vL.hasOwnProperty;function EL(t){if(!xL(t))return CL(t);var e=[];for(var n in Object(t))SL.call(t,n)&&n!="constructor"&&e.push(n);return e}var AL=EL,FL=pL,TL=AL,ML=V_;function OL(t){return ML(t)?FL(t):TL(t)}var NL=OL,$L=o$,LL=NL;function IL(t){return t==null?[]:$L(t,LL(t))}var RL=IL,Ab=Am,BL=BO,PL=i8,jL=V_,zL=b8,VL=w8,qL=_8,UL=x8,WL=e$,HL=RL,GL="[object Map]",KL="[object Set]",ch=Ab?Ab.iterator:void 0;function JL(t){if(!t)return[];if(jL(t))return zL(t)?WL(t):BL(t);if(ch&&t[ch])return VL(t[ch]());var e=PL(t),n=e==GL?qL:e==KL?UL:HL;return n(t)}var YL=JL;const XL="\u2614",QL="\u2615",ZL="\u2648",eI="\u2649",tI="\u2650",nI="\u2651",rI="\u2652",iI="\u2653",oI="\u2693",sI="\u2705",aI="\u2728",lI="\u2753",cI="\u2754",uI="\u2755",dI="\u2757",hI="\u2757",fI="\u2795",pI="\u2796",mI="\u2797",gI="#\uFE0F\u20E3",bI="*\uFE0F\u20E3",yI="0\uFE0F\u20E3",wI="1\uFE0F\u20E3",kI="2\uFE0F\u20E3",_I="3\uFE0F\u20E3",DI="4\uFE0F\u20E3",xI="5\uFE0F\u20E3",CI="6\uFE0F\u20E3",vI="7\uFE0F\u20E3",SI="8\uFE0F\u20E3",EI="9\uFE0F\u20E3",AI="\xA9\uFE0F",FI="\xAE\uFE0F",TI="\u{1F004}",MI="\u{1F0CF}",OI="\u{1F170}\uFE0F",NI="\u{1F171}\uFE0F",$I="\u{1F17E}\uFE0F",LI="\u{1F17F}\uFE0F",II="\u{1F18E}",RI="\u{1F191}",BI="\u{1F192}",PI="\u{1F193}",jI="\u{1F194}",zI="\u{1F196}",VI="\u{1F197}",qI="\u{1F198}",UI="\u{1F199}",WI="\u{1F19A}",HI="\u{1F1E8}\u{1F1F3}",GI="\u{1F1E9}\u{1F1EA}",KI="\u{1F1EA}\u{1F1F8}",JI="\u{1F1EB}\u{1F1F7}",YI="\u{1F1EC}\u{1F1E7}",XI="\u{1F1EC}\u{1F1E7}",QI="\u{1F1EE}\u{1F1F9}",ZI="\u{1F1EF}\u{1F1F5}",e6="\u{1F1F0}\u{1F1F7}",t6="\u{1F1F7}\u{1F1FA}",n6="\u{1F1FA}\u{1F1F8}",r6="\u{1F201}",i6="\u{1F202}\uFE0F",o6="\u{1F21A}",s6="\u{1F22F}",a6="\u{1F232}",l6="\u{1F233}",c6="\u{1F234}",u6="\u{1F235}",d6="\u{1F236}",h6="\u{1F237}\uFE0F",f6="\u{1F238}",p6="\u{1F239}",m6="\u{1F23A}",g6="\u{1F250}",b6="\u{1F251}",y6="\u{1F300}",w6="\u{1F301}",k6="\u{1F302}",_6="\u{1F303}",D6="\u{1F304}",x6="\u{1F305}",C6="\u{1F306}",v6="\u{1F307}",S6="\u{1F308}",E6="\u{1F309}",A6="\u{1F30A}",F6="\u{1F30B}",T6="\u{1F30C}",M6="\u{1F30D}",O6="\u{1F30E}",N6="\u{1F30F}",$6="\u{1F310}",L6="\u{1F311}",I6="\u{1F312}",R6="\u{1F313}",B6="\u{1F314}",P6="\u{1F314}",j6="\u{1F315}",z6="\u{1F316}",V6="\u{1F317}",q6="\u{1F318}",U6="\u{1F319}",W6="\u{1F31A}",H6="\u{1F31B}",G6="\u{1F31C}",K6="\u{1F31D}",J6="\u{1F31E}",Y6="\u{1F31F}",X6="\u{1F320}",Q6="\u{1F321}\uFE0F",Z6="\u{1F324}\uFE0F",eR="\u{1F324}\uFE0F",tR="\u{1F325}\uFE0F",nR="\u{1F325}\uFE0F",rR="\u{1F326}\uFE0F",iR="\u{1F326}\uFE0F",oR="\u{1F327}\uFE0F",sR="\u{1F328}\uFE0F",aR="\u{1F329}\uFE0F",lR="\u{1F329}\uFE0F",cR="\u{1F32A}\uFE0F",uR="\u{1F32A}\uFE0F",dR="\u{1F32B}\uFE0F",hR="\u{1F32C}\uFE0F",fR="\u{1F32D}",pR="\u{1F32E}",mR="\u{1F32F}",gR="\u{1F330}",bR="\u{1F331}",yR="\u{1F332}",wR="\u{1F333}",kR="\u{1F334}",_R="\u{1F335}",DR="\u{1F336}\uFE0F",xR="\u{1F337}",CR="\u{1F338}",vR="\u{1F339}",SR="\u{1F33A}",ER="\u{1F33B}",AR="\u{1F33C}",FR="\u{1F33D}",TR="\u{1F33E}",MR="\u{1F33F}",OR="\u{1F340}",NR="\u{1F341}",$R="\u{1F342}",LR="\u{1F343}",IR="\u{1F344}",RR="\u{1F345}",BR="\u{1F346}",PR="\u{1F347}",jR="\u{1F348}",zR="\u{1F349}",VR="\u{1F34A}",qR="\u{1F34B}",UR="\u{1F34C}",WR="\u{1F34D}",HR="\u{1F34E}",GR="\u{1F34F}",KR="\u{1F350}",JR="\u{1F351}",YR="\u{1F352}",XR="\u{1F353}",QR="\u{1F354}",ZR="\u{1F355}",eB="\u{1F356}",tB="\u{1F357}",nB="\u{1F358}",rB="\u{1F359}",iB="\u{1F35A}",oB="\u{1F35B}",sB="\u{1F35C}",aB="\u{1F35D}",lB="\u{1F35E}",cB="\u{1F35F}",uB="\u{1F360}",dB="\u{1F361}",hB="\u{1F362}",fB="\u{1F363}",pB="\u{1F364}",mB="\u{1F365}",gB="\u{1F366}",bB="\u{1F367}",yB="\u{1F368}",wB="\u{1F369}",kB="\u{1F36A}",_B="\u{1F36B}",DB="\u{1F36C}",xB="\u{1F36D}",CB="\u{1F36E}",vB="\u{1F36F}",SB="\u{1F370}",EB="\u{1F371}",AB="\u{1F372}",FB="\u{1F373}",TB="\u{1F373}",MB="\u{1F374}",OB="\u{1F375}",NB="\u{1F376}",$B="\u{1F377}",LB="\u{1F378}",IB="\u{1F379}",RB="\u{1F37A}",BB="\u{1F37B}",PB="\u{1F37C}",jB="\u{1F37D}\uFE0F",zB="\u{1F37E}",VB="\u{1F37F}",qB="\u{1F380}",UB="\u{1F381}",WB="\u{1F382}",HB="\u{1F383}",GB="\u{1F384}",KB="\u{1F385}",JB="\u{1F386}",YB="\u{1F387}",XB="\u{1F388}",QB="\u{1F389}",ZB="\u{1F38A}",e4="\u{1F38B}",t4="\u{1F38C}",n4="\u{1F38D}",r4="\u{1F38E}",i4="\u{1F38F}",o4="\u{1F390}",s4="\u{1F391}",a4="\u{1F392}",l4="\u{1F393}",c4="\u{1F396}\uFE0F",u4="\u{1F397}\uFE0F",d4="\u{1F399}\uFE0F",h4="\u{1F39A}\uFE0F",f4="\u{1F39B}\uFE0F",p4="\u{1F39E}\uFE0F",m4="\u{1F39F}\uFE0F",g4="\u{1F3A0}",b4="\u{1F3A1}",y4="\u{1F3A2}",w4="\u{1F3A3}",k4="\u{1F3A4}",_4="\u{1F3A5}",D4="\u{1F3A6}",x4="\u{1F3A7}",C4="\u{1F3A8}",v4="\u{1F3A9}",S4="\u{1F3AA}",E4="\u{1F3AB}",A4="\u{1F3AC}",F4="\u{1F3AD}",T4="\u{1F3AE}",M4="\u{1F3AF}",O4="\u{1F3B0}",N4="\u{1F3B2}",$4="\u{1F3B3}",L4="\u{1F3B4}",I4="\u{1F3B5}",R4="\u{1F3B6}",B4="\u{1F3B7}",P4="\u{1F3B8}",j4="\u{1F3B9}",z4="\u{1F3BA}",V4="\u{1F3BB}",q4="\u{1F3BC}",U4="\u{1F3BD}",W4="\u{1F3BE}",H4="\u{1F3BF}",G4="\u{1F3C0}",K4="\u{1F3C1}",J4="\u{1F3C2}",Y4="\u{1F3C3}\u200D\u2642\uFE0F",X4="\u{1F3C3}\u200D\u2642\uFE0F",Q4="\u{1F3C4}\u200D\u2642\uFE0F",Z4="\u{1F3C5}",eP="\u{1F3C6}",tP="\u{1F3C7}",nP="\u{1F3C8}",rP="\u{1F3C9}",iP="\u{1F3CA}\u200D\u2642\uFE0F",oP="\u{1F3CB}\uFE0F\u200D\u2642\uFE0F",sP="\u{1F3CC}\uFE0F\u200D\u2642\uFE0F",aP="\u{1F3CD}\uFE0F",lP="\u{1F3CE}\uFE0F",cP="\u{1F3CF}",uP="\u{1F3D0}",dP="\u{1F3D1}",hP="\u{1F3D2}",fP="\u{1F3D3}",pP="\u{1F3D4}\uFE0F",mP="\u{1F3D5}\uFE0F",gP="\u{1F3D6}\uFE0F",bP="\u{1F3D7}\uFE0F",yP="\u{1F3D8}\uFE0F",wP="\u{1F3D9}\uFE0F",kP="\u{1F3DA}\uFE0F",_P="\u{1F3DB}\uFE0F",DP="\u{1F3DC}\uFE0F",xP="\u{1F3DD}\uFE0F",CP="\u{1F3DE}\uFE0F",vP="\u{1F3DF}\uFE0F",SP="\u{1F3E0}",EP="\u{1F3E1}",AP="\u{1F3E2}",FP="\u{1F3E3}",TP="\u{1F3E4}",MP="\u{1F3E5}",OP="\u{1F3E6}",NP="\u{1F3E7}",$P="\u{1F3E8}",LP="\u{1F3E9}",IP="\u{1F3EA}",RP="\u{1F3EB}",BP="\u{1F3EC}",PP="\u{1F3ED}",jP="\u{1F3EE}",zP="\u{1F3EE}",VP="\u{1F3EF}",qP="\u{1F3F0}",UP="\u{1F3F3}\uFE0F\u200D\u26A7\uFE0F",WP="\u{1F3F3}\uFE0F",HP="\u{1F3F4}\u200D\u2620\uFE0F",GP="\u{1F3F4}",KP="\u{1F3F5}\uFE0F",JP="\u{1F3F7}\uFE0F",YP="\u{1F3F8}",XP="\u{1F3F9}",QP="\u{1F3FA}",ZP="\u{1F400}",ej="\u{1F401}",tj="\u{1F402}",nj="\u{1F403}",rj="\u{1F404}",ij="\u{1F405}",oj="\u{1F406}",sj="\u{1F407}",aj="\u{1F408}\u200D\u2B1B",lj="\u{1F408}",cj="\u{1F409}",uj="\u{1F40A}",dj="\u{1F40B}",hj="\u{1F40C}",fj="\u{1F40D}",pj="\u{1F40E}",mj="\u{1F40F}",gj="\u{1F410}",bj="\u{1F411}",yj="\u{1F412}",wj="\u{1F413}",kj="\u{1F414}",_j="\u{1F415}\u200D\u{1F9BA}",Dj="\u{1F415}",xj="\u{1F416}",Cj="\u{1F417}",vj="\u{1F418}",Sj="\u{1F419}",Ej="\u{1F41A}",Aj="\u{1F41B}",Fj="\u{1F41C}",Tj="\u{1F41D}",Mj="\u{1F41D}",Oj="\u{1F41E}",Nj="\u{1F41E}",$j="\u{1F41F}",Lj="\u{1F420}",Ij="\u{1F421}",Rj="\u{1F422}",Bj="\u{1F423}",Pj="\u{1F424}",jj="\u{1F425}",zj="\u{1F426}",Vj="\u{1F427}",qj="\u{1F428}",Uj="\u{1F429}",Wj="\u{1F42A}",Hj="\u{1F42B}",Gj="\u{1F42C}",Kj="\u{1F42C}",Jj="\u{1F42D}",Yj="\u{1F42E}",Xj="\u{1F42F}",Qj="\u{1F430}",Zj="\u{1F431}",ez="\u{1F432}",tz="\u{1F433}",nz="\u{1F434}",rz="\u{1F435}",iz="\u{1F436}",oz="\u{1F437}",sz="\u{1F438}",az="\u{1F439}",lz="\u{1F43A}",cz="\u{1F43B}\u200D\u2744\uFE0F",uz="\u{1F43B}",dz="\u{1F43C}",hz="\u{1F43D}",fz="\u{1F43E}",pz="\u{1F43E}",mz="\u{1F43F}\uFE0F",gz="\u{1F440}",bz="\u{1F441}\uFE0F",yz="\u{1F442}",wz="\u{1F443}",kz="\u{1F444}",_z="\u{1F445}",Dz="\u{1F446}",xz="\u{1F447}",Cz="\u{1F448}",vz="\u{1F449}",Sz="\u{1F44A}",Ez="\u{1F44A}",Az="\u{1F44B}",Fz="\u{1F44C}",Tz="\u{1F44D}",Mz="\u{1F44E}",Oz="\u{1F44F}",Nz="\u{1F450}",$z="\u{1F451}",Lz="\u{1F452}",Iz="\u{1F453}",Rz="\u{1F454}",Bz="\u{1F455}",Pz="\u{1F455}",jz="\u{1F456}",zz="\u{1F457}",Vz="\u{1F458}",qz="\u{1F459}",Uz="\u{1F45A}",Wz="\u{1F45B}",Hz="\u{1F45C}",Gz="\u{1F45D}",Kz="\u{1F45E}",Jz="\u{1F45E}",Yz="\u{1F45F}",Xz="\u{1F460}",Qz="\u{1F461}",Zz="\u{1F462}",e5="\u{1F463}",t5="\u{1F464}",n5="\u{1F465}",r5="\u{1F466}",i5="\u{1F467}",o5="\u{1F468}\u200D\u{1F37C}",s5="\u{1F468}\u200D\u{1F469}\u200D\u{1F466}",a5="\u{1F468}\u200D\u{1F9AF}",l5="\u{1F468}\u200D\u{1F9B0}",c5="\u{1F468}\u200D\u{1F9B1}",u5="\u{1F468}\u200D\u{1F9B2}",d5="\u{1F468}\u200D\u{1F9B3}",h5="\u{1F468}\u200D\u{1F9BC}",f5="\u{1F468}\u200D\u{1F9BD}",p5="\u{1F468}",m5="\u{1F469}\u200D\u{1F37C}",g5="\u{1F469}\u200D\u{1F9AF}",b5="\u{1F469}\u200D\u{1F9B0}",y5="\u{1F469}\u200D\u{1F9B1}",w5="\u{1F469}\u200D\u{1F9B2}",k5="\u{1F469}\u200D\u{1F9B3}",_5="\u{1F469}\u200D\u{1F9BC}",D5="\u{1F469}\u200D\u{1F9BD}",x5="\u{1F469}",C5="\u{1F46B}",v5="\u{1F46B}",S5="\u{1F46B}",E5="\u{1F46C}",A5="\u{1F46C}",F5="\u{1F46D}",T5="\u{1F46D}",M5="\u{1F46E}\u200D\u2642\uFE0F",O5="\u{1F46F}\u200D\u2640\uFE0F",N5="\u{1F470}\u200D\u2640\uFE0F",$5="\u{1F470}\u200D\u2642\uFE0F",L5="\u{1F470}",I5="\u{1F471}\u200D\u2642\uFE0F",R5="\u{1F472}",B5="\u{1F473}\u200D\u2642\uFE0F",P5="\u{1F474}",j5="\u{1F475}",z5="\u{1F476}",V5="\u{1F477}\u200D\u2642\uFE0F",q5="\u{1F478}",U5="\u{1F479}",W5="\u{1F47A}",H5="\u{1F47B}",G5="\u{1F47C}",K5="\u{1F47D}",J5="\u{1F47E}",Y5="\u{1F47F}",X5="\u{1F480}",Q5="\u{1F481}\u200D\u2640\uFE0F",Z5="\u{1F482}\u200D\u2642\uFE0F",e7="\u{1F483}",t7="\u{1F484}",n7="\u{1F485}",r7="\u{1F486}\u200D\u2640\uFE0F",i7="\u{1F487}\u200D\u2640\uFE0F",o7="\u{1F488}",s7="\u{1F489}",a7="\u{1F48A}",l7="\u{1F48B}",c7="\u{1F48C}",u7="\u{1F48D}",d7="\u{1F48E}",h7="\u{1F48F}",f7="\u{1F490}",p7="\u{1F491}",m7="\u{1F492}",g7="\u{1F493}",b7="\u{1F494}",y7="\u{1F495}",w7="\u{1F496}",k7="\u{1F497}",_7="\u{1F498}",D7="\u{1F499}",x7="\u{1F49A}",C7="\u{1F49B}",v7="\u{1F49C}",S7="\u{1F49D}",E7="\u{1F49E}",A7="\u{1F49F}",F7="\u{1F4A0}",T7="\u{1F4A1}",M7="\u{1F4A2}",O7="\u{1F4A3}",N7="\u{1F4A4}",$7="\u{1F4A5}",L7="\u{1F4A5}",I7="\u{1F4A6}",R7="\u{1F4A7}",B7="\u{1F4A8}",P7="\u{1F4A9}",j7="\u{1F4A9}",z7="\u{1F4A9}",V7="\u{1F4AA}",q7="\u{1F4AB}",U7="\u{1F4AC}",W7="\u{1F4AD}",H7="\u{1F4AE}",G7="\u{1F4B0}",K7="\u{1F4B1}",J7="\u{1F4B2}",Y7="\u{1F4B3}",X7="\u{1F4B4}",Q7="\u{1F4B5}",Z7="\u{1F4B6}",e9="\u{1F4B7}",t9="\u{1F4B8}",n9="\u{1F4B9}",r9="\u{1F4BA}",i9="\u{1F4BB}",o9="\u{1F4BC}",s9="\u{1F4BD}",a9="\u{1F4BE}",l9="\u{1F4BF}",c9="\u{1F4C0}",u9="\u{1F4C1}",d9="\u{1F4C2}",h9="\u{1F4C3}",f9="\u{1F4C4}",p9="\u{1F4C5}",m9="\u{1F4C6}",g9="\u{1F4C7}",b9="\u{1F4C8}",y9="\u{1F4C9}",w9="\u{1F4CA}",k9="\u{1F4CB}",_9="\u{1F4CC}",D9="\u{1F4CD}",x9="\u{1F4CE}",C9="\u{1F4CF}",v9="\u{1F4D0}",S9="\u{1F4D1}",E9="\u{1F4D2}",A9="\u{1F4D3}",F9="\u{1F4D4}",T9="\u{1F4D5}",M9="\u{1F4D6}",O9="\u{1F4D6}",N9="\u{1F4D7}",$9="\u{1F4D8}",L9="\u{1F4D9}",I9="\u{1F4DA}",R9="\u{1F4DB}",B9="\u{1F4DC}",P9="\u{1F4DD}",j9="\u{1F4DD}",z9="\u{1F4DE}",V9="\u{1F4DF}",q9="\u{1F4E0}",U9="\u{1F4E1}",W9="\u{1F4E2}",H9="\u{1F4E3}",G9="\u{1F4E4}",K9="\u{1F4E5}",J9="\u{1F4E8}",Y9="\u{1F4E9}",X9="\u{1F4EA}",Q9="\u{1F4EB}",Z9="\u{1F4EC}",eV="\u{1F4ED}",tV="\u{1F4EE}",nV="\u{1F4EF}",rV="\u{1F4F0}",iV="\u{1F4F1}",oV="\u{1F4F2}",sV="\u{1F4F3}",aV="\u{1F4F4}",lV="\u{1F4F5}",cV="\u{1F4F6}",uV="\u{1F4F7}",dV="\u{1F4F8}",hV="\u{1F4F9}",fV="\u{1F4FA}",pV="\u{1F4FB}",mV="\u{1F4FC}",gV="\u{1F4FD}\uFE0F",bV="\u{1F4FF}",yV="\u{1F500}",wV="\u{1F501}",kV="\u{1F502}",_V="\u{1F503}",DV="\u{1F504}",xV="\u{1F505}",CV="\u{1F506}",vV="\u{1F507}",SV="\u{1F508}",EV="\u{1F509}",AV="\u{1F50A}",FV="\u{1F50B}",TV="\u{1F50C}",MV="\u{1F50D}",OV="\u{1F50E}",NV="\u{1F50F}",$V="\u{1F510}",LV="\u{1F511}",IV="\u{1F512}",RV="\u{1F513}",BV="\u{1F514}",PV="\u{1F515}",jV="\u{1F516}",zV="\u{1F517}",VV="\u{1F518}",qV="\u{1F519}",UV="\u{1F51A}",WV="\u{1F51B}",HV="\u{1F51C}",GV="\u{1F51D}",KV="\u{1F51E}",JV="\u{1F51F}",YV="\u{1F520}",XV="\u{1F521}",QV="\u{1F523}",ZV="\u{1F524}",eq="\u{1F525}",tq="\u{1F526}",nq="\u{1F527}",rq="\u{1F528}",iq="\u{1F529}",oq="\u{1F52A}",sq="\u{1F52A}",aq="\u{1F52B}",lq="\u{1F52C}",cq="\u{1F52D}",uq="\u{1F52E}",dq="\u{1F52F}",hq="\u{1F530}",fq="\u{1F531}",pq="\u{1F532}",mq="\u{1F533}",gq="\u{1F534}",bq="\u{1F535}",yq="\u{1F536}",wq="\u{1F537}",kq="\u{1F538}",_q="\u{1F539}",Dq="\u{1F53A}",xq="\u{1F53B}",Cq="\u{1F53C}",vq="\u{1F53D}",Sq="\u{1F549}\uFE0F",Eq="\u{1F54A}\uFE0F",Aq="\u{1F54B}",Fq="\u{1F54C}",Tq="\u{1F54D}",Mq="\u{1F54E}",Oq="\u{1F550}",Nq="\u{1F551}",$q="\u{1F552}",Lq="\u{1F553}",Iq="\u{1F554}",Rq="\u{1F555}",Bq="\u{1F556}",Pq="\u{1F557}",jq="\u{1F558}",zq="\u{1F559}",Vq="\u{1F55A}",qq="\u{1F55B}",Uq="\u{1F55C}",Wq="\u{1F55D}",Hq="\u{1F55E}",Gq="\u{1F55F}",Kq="\u{1F560}",Jq="\u{1F561}",Yq="\u{1F562}",Xq="\u{1F563}",Qq="\u{1F564}",Zq="\u{1F565}",eU="\u{1F566}",tU="\u{1F567}",nU="\u{1F56F}\uFE0F",rU="\u{1F570}\uFE0F",iU="\u{1F573}\uFE0F",oU="\u{1F574}\uFE0F",sU="\u{1F575}\uFE0F\u200D\u2642\uFE0F",aU="\u{1F576}\uFE0F",lU="\u{1F577}\uFE0F",cU="\u{1F578}\uFE0F",uU="\u{1F579}\uFE0F",dU="\u{1F57A}",hU="\u{1F587}\uFE0F",fU="\u{1F58A}\uFE0F",pU="\u{1F58B}\uFE0F",mU="\u{1F58C}\uFE0F",gU="\u{1F58D}\uFE0F",bU="\u{1F590}\uFE0F",yU="\u{1F595}",wU="\u{1F595}",kU="\u{1F5A4}",_U="\u{1F5A5}\uFE0F",DU="\u{1F5A8}\uFE0F",xU="\u{1F5B1}\uFE0F",CU="\u{1F5B2}\uFE0F",vU="\u{1F5BC}\uFE0F",SU="\u{1F5C2}\uFE0F",EU="\u{1F5C3}\uFE0F",AU="\u{1F5C4}\uFE0F",FU="\u{1F5D1}\uFE0F",TU="\u{1F5D2}\uFE0F",MU="\u{1F5D3}\uFE0F",OU="\u{1F5DC}\uFE0F",NU="\u{1F5DD}\uFE0F",$U="\u{1F5DE}\uFE0F",LU="\u{1F5E1}\uFE0F",IU="\u{1F5E3}\uFE0F",RU="\u{1F5E8}\uFE0F",BU="\u{1F5EF}\uFE0F",PU="\u{1F5F3}\uFE0F",jU="\u{1F5FA}\uFE0F",zU="\u{1F5FB}",VU="\u{1F5FC}",qU="\u{1F5FD}",UU="\u{1F5FE}",WU="\u{1F5FF}",HU="\u{1F600}",GU="\u{1F601}",KU="\u{1F602}",JU="\u{1F603}",YU="\u{1F604}",XU="\u{1F605}",QU="\u{1F606}",ZU="\u{1F606}",eW="\u{1F607}",tW="\u{1F608}",nW="\u{1F609}",rW="\u{1F60A}",iW="\u{1F60B}",oW="\u{1F60C}",sW="\u{1F60D}",aW="\u{1F60E}",lW="\u{1F60F}",cW="\u{1F610}",uW="\u{1F611}",dW="\u{1F612}",hW="\u{1F613}",fW="\u{1F614}",pW="\u{1F615}",mW="\u{1F616}",gW="\u{1F617}",bW="\u{1F618}",yW="\u{1F619}",wW="\u{1F61A}",kW="\u{1F61B}",_W="\u{1F61C}",DW="\u{1F61D}",xW="\u{1F61E}",CW="\u{1F61F}",vW="\u{1F620}",SW="\u{1F621}",EW="\u{1F622}",AW="\u{1F623}",FW="\u{1F624}",TW="\u{1F625}",MW="\u{1F626}",OW="\u{1F627}",NW="\u{1F628}",$W="\u{1F629}",LW="\u{1F62A}",IW="\u{1F62B}",RW="\u{1F62C}",BW="\u{1F62D}",PW="\u{1F62E}\u200D\u{1F4A8}",jW="\u{1F62E}",zW="\u{1F62F}",VW="\u{1F630}",qW="\u{1F631}",UW="\u{1F632}",WW="\u{1F633}",HW="\u{1F634}",GW="\u{1F635}\u200D\u{1F4AB}",KW="\u{1F635}",JW="\u{1F636}\u200D\u{1F32B}\uFE0F",YW="\u{1F636}",XW="\u{1F637}",QW="\u{1F638}",ZW="\u{1F639}",eH="\u{1F63A}",tH="\u{1F63B}",nH="\u{1F63C}",rH="\u{1F63D}",iH="\u{1F63E}",oH="\u{1F63F}",sH="\u{1F640}",aH="\u{1F641}",lH="\u{1F642}",cH="\u{1F643}",uH="\u{1F644}",dH="\u{1F645}\u200D\u2640\uFE0F",hH="\u{1F646}\u200D\u2640\uFE0F",fH="\u{1F647}\u200D\u2642\uFE0F",pH="\u{1F648}",mH="\u{1F649}",gH="\u{1F64A}",bH="\u{1F64B}\u200D\u2640\uFE0F",yH="\u{1F64C}",wH="\u{1F64D}\u200D\u2640\uFE0F",kH="\u{1F64E}\u200D\u2640\uFE0F",_H="\u{1F64F}",DH="\u{1F680}",xH="\u{1F681}",CH="\u{1F682}",vH="\u{1F683}",SH="\u{1F684}",EH="\u{1F685}",AH="\u{1F686}",FH="\u{1F687}",TH="\u{1F688}",MH="\u{1F689}",OH="\u{1F68A}",NH="\u{1F68B}",$H="\u{1F68C}",LH="\u{1F68D}",IH="\u{1F68E}",RH="\u{1F68F}",BH="\u{1F690}",PH="\u{1F691}",jH="\u{1F692}",zH="\u{1F693}",VH="\u{1F694}",qH="\u{1F695}",UH="\u{1F696}",WH="\u{1F697}",HH="\u{1F697}",GH="\u{1F698}",KH="\u{1F699}",JH="\u{1F69A}",YH="\u{1F69B}",XH="\u{1F69C}",QH="\u{1F69D}",ZH="\u{1F69E}",eG="\u{1F69F}",tG="\u{1F6A0}",nG="\u{1F6A1}",rG="\u{1F6A2}",iG="\u{1F6A3}\u200D\u2642\uFE0F",oG="\u{1F6A4}",sG="\u{1F6A5}",aG="\u{1F6A6}",lG="\u{1F6A7}",cG="\u{1F6A8}",uG="\u{1F6A9}",dG="\u{1F6AA}",hG="\u{1F6AB}",fG="\u{1F6AC}",pG="\u{1F6AD}",mG="\u{1F6AE}",gG="\u{1F6AF}",bG="\u{1F6B0}",yG="\u{1F6B2}",wG="\u{1F6B3}",kG="\u{1F6B4}\u200D\u2642\uFE0F",_G="\u{1F6B5}\u200D\u2642\uFE0F",DG="\u{1F6B6}\u200D\u2642\uFE0F",xG="\u{1F6B7}",CG="\u{1F6B8}",vG="\u{1F6B9}",SG="\u{1F6BA}",EG="\u{1F6BB}",AG="\u{1F6BC}",FG="\u{1F6BD}",TG="\u{1F6BE}",MG="\u{1F6BF}",OG="\u{1F6C0}",NG="\u{1F6C1}",$G="\u{1F6C2}",LG="\u{1F6C3}",IG="\u{1F6C4}",RG="\u{1F6C5}",BG="\u{1F6CB}\uFE0F",PG="\u{1F6CC}",jG="\u{1F6CD}\uFE0F",zG="\u{1F6CE}\uFE0F",VG="\u{1F6CF}\uFE0F",qG="\u{1F6D0}",UG="\u{1F6D1}",WG="\u{1F6D2}",HG="\u{1F6D5}",GG="\u{1F6D6}",KG="\u{1F6D7}",JG="\u{1F6E0}\uFE0F",YG="\u{1F6E1}\uFE0F",XG="\u{1F6E2}\uFE0F",QG="\u{1F6E3}\uFE0F",ZG="\u{1F6E4}\uFE0F",eK="\u{1F6E5}\uFE0F",tK="\u{1F6E9}\uFE0F",nK="\u{1F6EB}",rK="\u{1F6EC}",iK="\u{1F6F0}\uFE0F",oK="\u{1F6F3}\uFE0F",sK="\u{1F6F4}",aK="\u{1F6F5}",lK="\u{1F6F6}",cK="\u{1F6F7}",uK="\u{1F6F8}",dK="\u{1F6F9}",hK="\u{1F6FA}",fK="\u{1F6FB}",pK="\u{1F6FC}",mK="\u{1F7E0}",gK="\u{1F7E1}",bK="\u{1F7E2}",yK="\u{1F7E3}",wK="\u{1F7E4}",kK="\u{1F7E5}",_K="\u{1F7E6}",DK="\u{1F7E7}",xK="\u{1F7E8}",CK="\u{1F7E9}",vK="\u{1F7EA}",SK="\u{1F7EB}",EK="\u{1F90C}",AK="\u{1F90D}",FK="\u{1F90E}",TK="\u{1F90F}",MK="\u{1F910}",OK="\u{1F911}",NK="\u{1F912}",$K="\u{1F913}",LK="\u{1F914}",IK="\u{1F915}",RK="\u{1F916}",BK="\u{1F917}",PK="\u{1F918}",jK="\u{1F918}",zK="\u{1F919}",VK="\u{1F91A}",qK="\u{1F91D}",UK="\u{1F91E}",WK="\u{1F91E}",HK="\u{1F91F}",GK="\u{1F920}",KK="\u{1F921}",JK="\u{1F922}",YK="\u{1F923}",XK="\u{1F924}",QK="\u{1F925}",ZK="\u{1F926}",eJ="\u{1F927}",tJ="\u{1F928}",nJ="\u{1F928}",rJ="\u{1F929}",iJ="\u{1F92A}",oJ="\u{1F92A}",sJ="\u{1F92B}",aJ="\u{1F92B}",lJ="\u{1F92C}",cJ="\u{1F92C}",uJ="\u{1F92D}",dJ="\u{1F92D}",hJ="\u{1F92E}",fJ="\u{1F92E}",pJ="\u{1F92F}",mJ="\u{1F92F}",gJ="\u{1F930}",bJ="\u{1F932}",yJ="\u{1F933}",wJ="\u{1F934}",kJ="\u{1F935}\u200D\u2640\uFE0F",_J="\u{1F935}\u200D\u2642\uFE0F",DJ="\u{1F935}",xJ="\u{1F936}",CJ="\u{1F936}",vJ="\u{1F937}",SJ="\u{1F938}",EJ="\u{1F939}",AJ="\u{1F93A}",FJ="\u{1F93C}",TJ="\u{1F93D}",MJ="\u{1F93E}",OJ="\u{1F93F}",NJ="\u{1F940}",$J="\u{1F941}",LJ="\u{1F942}",IJ="\u{1F943}",RJ="\u{1F944}",BJ="\u{1F945}",PJ="\u{1F947}",jJ="\u{1F948}",zJ="\u{1F949}",VJ="\u{1F94A}",qJ="\u{1F94B}",UJ="\u{1F94C}",WJ="\u{1F94D}",HJ="\u{1F94E}",GJ="\u{1F94F}",KJ="\u{1F950}",JJ="\u{1F951}",YJ="\u{1F952}",XJ="\u{1F953}",QJ="\u{1F954}",ZJ="\u{1F955}",eY="\u{1F956}",tY="\u{1F957}",nY="\u{1F958}",rY="\u{1F959}",iY="\u{1F95A}",oY="\u{1F95B}",sY="\u{1F95C}",aY="\u{1F95D}",lY="\u{1F95E}",cY="\u{1F95F}",uY="\u{1F960}",dY="\u{1F961}",hY="\u{1F962}",fY="\u{1F963}",pY="\u{1F964}",mY="\u{1F965}",gY="\u{1F966}",bY="\u{1F967}",yY="\u{1F968}",wY="\u{1F969}",kY="\u{1F96A}",_Y="\u{1F96B}",DY="\u{1F96C}",xY="\u{1F96D}",CY="\u{1F96E}",vY="\u{1F96F}",SY="\u{1F970}",EY="\u{1F971}",AY="\u{1F972}",FY="\u{1F973}",TY="\u{1F974}",MY="\u{1F975}",OY="\u{1F976}",NY="\u{1F977}",$Y="\u{1F978}",LY="\u{1F97A}",IY="\u{1F97B}",RY="\u{1F97C}",BY="\u{1F97D}",PY="\u{1F97E}",jY="\u{1F97F}",zY="\u{1F980}",VY="\u{1F981}",qY="\u{1F982}",UY="\u{1F983}",WY="\u{1F984}",HY="\u{1F985}",GY="\u{1F986}",KY="\u{1F987}",JY="\u{1F988}",YY="\u{1F989}",XY="\u{1F98A}",QY="\u{1F98B}",ZY="\u{1F98C}",eX="\u{1F98D}",tX="\u{1F98E}",nX="\u{1F98F}",rX="\u{1F990}",iX="\u{1F991}",oX="\u{1F992}",sX="\u{1F993}",aX="\u{1F994}",lX="\u{1F995}",cX="\u{1F997}",uX="\u{1F998}",dX="\u{1F999}",hX="\u{1F99A}",fX="\u{1F99B}",pX="\u{1F99C}",mX="\u{1F99D}",gX="\u{1F99E}",bX="\u{1F99F}",yX="\u{1F9A0}",wX="\u{1F9A1}",kX="\u{1F9A2}",_X="\u{1F9A3}",DX="\u{1F9A4}",xX="\u{1F9A5}",CX="\u{1F9A6}",vX="\u{1F9A7}",SX="\u{1F9A8}",EX="\u{1F9A9}",AX="\u{1F9AA}",FX="\u{1F9AB}",TX="\u{1F9AC}",MX="\u{1F9AD}",OX="\u{1F9AE}",NX="\u{1F9AF}",$X="\u{1F9B4}",LX="\u{1F9B5}",IX="\u{1F9B6}",RX="\u{1F9B7}",BX="\u{1F9B8}\u200D\u2640\uFE0F",PX="\u{1F9B8}\u200D\u2642\uFE0F",jX="\u{1F9B8}",zX="\u{1F9B9}\u200D\u2640\uFE0F",VX="\u{1F9B9}\u200D\u2642\uFE0F",qX="\u{1F9B9}",UX="\u{1F9BA}",WX="\u{1F9BB}",HX="\u{1F9BC}",GX="\u{1F9BD}",KX="\u{1F9BE}",JX="\u{1F9BF}",YX="\u{1F9C0}",XX="\u{1F9C1}",QX="\u{1F9C2}",ZX="\u{1F9C3}",eQ="\u{1F9C4}",tQ="\u{1F9C5}",nQ="\u{1F9C6}",rQ="\u{1F9C7}",iQ="\u{1F9C8}",oQ="\u{1F9C9}",sQ="\u{1F9CA}",aQ="\u{1F9CB}",lQ="\u{1F9CD}\u200D\u2640\uFE0F",cQ="\u{1F9CD}\u200D\u2642\uFE0F",uQ="\u{1F9CD}",dQ="\u{1F9CE}\u200D\u2640\uFE0F",hQ="\u{1F9CE}\u200D\u2642\uFE0F",fQ="\u{1F9CE}",pQ="\u{1F9CF}\u200D\u2640\uFE0F",mQ="\u{1F9CF}\u200D\u2642\uFE0F",gQ="\u{1F9CF}",bQ="\u{1F9D0}",yQ="\u{1F9D1}\u200D\u{1F33E}",wQ="\u{1F9D1}\u200D\u{1F373}",kQ="\u{1F9D1}\u200D\u{1F37C}",_Q="\u{1F9D1}\u200D\u{1F384}",DQ="\u{1F9D1}\u200D\u{1F393}",xQ="\u{1F9D1}\u200D\u{1F3A4}",CQ="\u{1F9D1}\u200D\u{1F3A8}",vQ="\u{1F9D1}\u200D\u{1F3EB}",SQ="\u{1F9D1}\u200D\u{1F3ED}",EQ="\u{1F9D1}\u200D\u{1F4BB}",AQ="\u{1F9D1}\u200D\u{1F4BC}",FQ="\u{1F9D1}\u200D\u{1F527}",TQ="\u{1F9D1}\u200D\u{1F52C}",MQ="\u{1F9D1}\u200D\u{1F680}",OQ="\u{1F9D1}\u200D\u{1F692}",NQ="\u{1F9D1}\u200D\u{1F91D}\u200D\u{1F9D1}",$Q="\u{1F9D1}\u200D\u{1F9AF}",LQ="\u{1F9D1}\u200D\u{1F9B0}",IQ="\u{1F9D1}\u200D\u{1F9B1}",RQ="\u{1F9D1}\u200D\u{1F9B2}",BQ="\u{1F9D1}\u200D\u{1F9B3}",PQ="\u{1F9D1}\u200D\u{1F9BC}",jQ="\u{1F9D1}\u200D\u{1F9BD}",zQ="\u{1F9D1}\u200D\u2695\uFE0F",VQ="\u{1F9D1}\u200D\u2696\uFE0F",qQ="\u{1F9D1}\u200D\u2708\uFE0F",UQ="\u{1F9D1}",WQ="\u{1F9D2}",HQ="\u{1F9D3}",GQ="\u{1F9D4}\u200D\u2640\uFE0F",KQ="\u{1F9D4}\u200D\u2642\uFE0F",JQ="\u{1F9D4}",YQ="\u{1F9D5}",XQ="\u{1F9D6}\u200D\u2640\uFE0F",QQ="\u{1F9D6}\u200D\u2642\uFE0F",ZQ="\u{1F9D6}\u200D\u2642\uFE0F",eZ="\u{1F9D7}\u200D\u2640\uFE0F",tZ="\u{1F9D7}\u200D\u2640\uFE0F",nZ="\u{1F9D7}\u200D\u2642\uFE0F",rZ="\u{1F9D8}\u200D\u2640\uFE0F",iZ="\u{1F9D8}\u200D\u2640\uFE0F",oZ="\u{1F9D8}\u200D\u2642\uFE0F",sZ="\u{1F9D9}\u200D\u2640\uFE0F",aZ="\u{1F9D9}\u200D\u2640\uFE0F",lZ="\u{1F9D9}\u200D\u2642\uFE0F",cZ="\u{1F9DA}\u200D\u2640\uFE0F",uZ="\u{1F9DA}\u200D\u2640\uFE0F",dZ="\u{1F9DA}\u200D\u2642\uFE0F",hZ="\u{1F9DB}\u200D\u2640\uFE0F",fZ="\u{1F9DB}\u200D\u2640\uFE0F",pZ="\u{1F9DB}\u200D\u2642\uFE0F",mZ="\u{1F9DC}\u200D\u2640\uFE0F",gZ="\u{1F9DC}\u200D\u2642\uFE0F",bZ="\u{1F9DC}\u200D\u2642\uFE0F",yZ="\u{1F9DD}\u200D\u2640\uFE0F",wZ="\u{1F9DD}\u200D\u2642\uFE0F",kZ="\u{1F9DD}\u200D\u2642\uFE0F",_Z="\u{1F9DE}\u200D\u2640\uFE0F",DZ="\u{1F9DE}\u200D\u2642\uFE0F",xZ="\u{1F9DE}\u200D\u2642\uFE0F",CZ="\u{1F9DF}\u200D\u2640\uFE0F",vZ="\u{1F9DF}\u200D\u2642\uFE0F",SZ="\u{1F9DF}\u200D\u2642\uFE0F",EZ="\u{1F9E0}",AZ="\u{1F9E1}",FZ="\u{1F9E2}",TZ="\u{1F9E3}",MZ="\u{1F9E4}",OZ="\u{1F9E5}",NZ="\u{1F9E6}",$Z="\u{1F9E7}",LZ="\u{1F9E8}",IZ="\u{1F9E9}",RZ="\u{1F9EA}",BZ="\u{1F9EB}",PZ="\u{1F9EC}",jZ="\u{1F9ED}",zZ="\u{1F9EE}",VZ="\u{1F9EF}",qZ="\u{1F9F0}",UZ="\u{1F9F1}",WZ="\u{1F9F2}",HZ="\u{1F9F3}",GZ="\u{1F9F4}",KZ="\u{1F9F5}",JZ="\u{1F9F6}",YZ="\u{1F9F7}",XZ="\u{1F9F8}",QZ="\u{1F9F9}",ZZ="\u{1F9FA}",eee="\u{1F9FB}",tee="\u{1F9FC}",nee="\u{1F9FD}",ree="\u{1F9FE}",iee="\u{1F9FF}",oee="\u{1FA70}",see="\u{1FA72}",aee="\u{1FA73}",lee="\u{1FA74}",cee="\u{1FA78}",uee="\u{1FA79}",dee="\u{1FA7A}",hee="\u{1FA81}",fee="\u{1FA82}",pee="\u{1FA83}",mee="\u{1FA84}",gee="\u{1FA85}",bee="\u{1FA86}",yee="\u{1FA90}",wee="\u{1FA91}",kee="\u{1FA92}",_ee="\u{1FA93}",Dee="\u{1FA94}",xee="\u{1FA95}",Cee="\u{1FA96}",vee="\u{1FA97}",See="\u{1FA98}",Eee="\u{1FA99}",Aee="\u{1FA9A}",Fee="\u{1FA9B}",Tee="\u{1FA9C}",Mee="\u{1FA9D}",Oee="\u{1FA9E}",Nee="\u{1FA9F}",$ee="\u{1FAA0}",Lee="\u{1FAA1}",Iee="\u{1FAA2}",Ree="\u{1FAA3}",Bee="\u{1FAA4}",Pee="\u{1FAA5}",jee="\u{1FAA6}",zee="\u{1FAA7}",Vee="\u{1FAA8}",qee="\u{1FAB0}",Uee="\u{1FAB1}",Wee="\u{1FAB2}",Hee="\u{1FAB3}",Gee="\u{1FAB4}",Kee="\u{1FAB5}",Jee="\u{1FAB6}",Yee="\u{1FAC0}",Xee="\u{1FAC1}",Qee="\u{1FAC2}",Zee="\u{1FAD0}",ete="\u{1FAD1}",tte="\u{1FAD2}",nte="\u{1FAD3}",rte="\u{1FAD4}",ite="\u{1FAD5}",ote="\u{1FAD6}",ste="\u203C\uFE0F",ate="\u2049\uFE0F",lte="\u2122\uFE0F",cte="\u2139\uFE0F",ute="\u2194\uFE0F",dte="\u2195\uFE0F",hte="\u2196\uFE0F",fte="\u2197\uFE0F",pte="\u2198\uFE0F",mte="\u2199\uFE0F",gte="\u21A9\uFE0F",bte="\u21AA\uFE0F",yte="\u231A",wte="\u231B",kte="\u2328\uFE0F",_te="\u23CF\uFE0F",Dte="\u23E9",xte="\u23EA",Cte="\u23EB",vte="\u23EC",Ste="\u23ED\uFE0F",Ete="\u23EE\uFE0F",Ate="\u23EF\uFE0F",Fte="\u23F0",Tte="\u23F1\uFE0F",Mte="\u23F2\uFE0F",Ote="\u23F3",Nte="\u23F8\uFE0F",$te="\u23F9\uFE0F",Lte="\u23FA\uFE0F",Ite="\u24C2\uFE0F",Rte="\u25AA\uFE0F",Bte="\u25AB\uFE0F",Pte="\u25B6\uFE0F",jte="\u25C0\uFE0F",zte="\u25FB\uFE0F",Vte="\u25FC\uFE0F",qte="\u25FD",Ute="\u25FE",Wte="\u2600\uFE0F",Hte="\u2601\uFE0F",Gte="\u2602\uFE0F",Kte="\u2603\uFE0F",Jte="\u2604\uFE0F",Yte="\u260E\uFE0F",Xte="\u260E\uFE0F",Qte="\u2611\uFE0F",Zte="\u2618\uFE0F",ene="\u261D\uFE0F",tne="\u2620\uFE0F",nne="\u2622\uFE0F",rne="\u2623\uFE0F",ine="\u2626\uFE0F",one="\u262A\uFE0F",sne="\u262E\uFE0F",ane="\u262F\uFE0F",lne="\u2638\uFE0F",cne="\u2639\uFE0F",une="\u263A\uFE0F",dne="\u2640\uFE0F",hne="\u2642\uFE0F",fne="\u264A",pne="\u264B",mne="\u264C",gne="\u264D",bne="\u264E",yne="\u264F",wne="\u265F\uFE0F",kne="\u2660\uFE0F",_ne="\u2663\uFE0F",Dne="\u2665\uFE0F",xne="\u2666\uFE0F",Cne="\u2668\uFE0F",vne="\u267B\uFE0F",Sne="\u267E\uFE0F",Ene="\u267F",Ane="\u2692\uFE0F",Fne="\u2694\uFE0F",Tne="\u2695\uFE0F",Mne="\u2695\uFE0F",One="\u2696\uFE0F",Nne="\u2697\uFE0F",$ne="\u2699\uFE0F",Lne="\u269B\uFE0F",Ine="\u269C\uFE0F",Rne="\u26A0\uFE0F",Bne="\u26A1",Pne="\u26A7\uFE0F",jne="\u26AA",zne="\u26AB",Vne="\u26B0\uFE0F",qne="\u26B1\uFE0F",Une="\u26BD",Wne="\u26BE",Hne="\u26C4",Gne="\u26C5",Kne="\u26C8\uFE0F",Jne="\u26CE",Yne="\u26CF\uFE0F",Xne="\u26D1\uFE0F",Qne="\u26D3\uFE0F",Zne="\u26D4",ere="\u26E9\uFE0F",tre="\u26EA",nre="\u26F0\uFE0F",rre="\u26F1\uFE0F",ire="\u26F2",ore="\u26F3",sre="\u26F4\uFE0F",are="\u26F5",lre="\u26F5",cre="\u26F7\uFE0F",ure="\u26F8\uFE0F",dre="\u26F9\uFE0F\u200D\u2642\uFE0F",hre="\u26FA",fre="\u26FD",pre="\u2702\uFE0F",mre="\u2708\uFE0F",gre="\u2709\uFE0F",bre="\u2709\uFE0F",yre="\u270A",wre="\u270B",kre="\u270B",_re="\u270C\uFE0F",Dre="\u270D\uFE0F",xre="\u270F\uFE0F",Cre="\u2712\uFE0F",vre="\u2714\uFE0F",Sre="\u2716\uFE0F",Ere="\u271D\uFE0F",Are="\u2721\uFE0F",Fre="\u2733\uFE0F",Tre="\u2734\uFE0F",Mre="\u2744\uFE0F",Ore="\u2747\uFE0F",Nre="\u274C",$re="\u274E",Lre="\u2763\uFE0F",Ire="\u2764\uFE0F\u200D\u{1F525}",Rre="\u2764\uFE0F\u200D\u{1FA79}",Bre="\u2764\uFE0F",Pre="\u27A1\uFE0F",jre="\u27B0",zre="\u27BF",Vre="\u2934\uFE0F",qre="\u2935\uFE0F",Ure="\u2B05\uFE0F",Wre="\u2B06\uFE0F",Hre="\u2B07\uFE0F",Gre="\u2B1B",Kre="\u2B1C",Jre="\u2B50",Yre="\u2B55",Xre="\u3030\uFE0F",Qre="\u303D\uFE0F",Zre="\u3297\uFE0F",eie="\u3299\uFE0F",tie={100:"\u{1F4AF}",1234:"\u{1F522}",umbrella_with_rain_drops:XL,coffee:QL,aries:ZL,taurus:eI,sagittarius:tI,capricorn:nI,aquarius:rI,pisces:iI,anchor:oI,white_check_mark:sI,sparkles:aI,question:lI,grey_question:cI,grey_exclamation:uI,exclamation:dI,heavy_exclamation_mark:hI,heavy_plus_sign:fI,heavy_minus_sign:pI,heavy_division_sign:mI,hash:gI,keycap_star:bI,zero:yI,one:wI,two:kI,three:_I,four:DI,five:xI,six:CI,seven:vI,eight:SI,nine:EI,copyright:AI,registered:FI,mahjong:TI,black_joker:MI,a:OI,b:NI,o2:$I,parking:LI,ab:II,cl:RI,cool:BI,free:PI,id:jI,new:"\u{1F195}",ng:zI,ok:VI,sos:qI,up:UI,vs:WI,"flag-ac":"\u{1F1E6}\u{1F1E8}","flag-ad":"\u{1F1E6}\u{1F1E9}","flag-ae":"\u{1F1E6}\u{1F1EA}","flag-af":"\u{1F1E6}\u{1F1EB}","flag-ag":"\u{1F1E6}\u{1F1EC}","flag-ai":"\u{1F1E6}\u{1F1EE}","flag-al":"\u{1F1E6}\u{1F1F1}","flag-am":"\u{1F1E6}\u{1F1F2}","flag-ao":"\u{1F1E6}\u{1F1F4}","flag-aq":"\u{1F1E6}\u{1F1F6}","flag-ar":"\u{1F1E6}\u{1F1F7}","flag-as":"\u{1F1E6}\u{1F1F8}","flag-at":"\u{1F1E6}\u{1F1F9}","flag-au":"\u{1F1E6}\u{1F1FA}","flag-aw":"\u{1F1E6}\u{1F1FC}","flag-ax":"\u{1F1E6}\u{1F1FD}","flag-az":"\u{1F1E6}\u{1F1FF}","flag-ba":"\u{1F1E7}\u{1F1E6}","flag-bb":"\u{1F1E7}\u{1F1E7}","flag-bd":"\u{1F1E7}\u{1F1E9}","flag-be":"\u{1F1E7}\u{1F1EA}","flag-bf":"\u{1F1E7}\u{1F1EB}","flag-bg":"\u{1F1E7}\u{1F1EC}","flag-bh":"\u{1F1E7}\u{1F1ED}","flag-bi":"\u{1F1E7}\u{1F1EE}","flag-bj":"\u{1F1E7}\u{1F1EF}","flag-bl":"\u{1F1E7}\u{1F1F1}","flag-bm":"\u{1F1E7}\u{1F1F2}","flag-bn":"\u{1F1E7}\u{1F1F3}","flag-bo":"\u{1F1E7}\u{1F1F4}","flag-bq":"\u{1F1E7}\u{1F1F6}","flag-br":"\u{1F1E7}\u{1F1F7}","flag-bs":"\u{1F1E7}\u{1F1F8}","flag-bt":"\u{1F1E7}\u{1F1F9}","flag-bv":"\u{1F1E7}\u{1F1FB}","flag-bw":"\u{1F1E7}\u{1F1FC}","flag-by":"\u{1F1E7}\u{1F1FE}","flag-bz":"\u{1F1E7}\u{1F1FF}","flag-ca":"\u{1F1E8}\u{1F1E6}","flag-cc":"\u{1F1E8}\u{1F1E8}","flag-cd":"\u{1F1E8}\u{1F1E9}","flag-cf":"\u{1F1E8}\u{1F1EB}","flag-cg":"\u{1F1E8}\u{1F1EC}","flag-ch":"\u{1F1E8}\u{1F1ED}","flag-ci":"\u{1F1E8}\u{1F1EE}","flag-ck":"\u{1F1E8}\u{1F1F0}","flag-cl":"\u{1F1E8}\u{1F1F1}","flag-cm":"\u{1F1E8}\u{1F1F2}",cn:HI,"flag-cn":"\u{1F1E8}\u{1F1F3}","flag-co":"\u{1F1E8}\u{1F1F4}","flag-cp":"\u{1F1E8}\u{1F1F5}","flag-cr":"\u{1F1E8}\u{1F1F7}","flag-cu":"\u{1F1E8}\u{1F1FA}","flag-cv":"\u{1F1E8}\u{1F1FB}","flag-cw":"\u{1F1E8}\u{1F1FC}","flag-cx":"\u{1F1E8}\u{1F1FD}","flag-cy":"\u{1F1E8}\u{1F1FE}","flag-cz":"\u{1F1E8}\u{1F1FF}",de:GI,"flag-de":"\u{1F1E9}\u{1F1EA}","flag-dg":"\u{1F1E9}\u{1F1EC}","flag-dj":"\u{1F1E9}\u{1F1EF}","flag-dk":"\u{1F1E9}\u{1F1F0}","flag-dm":"\u{1F1E9}\u{1F1F2}","flag-do":"\u{1F1E9}\u{1F1F4}","flag-dz":"\u{1F1E9}\u{1F1FF}","flag-ea":"\u{1F1EA}\u{1F1E6}","flag-ec":"\u{1F1EA}\u{1F1E8}","flag-ee":"\u{1F1EA}\u{1F1EA}","flag-eg":"\u{1F1EA}\u{1F1EC}","flag-eh":"\u{1F1EA}\u{1F1ED}","flag-er":"\u{1F1EA}\u{1F1F7}",es:KI,"flag-es":"\u{1F1EA}\u{1F1F8}","flag-et":"\u{1F1EA}\u{1F1F9}","flag-eu":"\u{1F1EA}\u{1F1FA}","flag-fi":"\u{1F1EB}\u{1F1EE}","flag-fj":"\u{1F1EB}\u{1F1EF}","flag-fk":"\u{1F1EB}\u{1F1F0}","flag-fm":"\u{1F1EB}\u{1F1F2}","flag-fo":"\u{1F1EB}\u{1F1F4}",fr:JI,"flag-fr":"\u{1F1EB}\u{1F1F7}","flag-ga":"\u{1F1EC}\u{1F1E6}",gb:YI,uk:XI,"flag-gb":"\u{1F1EC}\u{1F1E7}","flag-gd":"\u{1F1EC}\u{1F1E9}","flag-ge":"\u{1F1EC}\u{1F1EA}","flag-gf":"\u{1F1EC}\u{1F1EB}","flag-gg":"\u{1F1EC}\u{1F1EC}","flag-gh":"\u{1F1EC}\u{1F1ED}","flag-gi":"\u{1F1EC}\u{1F1EE}","flag-gl":"\u{1F1EC}\u{1F1F1}","flag-gm":"\u{1F1EC}\u{1F1F2}","flag-gn":"\u{1F1EC}\u{1F1F3}","flag-gp":"\u{1F1EC}\u{1F1F5}","flag-gq":"\u{1F1EC}\u{1F1F6}","flag-gr":"\u{1F1EC}\u{1F1F7}","flag-gs":"\u{1F1EC}\u{1F1F8}","flag-gt":"\u{1F1EC}\u{1F1F9}","flag-gu":"\u{1F1EC}\u{1F1FA}","flag-gw":"\u{1F1EC}\u{1F1FC}","flag-gy":"\u{1F1EC}\u{1F1FE}","flag-hk":"\u{1F1ED}\u{1F1F0}","flag-hm":"\u{1F1ED}\u{1F1F2}","flag-hn":"\u{1F1ED}\u{1F1F3}","flag-hr":"\u{1F1ED}\u{1F1F7}","flag-ht":"\u{1F1ED}\u{1F1F9}","flag-hu":"\u{1F1ED}\u{1F1FA}","flag-ic":"\u{1F1EE}\u{1F1E8}","flag-id":"\u{1F1EE}\u{1F1E9}","flag-ie":"\u{1F1EE}\u{1F1EA}","flag-il":"\u{1F1EE}\u{1F1F1}","flag-im":"\u{1F1EE}\u{1F1F2}","flag-in":"\u{1F1EE}\u{1F1F3}","flag-io":"\u{1F1EE}\u{1F1F4}","flag-iq":"\u{1F1EE}\u{1F1F6}","flag-ir":"\u{1F1EE}\u{1F1F7}","flag-is":"\u{1F1EE}\u{1F1F8}",it:QI,"flag-it":"\u{1F1EE}\u{1F1F9}","flag-je":"\u{1F1EF}\u{1F1EA}","flag-jm":"\u{1F1EF}\u{1F1F2}","flag-jo":"\u{1F1EF}\u{1F1F4}",jp:ZI,"flag-jp":"\u{1F1EF}\u{1F1F5}","flag-ke":"\u{1F1F0}\u{1F1EA}","flag-kg":"\u{1F1F0}\u{1F1EC}","flag-kh":"\u{1F1F0}\u{1F1ED}","flag-ki":"\u{1F1F0}\u{1F1EE}","flag-km":"\u{1F1F0}\u{1F1F2}","flag-kn":"\u{1F1F0}\u{1F1F3}","flag-kp":"\u{1F1F0}\u{1F1F5}",kr:e6,"flag-kr":"\u{1F1F0}\u{1F1F7}","flag-kw":"\u{1F1F0}\u{1F1FC}","flag-ky":"\u{1F1F0}\u{1F1FE}","flag-kz":"\u{1F1F0}\u{1F1FF}","flag-la":"\u{1F1F1}\u{1F1E6}","flag-lb":"\u{1F1F1}\u{1F1E7}","flag-lc":"\u{1F1F1}\u{1F1E8}","flag-li":"\u{1F1F1}\u{1F1EE}","flag-lk":"\u{1F1F1}\u{1F1F0}","flag-lr":"\u{1F1F1}\u{1F1F7}","flag-ls":"\u{1F1F1}\u{1F1F8}","flag-lt":"\u{1F1F1}\u{1F1F9}","flag-lu":"\u{1F1F1}\u{1F1FA}","flag-lv":"\u{1F1F1}\u{1F1FB}","flag-ly":"\u{1F1F1}\u{1F1FE}","flag-ma":"\u{1F1F2}\u{1F1E6}","flag-mc":"\u{1F1F2}\u{1F1E8}","flag-md":"\u{1F1F2}\u{1F1E9}","flag-me":"\u{1F1F2}\u{1F1EA}","flag-mf":"\u{1F1F2}\u{1F1EB}","flag-mg":"\u{1F1F2}\u{1F1EC}","flag-mh":"\u{1F1F2}\u{1F1ED}","flag-mk":"\u{1F1F2}\u{1F1F0}","flag-ml":"\u{1F1F2}\u{1F1F1}","flag-mm":"\u{1F1F2}\u{1F1F2}","flag-mn":"\u{1F1F2}\u{1F1F3}","flag-mo":"\u{1F1F2}\u{1F1F4}","flag-mp":"\u{1F1F2}\u{1F1F5}","flag-mq":"\u{1F1F2}\u{1F1F6}","flag-mr":"\u{1F1F2}\u{1F1F7}","flag-ms":"\u{1F1F2}\u{1F1F8}","flag-mt":"\u{1F1F2}\u{1F1F9}","flag-mu":"\u{1F1F2}\u{1F1FA}","flag-mv":"\u{1F1F2}\u{1F1FB}","flag-mw":"\u{1F1F2}\u{1F1FC}","flag-mx":"\u{1F1F2}\u{1F1FD}","flag-my":"\u{1F1F2}\u{1F1FE}","flag-mz":"\u{1F1F2}\u{1F1FF}","flag-na":"\u{1F1F3}\u{1F1E6}","flag-nc":"\u{1F1F3}\u{1F1E8}","flag-ne":"\u{1F1F3}\u{1F1EA}","flag-nf":"\u{1F1F3}\u{1F1EB}","flag-ng":"\u{1F1F3}\u{1F1EC}","flag-ni":"\u{1F1F3}\u{1F1EE}","flag-nl":"\u{1F1F3}\u{1F1F1}","flag-no":"\u{1F1F3}\u{1F1F4}","flag-np":"\u{1F1F3}\u{1F1F5}","flag-nr":"\u{1F1F3}\u{1F1F7}","flag-nu":"\u{1F1F3}\u{1F1FA}","flag-nz":"\u{1F1F3}\u{1F1FF}","flag-om":"\u{1F1F4}\u{1F1F2}","flag-pa":"\u{1F1F5}\u{1F1E6}","flag-pe":"\u{1F1F5}\u{1F1EA}","flag-pf":"\u{1F1F5}\u{1F1EB}","flag-pg":"\u{1F1F5}\u{1F1EC}","flag-ph":"\u{1F1F5}\u{1F1ED}","flag-pk":"\u{1F1F5}\u{1F1F0}","flag-pl":"\u{1F1F5}\u{1F1F1}","flag-pm":"\u{1F1F5}\u{1F1F2}","flag-pn":"\u{1F1F5}\u{1F1F3}","flag-pr":"\u{1F1F5}\u{1F1F7}","flag-ps":"\u{1F1F5}\u{1F1F8}","flag-pt":"\u{1F1F5}\u{1F1F9}","flag-pw":"\u{1F1F5}\u{1F1FC}","flag-py":"\u{1F1F5}\u{1F1FE}","flag-qa":"\u{1F1F6}\u{1F1E6}","flag-re":"\u{1F1F7}\u{1F1EA}","flag-ro":"\u{1F1F7}\u{1F1F4}","flag-rs":"\u{1F1F7}\u{1F1F8}",ru:t6,"flag-ru":"\u{1F1F7}\u{1F1FA}","flag-rw":"\u{1F1F7}\u{1F1FC}","flag-sa":"\u{1F1F8}\u{1F1E6}","flag-sb":"\u{1F1F8}\u{1F1E7}","flag-sc":"\u{1F1F8}\u{1F1E8}","flag-sd":"\u{1F1F8}\u{1F1E9}","flag-se":"\u{1F1F8}\u{1F1EA}","flag-sg":"\u{1F1F8}\u{1F1EC}","flag-sh":"\u{1F1F8}\u{1F1ED}","flag-si":"\u{1F1F8}\u{1F1EE}","flag-sj":"\u{1F1F8}\u{1F1EF}","flag-sk":"\u{1F1F8}\u{1F1F0}","flag-sl":"\u{1F1F8}\u{1F1F1}","flag-sm":"\u{1F1F8}\u{1F1F2}","flag-sn":"\u{1F1F8}\u{1F1F3}","flag-so":"\u{1F1F8}\u{1F1F4}","flag-sr":"\u{1F1F8}\u{1F1F7}","flag-ss":"\u{1F1F8}\u{1F1F8}","flag-st":"\u{1F1F8}\u{1F1F9}","flag-sv":"\u{1F1F8}\u{1F1FB}","flag-sx":"\u{1F1F8}\u{1F1FD}","flag-sy":"\u{1F1F8}\u{1F1FE}","flag-sz":"\u{1F1F8}\u{1F1FF}","flag-ta":"\u{1F1F9}\u{1F1E6}","flag-tc":"\u{1F1F9}\u{1F1E8}","flag-td":"\u{1F1F9}\u{1F1E9}","flag-tf":"\u{1F1F9}\u{1F1EB}","flag-tg":"\u{1F1F9}\u{1F1EC}","flag-th":"\u{1F1F9}\u{1F1ED}","flag-tj":"\u{1F1F9}\u{1F1EF}","flag-tk":"\u{1F1F9}\u{1F1F0}","flag-tl":"\u{1F1F9}\u{1F1F1}","flag-tm":"\u{1F1F9}\u{1F1F2}","flag-tn":"\u{1F1F9}\u{1F1F3}","flag-to":"\u{1F1F9}\u{1F1F4}","flag-tr":"\u{1F1F9}\u{1F1F7}","flag-tt":"\u{1F1F9}\u{1F1F9}","flag-tv":"\u{1F1F9}\u{1F1FB}","flag-tw":"\u{1F1F9}\u{1F1FC}","flag-tz":"\u{1F1F9}\u{1F1FF}","flag-ua":"\u{1F1FA}\u{1F1E6}","flag-ug":"\u{1F1FA}\u{1F1EC}","flag-um":"\u{1F1FA}\u{1F1F2}","flag-un":"\u{1F1FA}\u{1F1F3}",us:n6,"flag-us":"\u{1F1FA}\u{1F1F8}","flag-uy":"\u{1F1FA}\u{1F1FE}","flag-uz":"\u{1F1FA}\u{1F1FF}","flag-va":"\u{1F1FB}\u{1F1E6}","flag-vc":"\u{1F1FB}\u{1F1E8}","flag-ve":"\u{1F1FB}\u{1F1EA}","flag-vg":"\u{1F1FB}\u{1F1EC}","flag-vi":"\u{1F1FB}\u{1F1EE}","flag-vn":"\u{1F1FB}\u{1F1F3}","flag-vu":"\u{1F1FB}\u{1F1FA}","flag-wf":"\u{1F1FC}\u{1F1EB}","flag-ws":"\u{1F1FC}\u{1F1F8}","flag-xk":"\u{1F1FD}\u{1F1F0}","flag-ye":"\u{1F1FE}\u{1F1EA}","flag-yt":"\u{1F1FE}\u{1F1F9}","flag-za":"\u{1F1FF}\u{1F1E6}","flag-zm":"\u{1F1FF}\u{1F1F2}","flag-zw":"\u{1F1FF}\u{1F1FC}",koko:r6,sa:i6,u7121:o6,u6307:s6,u7981:a6,u7a7a:l6,u5408:c6,u6e80:u6,u6709:d6,u6708:h6,u7533:f6,u5272:p6,u55b6:m6,ideograph_advantage:g6,accept:b6,cyclone:y6,foggy:w6,closed_umbrella:k6,night_with_stars:_6,sunrise_over_mountains:D6,sunrise:x6,city_sunset:C6,city_sunrise:v6,rainbow:S6,bridge_at_night:E6,ocean:A6,volcano:F6,milky_way:T6,earth_africa:M6,earth_americas:O6,earth_asia:N6,globe_with_meridians:$6,new_moon:L6,waxing_crescent_moon:I6,first_quarter_moon:R6,moon:B6,waxing_gibbous_moon:P6,full_moon:j6,waning_gibbous_moon:z6,last_quarter_moon:V6,waning_crescent_moon:q6,crescent_moon:U6,new_moon_with_face:W6,first_quarter_moon_with_face:H6,last_quarter_moon_with_face:G6,full_moon_with_face:K6,sun_with_face:J6,star2:Y6,stars:X6,thermometer:Q6,mostly_sunny:Z6,sun_small_cloud:eR,barely_sunny:tR,sun_behind_cloud:nR,partly_sunny_rain:rR,sun_behind_rain_cloud:iR,rain_cloud:oR,snow_cloud:sR,lightning:aR,lightning_cloud:lR,tornado:cR,tornado_cloud:uR,fog:dR,wind_blowing_face:hR,hotdog:fR,taco:pR,burrito:mR,chestnut:gR,seedling:bR,evergreen_tree:yR,deciduous_tree:wR,palm_tree:kR,cactus:_R,hot_pepper:DR,tulip:xR,cherry_blossom:CR,rose:vR,hibiscus:SR,sunflower:ER,blossom:AR,corn:FR,ear_of_rice:TR,herb:MR,four_leaf_clover:OR,maple_leaf:NR,fallen_leaf:$R,leaves:LR,mushroom:IR,tomato:RR,eggplant:BR,grapes:PR,melon:jR,watermelon:zR,tangerine:VR,lemon:qR,banana:UR,pineapple:WR,apple:HR,green_apple:GR,pear:KR,peach:JR,cherries:YR,strawberry:XR,hamburger:QR,pizza:ZR,meat_on_bone:eB,poultry_leg:tB,rice_cracker:nB,rice_ball:rB,rice:iB,curry:oB,ramen:sB,spaghetti:aB,bread:lB,fries:cB,sweet_potato:uB,dango:dB,oden:hB,sushi:fB,fried_shrimp:pB,fish_cake:mB,icecream:gB,shaved_ice:bB,ice_cream:yB,doughnut:wB,cookie:kB,chocolate_bar:_B,candy:DB,lollipop:xB,custard:CB,honey_pot:vB,cake:SB,bento:EB,stew:AB,fried_egg:FB,cooking:TB,fork_and_knife:MB,tea:OB,sake:NB,wine_glass:$B,cocktail:LB,tropical_drink:IB,beer:RB,beers:BB,baby_bottle:PB,knife_fork_plate:jB,champagne:zB,popcorn:VB,ribbon:qB,gift:UB,birthday:WB,jack_o_lantern:HB,christmas_tree:GB,santa:KB,fireworks:JB,sparkler:YB,balloon:XB,tada:QB,confetti_ball:ZB,tanabata_tree:e4,crossed_flags:t4,bamboo:n4,dolls:r4,flags:i4,wind_chime:o4,rice_scene:s4,school_satchel:a4,mortar_board:l4,medal:c4,reminder_ribbon:u4,studio_microphone:d4,level_slider:h4,control_knobs:f4,film_frames:p4,admission_tickets:m4,carousel_horse:g4,ferris_wheel:b4,roller_coaster:y4,fishing_pole_and_fish:w4,microphone:k4,movie_camera:_4,cinema:D4,headphones:x4,art:C4,tophat:v4,circus_tent:S4,ticket:E4,clapper:A4,performing_arts:F4,video_game:T4,dart:M4,slot_machine:O4,"8ball":"\u{1F3B1}",game_die:N4,bowling:$4,flower_playing_cards:L4,musical_note:I4,notes:R4,saxophone:B4,guitar:P4,musical_keyboard:j4,trumpet:z4,violin:V4,musical_score:q4,running_shirt_with_sash:U4,tennis:W4,ski:H4,basketball:G4,checkered_flag:K4,snowboarder:J4,"woman-running":"\u{1F3C3}\u200D\u2640\uFE0F","man-running":"\u{1F3C3}\u200D\u2642\uFE0F",runner:Y4,running:X4,"woman-surfing":"\u{1F3C4}\u200D\u2640\uFE0F","man-surfing":"\u{1F3C4}\u200D\u2642\uFE0F",surfer:Q4,sports_medal:Z4,trophy:eP,horse_racing:tP,football:nP,rugby_football:rP,"woman-swimming":"\u{1F3CA}\u200D\u2640\uFE0F","man-swimming":"\u{1F3CA}\u200D\u2642\uFE0F",swimmer:iP,"woman-lifting-weights":"\u{1F3CB}\uFE0F\u200D\u2640\uFE0F","man-lifting-weights":"\u{1F3CB}\uFE0F\u200D\u2642\uFE0F",weight_lifter:oP,"woman-golfing":"\u{1F3CC}\uFE0F\u200D\u2640\uFE0F","man-golfing":"\u{1F3CC}\uFE0F\u200D\u2642\uFE0F",golfer:sP,racing_motorcycle:aP,racing_car:lP,cricket_bat_and_ball:cP,volleyball:uP,field_hockey_stick_and_ball:dP,ice_hockey_stick_and_puck:hP,table_tennis_paddle_and_ball:fP,snow_capped_mountain:pP,camping:mP,beach_with_umbrella:gP,building_construction:bP,house_buildings:yP,cityscape:wP,derelict_house_building:kP,classical_building:_P,desert:DP,desert_island:xP,national_park:CP,stadium:vP,house:SP,house_with_garden:EP,office:AP,post_office:FP,european_post_office:TP,hospital:MP,bank:OP,atm:NP,hotel:$P,love_hotel:LP,convenience_store:IP,school:RP,department_store:BP,factory:PP,izakaya_lantern:jP,lantern:zP,japanese_castle:VP,european_castle:qP,"rainbow-flag":"\u{1F3F3}\uFE0F\u200D\u{1F308}",transgender_flag:UP,waving_white_flag:WP,pirate_flag:HP,"flag-england":"\u{1F3F4}\u{E0067}\u{E0062}\u{E0065}\u{E006E}\u{E0067}\u{E007F}","flag-scotland":"\u{1F3F4}\u{E0067}\u{E0062}\u{E0073}\u{E0063}\u{E0074}\u{E007F}","flag-wales":"\u{1F3F4}\u{E0067}\u{E0062}\u{E0077}\u{E006C}\u{E0073}\u{E007F}",waving_black_flag:GP,rosette:KP,label:JP,badminton_racquet_and_shuttlecock:YP,bow_and_arrow:XP,amphora:QP,"skin-tone-2":"\u{1F3FB}","skin-tone-3":"\u{1F3FC}","skin-tone-4":"\u{1F3FD}","skin-tone-5":"\u{1F3FE}","skin-tone-6":"\u{1F3FF}",rat:ZP,mouse2:ej,ox:tj,water_buffalo:nj,cow2:rj,tiger2:ij,leopard:oj,rabbit2:sj,black_cat:aj,cat2:lj,dragon:cj,crocodile:uj,whale2:dj,snail:hj,snake:fj,racehorse:pj,ram:mj,goat:gj,sheep:bj,monkey:yj,rooster:wj,chicken:kj,service_dog:_j,dog2:Dj,pig2:xj,boar:Cj,elephant:vj,octopus:Sj,shell:Ej,bug:Aj,ant:Fj,bee:Tj,honeybee:Mj,ladybug:Oj,lady_beetle:Nj,fish:$j,tropical_fish:Lj,blowfish:Ij,turtle:Rj,hatching_chick:Bj,baby_chick:Pj,hatched_chick:jj,bird:zj,penguin:Vj,koala:qj,poodle:Uj,dromedary_camel:Wj,camel:Hj,dolphin:Gj,flipper:Kj,mouse:Jj,cow:Yj,tiger:Xj,rabbit:Qj,cat:Zj,dragon_face:ez,whale:tz,horse:nz,monkey_face:rz,dog:iz,pig:oz,frog:sz,hamster:az,wolf:lz,polar_bear:cz,bear:uz,panda_face:dz,pig_nose:hz,feet:fz,paw_prints:pz,chipmunk:mz,eyes:gz,"eye-in-speech-bubble":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F",eye:bz,ear:yz,nose:wz,lips:kz,tongue:_z,point_up_2:Dz,point_down:xz,point_left:Cz,point_right:vz,facepunch:Sz,punch:Ez,wave:Az,ok_hand:Fz,"+1":"\u{1F44D}",thumbsup:Tz,"-1":"\u{1F44E}",thumbsdown:Mz,clap:Oz,open_hands:Nz,crown:$z,womans_hat:Lz,eyeglasses:Iz,necktie:Rz,shirt:Bz,tshirt:Pz,jeans:jz,dress:zz,kimono:Vz,bikini:qz,womans_clothes:Uz,purse:Wz,handbag:Hz,pouch:Gz,mans_shoe:Kz,shoe:Jz,athletic_shoe:Yz,high_heel:Xz,sandal:Qz,boot:Zz,footprints:e5,bust_in_silhouette:t5,busts_in_silhouette:n5,boy:r5,girl:i5,"male-farmer":"\u{1F468}\u200D\u{1F33E}","male-cook":"\u{1F468}\u200D\u{1F373}",man_feeding_baby:o5,"male-student":"\u{1F468}\u200D\u{1F393}","male-singer":"\u{1F468}\u200D\u{1F3A4}","male-artist":"\u{1F468}\u200D\u{1F3A8}","male-teacher":"\u{1F468}\u200D\u{1F3EB}","male-factory-worker":"\u{1F468}\u200D\u{1F3ED}","man-boy-boy":"\u{1F468}\u200D\u{1F466}\u200D\u{1F466}","man-boy":"\u{1F468}\u200D\u{1F466}","man-girl-boy":"\u{1F468}\u200D\u{1F467}\u200D\u{1F466}","man-girl-girl":"\u{1F468}\u200D\u{1F467}\u200D\u{1F467}","man-girl":"\u{1F468}\u200D\u{1F467}","man-man-boy":"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}","man-man-boy-boy":"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}\u200D\u{1F466}","man-man-girl":"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}","man-man-girl-boy":"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F466}","man-man-girl-girl":"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F467}","man-woman-boy":"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}",family:s5,"man-woman-boy-boy":"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}","man-woman-girl":"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}","man-woman-girl-boy":"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}","man-woman-girl-girl":"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}","male-technologist":"\u{1F468}\u200D\u{1F4BB}","male-office-worker":"\u{1F468}\u200D\u{1F4BC}","male-mechanic":"\u{1F468}\u200D\u{1F527}","male-scientist":"\u{1F468}\u200D\u{1F52C}","male-astronaut":"\u{1F468}\u200D\u{1F680}","male-firefighter":"\u{1F468}\u200D\u{1F692}",man_with_probing_cane:a5,red_haired_man:l5,curly_haired_man:c5,bald_man:u5,white_haired_man:d5,man_in_motorized_wheelchair:h5,man_in_manual_wheelchair:f5,"male-doctor":"\u{1F468}\u200D\u2695\uFE0F","male-judge":"\u{1F468}\u200D\u2696\uFE0F","male-pilot":"\u{1F468}\u200D\u2708\uFE0F","man-heart-man":"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F468}","man-kiss-man":"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}",man:p5,"female-farmer":"\u{1F469}\u200D\u{1F33E}","female-cook":"\u{1F469}\u200D\u{1F373}",woman_feeding_baby:m5,"female-student":"\u{1F469}\u200D\u{1F393}","female-singer":"\u{1F469}\u200D\u{1F3A4}","female-artist":"\u{1F469}\u200D\u{1F3A8}","female-teacher":"\u{1F469}\u200D\u{1F3EB}","female-factory-worker":"\u{1F469}\u200D\u{1F3ED}","woman-boy-boy":"\u{1F469}\u200D\u{1F466}\u200D\u{1F466}","woman-boy":"\u{1F469}\u200D\u{1F466}","woman-girl-boy":"\u{1F469}\u200D\u{1F467}\u200D\u{1F466}","woman-girl-girl":"\u{1F469}\u200D\u{1F467}\u200D\u{1F467}","woman-girl":"\u{1F469}\u200D\u{1F467}","woman-woman-boy":"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}","woman-woman-boy-boy":"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}","woman-woman-girl":"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}","woman-woman-girl-boy":"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}","woman-woman-girl-girl":"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}","female-technologist":"\u{1F469}\u200D\u{1F4BB}","female-office-worker":"\u{1F469}\u200D\u{1F4BC}","female-mechanic":"\u{1F469}\u200D\u{1F527}","female-scientist":"\u{1F469}\u200D\u{1F52C}","female-astronaut":"\u{1F469}\u200D\u{1F680}","female-firefighter":"\u{1F469}\u200D\u{1F692}",woman_with_probing_cane:g5,red_haired_woman:b5,curly_haired_woman:y5,bald_woman:w5,white_haired_woman:k5,woman_in_motorized_wheelchair:_5,woman_in_manual_wheelchair:D5,"female-doctor":"\u{1F469}\u200D\u2695\uFE0F","female-judge":"\u{1F469}\u200D\u2696\uFE0F","female-pilot":"\u{1F469}\u200D\u2708\uFE0F","woman-heart-man":"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F468}","woman-heart-woman":"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F469}","woman-kiss-man":"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}","woman-kiss-woman":"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}",woman:x5,man_and_woman_holding_hands:C5,woman_and_man_holding_hands:v5,couple:S5,two_men_holding_hands:E5,men_holding_hands:A5,two_women_holding_hands:F5,women_holding_hands:T5,"female-police-officer":"\u{1F46E}\u200D\u2640\uFE0F","male-police-officer":"\u{1F46E}\u200D\u2642\uFE0F",cop:M5,"women-with-bunny-ears-partying":"\u{1F46F}\u200D\u2640\uFE0F","woman-with-bunny-ears-partying":"\u{1F46F}\u200D\u2640\uFE0F",dancers:O5,"men-with-bunny-ears-partying":"\u{1F46F}\u200D\u2642\uFE0F","man-with-bunny-ears-partying":"\u{1F46F}\u200D\u2642\uFE0F",woman_with_veil:N5,man_with_veil:$5,bride_with_veil:L5,"blond-haired-woman":"\u{1F471}\u200D\u2640\uFE0F","blond-haired-man":"\u{1F471}\u200D\u2642\uFE0F",person_with_blond_hair:I5,man_with_gua_pi_mao:R5,"woman-wearing-turban":"\u{1F473}\u200D\u2640\uFE0F","man-wearing-turban":"\u{1F473}\u200D\u2642\uFE0F",man_with_turban:B5,older_man:P5,older_woman:j5,baby:z5,"female-construction-worker":"\u{1F477}\u200D\u2640\uFE0F","male-construction-worker":"\u{1F477}\u200D\u2642\uFE0F",construction_worker:V5,princess:q5,japanese_ogre:U5,japanese_goblin:W5,ghost:H5,angel:G5,alien:K5,space_invader:J5,imp:Y5,skull:X5,"woman-tipping-hand":"\u{1F481}\u200D\u2640\uFE0F",information_desk_person:Q5,"man-tipping-hand":"\u{1F481}\u200D\u2642\uFE0F","female-guard":"\u{1F482}\u200D\u2640\uFE0F","male-guard":"\u{1F482}\u200D\u2642\uFE0F",guardsman:Z5,dancer:e7,lipstick:t7,nail_care:n7,"woman-getting-massage":"\u{1F486}\u200D\u2640\uFE0F",massage:r7,"man-getting-massage":"\u{1F486}\u200D\u2642\uFE0F","woman-getting-haircut":"\u{1F487}\u200D\u2640\uFE0F",haircut:i7,"man-getting-haircut":"\u{1F487}\u200D\u2642\uFE0F",barber:o7,syringe:s7,pill:a7,kiss:l7,love_letter:c7,ring:u7,gem:d7,couplekiss:h7,bouquet:f7,couple_with_heart:p7,wedding:m7,heartbeat:g7,broken_heart:b7,two_hearts:y7,sparkling_heart:w7,heartpulse:k7,cupid:_7,blue_heart:D7,green_heart:x7,yellow_heart:C7,purple_heart:v7,gift_heart:S7,revolving_hearts:E7,heart_decoration:A7,diamond_shape_with_a_dot_inside:F7,bulb:T7,anger:M7,bomb:O7,zzz:N7,boom:$7,collision:L7,sweat_drops:I7,droplet:R7,dash:B7,hankey:P7,poop:j7,shit:z7,muscle:V7,dizzy:q7,speech_balloon:U7,thought_balloon:W7,white_flower:H7,moneybag:G7,currency_exchange:K7,heavy_dollar_sign:J7,credit_card:Y7,yen:X7,dollar:Q7,euro:Z7,pound:e9,money_with_wings:t9,chart:n9,seat:r9,computer:i9,briefcase:o9,minidisc:s9,floppy_disk:a9,cd:l9,dvd:c9,file_folder:u9,open_file_folder:d9,page_with_curl:h9,page_facing_up:f9,date:p9,calendar:m9,card_index:g9,chart_with_upwards_trend:b9,chart_with_downwards_trend:y9,bar_chart:w9,clipboard:k9,pushpin:_9,round_pushpin:D9,paperclip:x9,straight_ruler:C9,triangular_ruler:v9,bookmark_tabs:S9,ledger:E9,notebook:A9,notebook_with_decorative_cover:F9,closed_book:T9,book:M9,open_book:O9,green_book:N9,blue_book:$9,orange_book:L9,books:I9,name_badge:R9,scroll:B9,memo:P9,pencil:j9,telephone_receiver:z9,pager:V9,fax:q9,satellite_antenna:U9,loudspeaker:W9,mega:H9,outbox_tray:G9,inbox_tray:K9,package:"\u{1F4E6}","e-mail":"\u{1F4E7}",incoming_envelope:J9,envelope_with_arrow:Y9,mailbox_closed:X9,mailbox:Q9,mailbox_with_mail:Z9,mailbox_with_no_mail:eV,postbox:tV,postal_horn:nV,newspaper:rV,iphone:iV,calling:oV,vibration_mode:sV,mobile_phone_off:aV,no_mobile_phones:lV,signal_strength:cV,camera:uV,camera_with_flash:dV,video_camera:hV,tv:fV,radio:pV,vhs:mV,film_projector:gV,prayer_beads:bV,twisted_rightwards_arrows:yV,repeat:wV,repeat_one:kV,arrows_clockwise:_V,arrows_counterclockwise:DV,low_brightness:xV,high_brightness:CV,mute:vV,speaker:SV,sound:EV,loud_sound:AV,battery:FV,electric_plug:TV,mag:MV,mag_right:OV,lock_with_ink_pen:NV,closed_lock_with_key:$V,key:LV,lock:IV,unlock:RV,bell:BV,no_bell:PV,bookmark:jV,link:zV,radio_button:VV,back:qV,end:UV,on:WV,soon:HV,top:GV,underage:KV,keycap_ten:JV,capital_abcd:YV,abcd:XV,symbols:QV,abc:ZV,fire:eq,flashlight:tq,wrench:nq,hammer:rq,nut_and_bolt:iq,hocho:oq,knife:sq,gun:aq,microscope:lq,telescope:cq,crystal_ball:uq,six_pointed_star:dq,beginner:hq,trident:fq,black_square_button:pq,white_square_button:mq,red_circle:gq,large_blue_circle:bq,large_orange_diamond:yq,large_blue_diamond:wq,small_orange_diamond:kq,small_blue_diamond:_q,small_red_triangle:Dq,small_red_triangle_down:xq,arrow_up_small:Cq,arrow_down_small:vq,om_symbol:Sq,dove_of_peace:Eq,kaaba:Aq,mosque:Fq,synagogue:Tq,menorah_with_nine_branches:Mq,clock1:Oq,clock2:Nq,clock3:$q,clock4:Lq,clock5:Iq,clock6:Rq,clock7:Bq,clock8:Pq,clock9:jq,clock10:zq,clock11:Vq,clock12:qq,clock130:Uq,clock230:Wq,clock330:Hq,clock430:Gq,clock530:Kq,clock630:Jq,clock730:Yq,clock830:Xq,clock930:Qq,clock1030:Zq,clock1130:eU,clock1230:tU,candle:nU,mantelpiece_clock:rU,hole:iU,man_in_business_suit_levitating:oU,"female-detective":"\u{1F575}\uFE0F\u200D\u2640\uFE0F","male-detective":"\u{1F575}\uFE0F\u200D\u2642\uFE0F",sleuth_or_spy:sU,dark_sunglasses:aU,spider:lU,spider_web:cU,joystick:uU,man_dancing:dU,linked_paperclips:hU,lower_left_ballpoint_pen:fU,lower_left_fountain_pen:pU,lower_left_paintbrush:mU,lower_left_crayon:gU,raised_hand_with_fingers_splayed:bU,middle_finger:yU,reversed_hand_with_middle_finger_extended:wU,"spock-hand":"\u{1F596}",black_heart:kU,desktop_computer:_U,printer:DU,three_button_mouse:xU,trackball:CU,frame_with_picture:vU,card_index_dividers:SU,card_file_box:EU,file_cabinet:AU,wastebasket:FU,spiral_note_pad:TU,spiral_calendar_pad:MU,compression:OU,old_key:NU,rolled_up_newspaper:$U,dagger_knife:LU,speaking_head_in_silhouette:IU,left_speech_bubble:RU,right_anger_bubble:BU,ballot_box_with_ballot:PU,world_map:jU,mount_fuji:zU,tokyo_tower:VU,statue_of_liberty:qU,japan:UU,moyai:WU,grinning:HU,grin:GU,joy:KU,smiley:JU,smile:YU,sweat_smile:XU,laughing:QU,satisfied:ZU,innocent:eW,smiling_imp:tW,wink:nW,blush:rW,yum:iW,relieved:oW,heart_eyes:sW,sunglasses:aW,smirk:lW,neutral_face:cW,expressionless:uW,unamused:dW,sweat:hW,pensive:fW,confused:pW,confounded:mW,kissing:gW,kissing_heart:bW,kissing_smiling_eyes:yW,kissing_closed_eyes:wW,stuck_out_tongue:kW,stuck_out_tongue_winking_eye:_W,stuck_out_tongue_closed_eyes:DW,disappointed:xW,worried:CW,angry:vW,rage:SW,cry:EW,persevere:AW,triumph:FW,disappointed_relieved:TW,frowning:MW,anguished:OW,fearful:NW,weary:$W,sleepy:LW,tired_face:IW,grimacing:RW,sob:BW,face_exhaling:PW,open_mouth:jW,hushed:zW,cold_sweat:VW,scream:qW,astonished:UW,flushed:WW,sleeping:HW,face_with_spiral_eyes:GW,dizzy_face:KW,face_in_clouds:JW,no_mouth:YW,mask:XW,smile_cat:QW,joy_cat:ZW,smiley_cat:eH,heart_eyes_cat:tH,smirk_cat:nH,kissing_cat:rH,pouting_cat:iH,crying_cat_face:oH,scream_cat:sH,slightly_frowning_face:aH,slightly_smiling_face:lH,upside_down_face:cH,face_with_rolling_eyes:uH,"woman-gesturing-no":"\u{1F645}\u200D\u2640\uFE0F",no_good:dH,"man-gesturing-no":"\u{1F645}\u200D\u2642\uFE0F","woman-gesturing-ok":"\u{1F646}\u200D\u2640\uFE0F",ok_woman:hH,"man-gesturing-ok":"\u{1F646}\u200D\u2642\uFE0F","woman-bowing":"\u{1F647}\u200D\u2640\uFE0F","man-bowing":"\u{1F647}\u200D\u2642\uFE0F",bow:fH,see_no_evil:pH,hear_no_evil:mH,speak_no_evil:gH,"woman-raising-hand":"\u{1F64B}\u200D\u2640\uFE0F",raising_hand:bH,"man-raising-hand":"\u{1F64B}\u200D\u2642\uFE0F",raised_hands:yH,"woman-frowning":"\u{1F64D}\u200D\u2640\uFE0F",person_frowning:wH,"man-frowning":"\u{1F64D}\u200D\u2642\uFE0F","woman-pouting":"\u{1F64E}\u200D\u2640\uFE0F",person_with_pouting_face:kH,"man-pouting":"\u{1F64E}\u200D\u2642\uFE0F",pray:_H,rocket:DH,helicopter:xH,steam_locomotive:CH,railway_car:vH,bullettrain_side:SH,bullettrain_front:EH,train2:AH,metro:FH,light_rail:TH,station:MH,tram:OH,train:NH,bus:$H,oncoming_bus:LH,trolleybus:IH,busstop:RH,minibus:BH,ambulance:PH,fire_engine:jH,police_car:zH,oncoming_police_car:VH,taxi:qH,oncoming_taxi:UH,car:WH,red_car:HH,oncoming_automobile:GH,blue_car:KH,truck:JH,articulated_lorry:YH,tractor:XH,monorail:QH,mountain_railway:ZH,suspension_railway:eG,mountain_cableway:tG,aerial_tramway:nG,ship:rG,"woman-rowing-boat":"\u{1F6A3}\u200D\u2640\uFE0F","man-rowing-boat":"\u{1F6A3}\u200D\u2642\uFE0F",rowboat:iG,speedboat:oG,traffic_light:sG,vertical_traffic_light:aG,construction:lG,rotating_light:cG,triangular_flag_on_post:uG,door:dG,no_entry_sign:hG,smoking:fG,no_smoking:pG,put_litter_in_its_place:mG,do_not_litter:gG,potable_water:bG,"non-potable_water":"\u{1F6B1}",bike:yG,no_bicycles:wG,"woman-biking":"\u{1F6B4}\u200D\u2640\uFE0F","man-biking":"\u{1F6B4}\u200D\u2642\uFE0F",bicyclist:kG,"woman-mountain-biking":"\u{1F6B5}\u200D\u2640\uFE0F","man-mountain-biking":"\u{1F6B5}\u200D\u2642\uFE0F",mountain_bicyclist:_G,"woman-walking":"\u{1F6B6}\u200D\u2640\uFE0F","man-walking":"\u{1F6B6}\u200D\u2642\uFE0F",walking:DG,no_pedestrians:xG,children_crossing:CG,mens:vG,womens:SG,restroom:EG,baby_symbol:AG,toilet:FG,wc:TG,shower:MG,bath:OG,bathtub:NG,passport_control:$G,customs:LG,baggage_claim:IG,left_luggage:RG,couch_and_lamp:BG,sleeping_accommodation:PG,shopping_bags:jG,bellhop_bell:zG,bed:VG,place_of_worship:qG,octagonal_sign:UG,shopping_trolley:WG,hindu_temple:HG,hut:GG,elevator:KG,hammer_and_wrench:JG,shield:YG,oil_drum:XG,motorway:QG,railway_track:ZG,motor_boat:eK,small_airplane:tK,airplane_departure:nK,airplane_arriving:rK,satellite:iK,passenger_ship:oK,scooter:sK,motor_scooter:aK,canoe:lK,sled:cK,flying_saucer:uK,skateboard:dK,auto_rickshaw:hK,pickup_truck:fK,roller_skate:pK,large_orange_circle:mK,large_yellow_circle:gK,large_green_circle:bK,large_purple_circle:yK,large_brown_circle:wK,large_red_square:kK,large_blue_square:_K,large_orange_square:DK,large_yellow_square:xK,large_green_square:CK,large_purple_square:vK,large_brown_square:SK,pinched_fingers:EK,white_heart:AK,brown_heart:FK,pinching_hand:TK,zipper_mouth_face:MK,money_mouth_face:OK,face_with_thermometer:NK,nerd_face:$K,thinking_face:LK,face_with_head_bandage:IK,robot_face:RK,hugging_face:BK,the_horns:PK,sign_of_the_horns:jK,call_me_hand:zK,raised_back_of_hand:VK,"left-facing_fist":"\u{1F91B}","right-facing_fist":"\u{1F91C}",handshake:qK,crossed_fingers:UK,hand_with_index_and_middle_fingers_crossed:WK,i_love_you_hand_sign:HK,face_with_cowboy_hat:GK,clown_face:KK,nauseated_face:JK,rolling_on_the_floor_laughing:YK,drooling_face:XK,lying_face:QK,"woman-facepalming":"\u{1F926}\u200D\u2640\uFE0F","man-facepalming":"\u{1F926}\u200D\u2642\uFE0F",face_palm:ZK,sneezing_face:eJ,face_with_raised_eyebrow:tJ,face_with_one_eyebrow_raised:nJ,"star-struck":"\u{1F929}",grinning_face_with_star_eyes:rJ,zany_face:iJ,grinning_face_with_one_large_and_one_small_eye:oJ,shushing_face:sJ,face_with_finger_covering_closed_lips:aJ,face_with_symbols_on_mouth:lJ,serious_face_with_symbols_covering_mouth:cJ,face_with_hand_over_mouth:uJ,smiling_face_with_smiling_eyes_and_hand_covering_mouth:dJ,face_vomiting:hJ,face_with_open_mouth_vomiting:fJ,exploding_head:pJ,shocked_face_with_exploding_head:mJ,pregnant_woman:gJ,"breast-feeding":"\u{1F931}",palms_up_together:bJ,selfie:yJ,prince:wJ,woman_in_tuxedo:kJ,man_in_tuxedo:_J,person_in_tuxedo:DJ,mrs_claus:xJ,mother_christmas:CJ,"woman-shrugging":"\u{1F937}\u200D\u2640\uFE0F","man-shrugging":"\u{1F937}\u200D\u2642\uFE0F",shrug:vJ,"woman-cartwheeling":"\u{1F938}\u200D\u2640\uFE0F","man-cartwheeling":"\u{1F938}\u200D\u2642\uFE0F",person_doing_cartwheel:SJ,"woman-juggling":"\u{1F939}\u200D\u2640\uFE0F","man-juggling":"\u{1F939}\u200D\u2642\uFE0F",juggling:EJ,fencer:AJ,"woman-wrestling":"\u{1F93C}\u200D\u2640\uFE0F","man-wrestling":"\u{1F93C}\u200D\u2642\uFE0F",wrestlers:FJ,"woman-playing-water-polo":"\u{1F93D}\u200D\u2640\uFE0F","man-playing-water-polo":"\u{1F93D}\u200D\u2642\uFE0F",water_polo:TJ,"woman-playing-handball":"\u{1F93E}\u200D\u2640\uFE0F","man-playing-handball":"\u{1F93E}\u200D\u2642\uFE0F",handball:MJ,diving_mask:OJ,wilted_flower:NJ,drum_with_drumsticks:$J,clinking_glasses:LJ,tumbler_glass:IJ,spoon:RJ,goal_net:BJ,first_place_medal:PJ,second_place_medal:jJ,third_place_medal:zJ,boxing_glove:VJ,martial_arts_uniform:qJ,curling_stone:UJ,lacrosse:WJ,softball:HJ,flying_disc:GJ,croissant:KJ,avocado:JJ,cucumber:YJ,bacon:XJ,potato:QJ,carrot:ZJ,baguette_bread:eY,green_salad:tY,shallow_pan_of_food:nY,stuffed_flatbread:rY,egg:iY,glass_of_milk:oY,peanuts:sY,kiwifruit:aY,pancakes:lY,dumpling:cY,fortune_cookie:uY,takeout_box:dY,chopsticks:hY,bowl_with_spoon:fY,cup_with_straw:pY,coconut:mY,broccoli:gY,pie:bY,pretzel:yY,cut_of_meat:wY,sandwich:kY,canned_food:_Y,leafy_green:DY,mango:xY,moon_cake:CY,bagel:vY,smiling_face_with_3_hearts:SY,yawning_face:EY,smiling_face_with_tear:AY,partying_face:FY,woozy_face:TY,hot_face:MY,cold_face:OY,ninja:NY,disguised_face:$Y,pleading_face:LY,sari:IY,lab_coat:RY,goggles:BY,hiking_boot:PY,womans_flat_shoe:jY,crab:zY,lion_face:VY,scorpion:qY,turkey:UY,unicorn_face:WY,eagle:HY,duck:GY,bat:KY,shark:JY,owl:YY,fox_face:XY,butterfly:QY,deer:ZY,gorilla:eX,lizard:tX,rhinoceros:nX,shrimp:rX,squid:iX,giraffe_face:oX,zebra_face:sX,hedgehog:aX,sauropod:lX,"t-rex":"\u{1F996}",cricket:cX,kangaroo:uX,llama:dX,peacock:hX,hippopotamus:fX,parrot:pX,raccoon:mX,lobster:gX,mosquito:bX,microbe:yX,badger:wX,swan:kX,mammoth:_X,dodo:DX,sloth:xX,otter:CX,orangutan:vX,skunk:SX,flamingo:EX,oyster:AX,beaver:FX,bison:TX,seal:MX,guide_dog:OX,probing_cane:NX,bone:$X,leg:LX,foot:IX,tooth:RX,female_superhero:BX,male_superhero:PX,superhero:jX,female_supervillain:zX,male_supervillain:VX,supervillain:qX,safety_vest:UX,ear_with_hearing_aid:WX,motorized_wheelchair:HX,manual_wheelchair:GX,mechanical_arm:KX,mechanical_leg:JX,cheese_wedge:YX,cupcake:XX,salt:QX,beverage_box:ZX,garlic:eQ,onion:tQ,falafel:nQ,waffle:rQ,butter:iQ,mate_drink:oQ,ice_cube:sQ,bubble_tea:aQ,woman_standing:lQ,man_standing:cQ,standing_person:uQ,woman_kneeling:dQ,man_kneeling:hQ,kneeling_person:fQ,deaf_woman:pQ,deaf_man:mQ,deaf_person:gQ,face_with_monocle:bQ,farmer:yQ,cook:wQ,person_feeding_baby:kQ,mx_claus:_Q,student:DQ,singer:xQ,artist:CQ,teacher:vQ,factory_worker:SQ,technologist:EQ,office_worker:AQ,mechanic:FQ,scientist:TQ,astronaut:MQ,firefighter:OQ,people_holding_hands:NQ,person_with_probing_cane:$Q,red_haired_person:LQ,curly_haired_person:IQ,bald_person:RQ,white_haired_person:BQ,person_in_motorized_wheelchair:PQ,person_in_manual_wheelchair:jQ,health_worker:zQ,judge:VQ,pilot:qQ,adult:UQ,child:WQ,older_adult:HQ,woman_with_beard:GQ,man_with_beard:KQ,bearded_person:JQ,person_with_headscarf:YQ,woman_in_steamy_room:XQ,man_in_steamy_room:QQ,person_in_steamy_room:ZQ,woman_climbing:eZ,person_climbing:tZ,man_climbing:nZ,woman_in_lotus_position:rZ,person_in_lotus_position:iZ,man_in_lotus_position:oZ,female_mage:sZ,mage:aZ,male_mage:lZ,female_fairy:cZ,fairy:uZ,male_fairy:dZ,female_vampire:hZ,vampire:fZ,male_vampire:pZ,mermaid:mZ,merman:gZ,merperson:bZ,female_elf:yZ,male_elf:wZ,elf:kZ,female_genie:_Z,male_genie:DZ,genie:xZ,female_zombie:CZ,male_zombie:vZ,zombie:SZ,brain:EZ,orange_heart:AZ,billed_cap:FZ,scarf:TZ,gloves:MZ,coat:OZ,socks:NZ,red_envelope:$Z,firecracker:LZ,jigsaw:IZ,test_tube:RZ,petri_dish:BZ,dna:PZ,compass:jZ,abacus:zZ,fire_extinguisher:VZ,toolbox:qZ,bricks:UZ,magnet:WZ,luggage:HZ,lotion_bottle:GZ,thread:KZ,yarn:JZ,safety_pin:YZ,teddy_bear:XZ,broom:QZ,basket:ZZ,roll_of_paper:eee,soap:tee,sponge:nee,receipt:ree,nazar_amulet:iee,ballet_shoes:oee,"one-piece_swimsuit":"\u{1FA71}",briefs:see,shorts:aee,thong_sandal:lee,drop_of_blood:cee,adhesive_bandage:uee,stethoscope:dee,"yo-yo":"\u{1FA80}",kite:hee,parachute:fee,boomerang:pee,magic_wand:mee,pinata:gee,nesting_dolls:bee,ringed_planet:yee,chair:wee,razor:kee,axe:_ee,diya_lamp:Dee,banjo:xee,military_helmet:Cee,accordion:vee,long_drum:See,coin:Eee,carpentry_saw:Aee,screwdriver:Fee,ladder:Tee,hook:Mee,mirror:Oee,window:Nee,plunger:$ee,sewing_needle:Lee,knot:Iee,bucket:Ree,mouse_trap:Bee,toothbrush:Pee,headstone:jee,placard:zee,rock:Vee,fly:qee,worm:Uee,beetle:Wee,cockroach:Hee,potted_plant:Gee,wood:Kee,feather:Jee,anatomical_heart:Yee,lungs:Xee,people_hugging:Qee,blueberries:Zee,bell_pepper:ete,olive:tte,flatbread:nte,tamale:rte,fondue:ite,teapot:ote,bangbang:ste,interrobang:ate,tm:lte,information_source:cte,left_right_arrow:ute,arrow_up_down:dte,arrow_upper_left:hte,arrow_upper_right:fte,arrow_lower_right:pte,arrow_lower_left:mte,leftwards_arrow_with_hook:gte,arrow_right_hook:bte,watch:yte,hourglass:wte,keyboard:kte,eject:_te,fast_forward:Dte,rewind:xte,arrow_double_up:Cte,arrow_double_down:vte,black_right_pointing_double_triangle_with_vertical_bar:Ste,black_left_pointing_double_triangle_with_vertical_bar:Ete,black_right_pointing_triangle_with_double_vertical_bar:Ate,alarm_clock:Fte,stopwatch:Tte,timer_clock:Mte,hourglass_flowing_sand:Ote,double_vertical_bar:Nte,black_square_for_stop:$te,black_circle_for_record:Lte,m:Ite,black_small_square:Rte,white_small_square:Bte,arrow_forward:Pte,arrow_backward:jte,white_medium_square:zte,black_medium_square:Vte,white_medium_small_square:qte,black_medium_small_square:Ute,sunny:Wte,cloud:Hte,umbrella:Gte,snowman:Kte,comet:Jte,phone:Yte,telephone:Xte,ballot_box_with_check:Qte,shamrock:Zte,point_up:ene,skull_and_crossbones:tne,radioactive_sign:nne,biohazard_sign:rne,orthodox_cross:ine,star_and_crescent:one,peace_symbol:sne,yin_yang:ane,wheel_of_dharma:lne,white_frowning_face:cne,relaxed:une,female_sign:dne,male_sign:hne,gemini:fne,cancer:pne,leo:mne,virgo:gne,libra:bne,scorpius:yne,chess_pawn:wne,spades:kne,clubs:_ne,hearts:Dne,diamonds:xne,hotsprings:Cne,recycle:vne,infinity:Sne,wheelchair:Ene,hammer_and_pick:Ane,crossed_swords:Fne,medical_symbol:Tne,staff_of_aesculapius:Mne,scales:One,alembic:Nne,gear:$ne,atom_symbol:Lne,fleur_de_lis:Ine,warning:Rne,zap:Bne,transgender_symbol:Pne,white_circle:jne,black_circle:zne,coffin:Vne,funeral_urn:qne,soccer:Une,baseball:Wne,snowman_without_snow:Hne,partly_sunny:Gne,thunder_cloud_and_rain:Kne,ophiuchus:Jne,pick:Yne,helmet_with_white_cross:Xne,chains:Qne,no_entry:Zne,shinto_shrine:ere,church:tre,mountain:nre,umbrella_on_ground:rre,fountain:ire,golf:ore,ferry:sre,boat:are,sailboat:lre,skier:cre,ice_skate:ure,"woman-bouncing-ball":"\u26F9\uFE0F\u200D\u2640\uFE0F","man-bouncing-ball":"\u26F9\uFE0F\u200D\u2642\uFE0F",person_with_ball:dre,tent:hre,fuelpump:fre,scissors:pre,airplane:mre,email:gre,envelope:bre,fist:yre,hand:wre,raised_hand:kre,v:_re,writing_hand:Dre,pencil2:xre,black_nib:Cre,heavy_check_mark:vre,heavy_multiplication_x:Sre,latin_cross:Ere,star_of_david:Are,eight_spoked_asterisk:Fre,eight_pointed_black_star:Tre,snowflake:Mre,sparkle:Ore,x:Nre,negative_squared_cross_mark:$re,heavy_heart_exclamation_mark_ornament:Lre,heart_on_fire:Ire,mending_heart:Rre,heart:Bre,arrow_right:Pre,curly_loop:jre,loop:zre,arrow_heading_up:Vre,arrow_heading_down:qre,arrow_left:Ure,arrow_up:Wre,arrow_down:Hre,black_large_square:Gre,white_large_square:Kre,star:Jre,o:Yre,wavy_dash:Xre,part_alternation_mark:Qre,congratulations:Zre,secret:eie};var X_=YL,qr=tie,nie=/:([a-zA-Z0-9_\-\+]+):/g,rie=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function Cs(t){var e=t.indexOf(":");return e>-1?e===t.length-1?(t=t.substring(0,e),Cs(t)):(t=t.substr(e+1),Cs(t)):t}function Q_(t){return typeof t=="string"&&t.length>0?":"+t+":":t}function iie(t){return typeof t=="string"&&t[0]!==":"?Q_(t):t}var oie=String.fromCharCode(65039),sie=new RegExp(oie,"g");function vs(t){return t.replace(sie,"")}var Fm=Object.keys(qr).reduce(function(t,e){return t[vs(qr[e])]=e,t},{}),Be={emoji:qr};Be._get=function(e){return Fm[vs(e)]?e:qr.hasOwnProperty(e)?qr[e]:iie(e)};Be.get=function(e){return e=Cs(e),Be._get(e)};Be.find=function(e){return Be.findByName(e)||Be.findByCode(e)};Be.findByName=function(e){var n=Cs(e),r=qr[n];return r?{emoji:r,key:n}:void 0};Be.findByCode=function(e){var n=vs(e),r=Fm[n];return r?{emoji:qr[r],key:r}:void 0};Be.hasEmoji=function(e){return Be.hasEmojiByName(e)||Be.hasEmojiByCode(e)};Be.hasEmojiByName=function(e){var n=Be.findByName(e);return!!n&&n.key===Cs(e)};Be.hasEmojiByCode=function(e){var n=Be.findByCode(e);return!!n&&vs(n.emoji)===vs(e)};Be.which=function(e,n){var r=vs(e),i=Fm[r];return n?Q_(i):i};Be.emojify=function(e,n,r){return e?e.split(nie).map(function(o,s){if(s%2===0)return o;var a=Be._get(o),l=a.indexOf(":")>-1;return l&&typeof n=="function"?n(o):!l&&typeof r=="function"?r(a,o):a}).join(""):""};Be.random=function(){var e=Object.keys(qr),n=Math.floor(Math.random()*e.length),r=e[n],i=Be._get(r);return{key:r,emoji:i}};Be.search=function(e){var n=Object.keys(qr),r=Cs(e),i=n.filter(function(o){return o.toString().indexOf(r)===0});return i.map(function(o){return{key:o,emoji:Be._get(o)}})};Be.unemojify=function(e){if(!e)return"";var n=X_(e);return n.map(function(r){return Be.which(r,!0)||r}).join("")};Be.replace=function(e,n,r){if(!e)return"";var i=typeof n=="function"?n:function(){return n},o=X_(e),s=o.map(function(a,l){var c=Be.findByCode(a);return c&&r&&o[l+1]===" "&&(o[l+1]=""),c?i(c):a}).join("");return r?s.replace(rie,""):s};Be.strip=function(e){return Be.replace(e,"",!0)};var aie=Be;(function(t){t.exports=aie})($_);const ga=A3($_.exports),Fb=[{name:"angry",emoji:"\u{1F620}",tags:["mad","annoyed"],description:"angry face",emoticons:[">:(",">:[",">:-(",">:-[",">=(",">=[",">=-(",">=-["]},{name:"blush",emoji:"\u{1F60A}",tags:["proud"],description:"smiling face with smiling eyes",emoticons:[':")',':"]',':"D',':-")',':-"]',':-"D','=")','="]','="D','=-")','=-"]','=-"D']},{name:"broken_heart",emoji:"\u{1F494}",tags:[],description:"broken heart",emoticons:["<\\3","</3"]},{name:"confused",emoji:"\u{1F615}",tags:[],description:"confused face",emoticons:[":/",":\\",":-/",":-\\","=/","=\\","=-/","=-\\"]},{name:"cry",emoji:"\u{1F622}",tags:["sad","tear"],description:"crying face",emoticons:[":,(",":,[",":,|",":,-(",":,-[",":,-|",":'(",":'[",":'|",":'-(",":'-[",":'-|","=,(","=,[","=,|","=,-(","=,-[","=,-|","='(","='[","='|","='-(","='-[","='-|"]},{name:"frowning",emoji:"\u{1F626}",tags:[],description:"frowning face with open mouth",emoticons:[":(",":[",":-(",":-[","=(","=[","=-(","=-["]},{name:"heart",emoji:"\u2764\uFE0F",tags:["love"],description:"red heart",emoticons:["<3"]},{name:"imp",emoji:"\u{1F47F}",tags:["angry","devil","evil","horns"],description:"angry face with horns",emoticons:["]:(","]:[","]:-(","]:-[","]=(","]=[","]=-(","]=-["]},{name:"innocent",emoji:"\u{1F607}",tags:["angel"],description:"smiling face with halo",emoticons:["o:)","o:]","o:D","o:-)","o:-]","o:-D","o=)","o=]","o=D","o=-)","o=-]","o=-D","O:)","O:]","O:D","O:-)","O:-]","O:-D","O=)","O=]","O=D","O=-)","O=-]","O=-D","0:)","0:]","0:D","0:-)","0:-]","0:-D","0=)","0=]","0=D","0=-)","0=-]","0=-D"]},{name:"joy",emoji:"\u{1F602}",tags:["tears"],description:"face with tears of joy",emoticons:[":,)",":,]",":,D",":,-)",":,-]",":,-D",":')",":']",":'D",":'-)",":'-]",":'-D","=,)","=,]","=,D","=,-)","=,-]","=,-D","=')","=']","='D","='-)","='-]","='-D"]},{name:"kissing",emoji:"\u{1F617}",tags:[],description:"kissing face",emoticons:[":*",":-*","=*","=-*"]},{name:"laughing",emoji:"\u{1F606}",tags:["happy","haha"],description:"grinning squinting face",emoticons:["x)","x]","xD","x-)","x-]","x-D","X)","X]","X-)","X-]","X-D"]},{name:"man",emoji:"\u{1F468}",tags:["mustache","father","dad"],description:"man",emoticons:[":3",":-3","=3","=-3",";3",";-3","x3","x-3","X3","X-3"]},{name:"neutral_face",emoji:"\u{1F610}",tags:["meh"],description:"neutral face",emoticons:[":|",":-|","=|","=-|"]},{name:"no_mouth",emoji:"\u{1F636}",tags:["mute","silence"],description:"face without mouth",emoticons:[":-"]},{name:"open_mouth",emoji:"\u{1F62E}",tags:["surprise","impressed","wow"],description:"face with open mouth",emoticons:[":o",":O",":0",":-o",":-O",":-0","=o","=O","=0","=-o","=-O","=-0"]},{name:"rage",emoji:"\u{1F621}",tags:["angry"],description:"pouting face",emoticons:[":@",":-@","=@","=-@"]},{name:"smile",emoji:"\u{1F604}",tags:["happy","joy","laugh","pleased"],description:"grinning face with smiling eyes",emoticons:[":D",":-D","=D","=-D"]},{name:"smiley",emoji:"\u{1F603}",tags:["happy","joy","haha"],description:"grinning face with big eyes",emoticons:[":)",":]",":-)",":-]","=)","=]","=-)","=-]"]},{name:"smiling_imp",emoji:"\u{1F608}",tags:["devil","evil","horns"],description:"smiling face with horns",emoticons:["]:)","]:]","]:D","]:-)","]:-]","]:-D","]=)","]=]","]=D","]=-)","]=-]","]=-D"]},{name:"sob",emoji:"\u{1F62D}",tags:["sad","cry","bawling"],description:"loudly crying face",emoticons:[":,'(",":,'[",":,'-(",":,'-[",":',(",":',[",":',-(",":',-[","=,'(","=,'[","=,'-(","=,'-[","=',(","=',[","=',-(","=',-["]},{name:"stuck_out_tongue",emoji:"\u{1F61B}",tags:[],description:"face with tongue",emoticons:[":p",":P",":d",":-p",":-P",":-d","=p","=P","=d","=-p","=-P","=-d"]},{name:"stuck_out_tongue_closed_eyes",emoji:"\u{1F61D}",tags:["prank"],description:"squinting face with tongue",emoticons:["xP","x-p","x-P","x-d","Xp","Xd","X-p","X-P","X-d"]},{name:"stuck_out_tongue_winking_eye",emoji:"\u{1F61C}",tags:["prank","silly"],description:"winking face with tongue",emoticons:[";p",";P",";d",";-p",";-P",";-d"]},{name:"sunglasses",emoji:"\u{1F60E}",tags:["cool"],description:"smiling face with sunglasses",emoticons:["8)","8]","8D","8-)","8-]","8-D","B)","B]","B-)","B-]","B-D"]},{name:"sweat",emoji:"\u{1F613}",tags:[],description:"downcast face with sweat",emoticons:[",:(",",:[",",:-(",",:-[",",=(",",=[",",=-(",",=-[","':(","':[","':-(","':-[","'=(","'=[","'=-(","'=-["]},{name:"sweat_smile",emoji:"\u{1F605}",tags:["hot"],description:"grinning face with sweat",emoticons:[",:)",",:]",",:D",",:-)",",:-]",",:-D",",=)",",=]",",=D",",=-)",",=-]",",=-D","':)","':]","':D","':-)","':-]","':-D","'=)","'=]","'=D","'=-)","'=-]","'=-D"]},{name:"unamused",emoji:"\u{1F612}",tags:["meh"],description:"unamused face",emoticons:[":$",":s",":z",":S",":Z",":-$",":-s",":-z",":-S",":-Z","=$","=s","=z","=S","=Z","=-$","=-s","=-z","=-S","=-Z"]},{name:"wink",emoji:"\u{1F609}",tags:["flirt"],description:"winking face",emoticons:[";)",";]",";D",";-)",";-]",";-D"]}],lie=/:\+1:|:-1:|:[\w-]+:/g,cie=/[$@|*'",;.=:\-)([\]\\/<>038BOopPsSdDxXzZ]{2,5}/g,Tb=/_/g,uie={padSpaceAfter:!1,emoticon:!1};function die(t){const e=Object.assign({},uie,t),n=!!e.padSpaceAfter,r=!!e.emoticon;function i(a){const l=Fb.find(h=>h.emoticons.includes(a)),c=Fb.find(h=>h.emoticons.includes(a.slice(0,-1))),u=c?a.slice(-1):"",d=n?" ":"";return(l?l.emoji+d:c&&c.emoji+d+u)||a}function o(a){let l=ga.get(a);if(a.endsWith("_man:")&&l===a){const c="man-"+a.slice(1,-5).replace(Tb,"-"),u=ga.get(c);u!==c&&(l=u)}else if(a.endsWith("_woman:")&&l===a){const c="woman-"+a.slice(1,-7).replace(Tb,"-"),u=ga.get(c);u!==c&&(l=u)}return n&&l!==a?l+" ":l}function s(a){co(a,"text",function(l){l.value=l.value.replace(lie,o),r&&(l.value=l.value.replace(cie,i))})}return s}/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var hie=function(){var t={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:_,toCodePoint:y},onerror:function(){this.parentNode&&this.parentNode.replaceChild(l(this.alt,!1),this)},parse:w,replace:x,test:k},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,r=/\uFE0F/g,i=String.fromCharCode(8205),o=/[&<>'"]/g,s=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,a=String.fromCharCode;return t;function l(D,S){return document.createTextNode(S?D.replace(r,""):D)}function c(D){return D.replace(o,m)}function u(D,S){return"".concat(S.base,S.size,"/",D,S.ext)}function d(D,S){for(var F=D.childNodes,O=F.length,E,N;O--;)E=F[O],N=E.nodeType,N===3?S.push(E):N===1&&!("ownerSVGElement"in E)&&!s.test(E.nodeName.toLowerCase())&&d(E,S);return S}function f(D){return y(D.indexOf(i)<0?D.replace(r,""):D)}function h(D,S){for(var F=d(D,[]),O=F.length,E,N,I,H,Q,$,L,T,A,M,v,C,V;O--;){for(I=!1,H=document.createDocumentFragment(),Q=F[O],$=Q.nodeValue,T=0;L=n.exec($);){if(A=L.index,A!==T&&H.appendChild(l($.slice(T,A),!0)),v=L[0],C=f(v),T=A+v.length,V=S.callback(C,S),C&&V){M=new Image,M.onerror=S.onerror,M.setAttribute("draggable","false"),E=S.attributes(v,C);for(N in E)E.hasOwnProperty(N)&&N.indexOf("on")!==0&&!M.hasAttribute(N)&&M.setAttribute(N,E[N]);M.className=S.className,M.alt=v,M.src=V,I=!0,H.appendChild(M)}M||H.appendChild(l(v,!1)),M=null}I&&(T<$.length&&H.appendChild(l($.slice(T),!0)),Q.parentNode.replaceChild(H,Q))}return D}function p(D,S){return x(D,function(F){var O=F,E=f(F),N=S.callback(E,S),I,H;if(E&&N){O="<img ".concat('class="',S.className,'" ','draggable="false" ','alt="',F,'"',' src="',N,'"'),I=S.attributes(F,E);for(H in I)I.hasOwnProperty(H)&&H.indexOf("on")!==0&&O.indexOf(" "+H+"=")===-1&&(O=O.concat(" ",H,'="',c(I[H]),'"'));O=O.concat("/>")}return O})}function m(D){return e[D]}function g(){return null}function b(D){return typeof D=="number"?D+"x"+D:D}function _(D){var S=typeof D=="string"?parseInt(D,16):D;return S<65536?a(S):(S-=65536,a(55296+(S>>10),56320+(S&1023)))}function w(D,S){return(!S||typeof S=="function")&&(S={callback:S}),(typeof D=="string"?p:h)(D,{callback:S.callback||u,attributes:typeof S.attributes=="function"?S.attributes:g,base:typeof S.base=="string"?S.base:t.base,ext:S.ext||t.ext,size:S.folder||b(S.size||t.size),className:S.className||t.className,onerror:S.onerror||t.onerror})}function x(D,S){return String(D).replace(n,S)}function k(D){n.lastIndex=0;var S=n.test(D);return n.lastIndex=0,S}function y(D,S){for(var F=[],O=0,E=0,N=0;N<D.length;)O=D.charCodeAt(N++),E?(F.push((65536+(E-55296<<10)+(O-56320)).toString(16)),E=0):55296<=O&&O<=56319?E=O:F.push(O.toString(16));return F.join(S||"-")}}();const fie=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,pie=/:\+1|:-1|:[\w-]+/,mie=/:\+1:|:-1:|:[\w-]+:/,gie=/(:([^:\s]+):)$/,bie=t=>({title:t}),Tm=(t,e)=>hie.parse(t,{attributes:bie,...e}),yie=(t,e,n,r,i,o)=>{if(t.composing)return!1;const{state:s}=t,a=s.doc.resolve(e);if(a.parent.type.spec.code)return!1;const l=(a.parent.textBetween(Math.max(0,a.parentOffset-10),a.parentOffset,void 0,"\uFFFC")+r).toLowerCase();if(mie.test(l))return!1;const c=pie.exec(l);if(c&&c[0]&&l.endsWith(c[0])){const u=c[0];return i(e-(u.length-r.length),n),o(u),!0}return!1},wie=(t,e,n,r,i)=>{for(;e.firstChild;)e.firstChild.remove();t.forEach(({emoji:o,key:s},a)=>{const l=document.createElement("div");l.className="milkdown-emoji-filter_item";const c=document.createElement("span");c.innerHTML=Tm(o,i),c.className="milkdown-emoji-filter_item-emoji";const u=document.createElement("span");u.textContent=`:${s}:`,u.className="milkdown-emoji-filter_item-key",l.appendChild(c),l.appendChild(u),e.appendChild(l),a===0&&r(l);const d=h=>{const{target:p}=h;p instanceof HTMLElement&&r(p)},f=h=>{h.preventDefault(),n()};l.addEventListener("mouseenter",d),l.addEventListener("mousedown",f)})},kie=(t,{css:e,cx:n})=>{const r=t.get(kt,void 0),i=t.get(Xn,void 0),o=t.get(Br,void 0),s=t.get(He,"radius"),a=t.get(Hn,"typography"),l=(u,d=1)=>t.get(qt,[u,d]),c=e`
        min-height: 36px;
        max-height: 320px;
        overflow-y: auto;
        border-radius: ${s};
        position: absolute;
        background: ${l("surface")};

        &.hide {
            display: none;
        }

        .milkdown-emoji-filter_item {
            display: flex;
            gap: 8px;
            height: 36px;
            padding: 0 14px;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            line-height: 2;
            font-family: ${a};
            font-size: 14px;
            &.active {
                background: ${l("secondary",.12)};
                color: ${l("primary")};
            }
        }

        .emoji {
            height: 14px;
            width: 14px;
            margin: 0 1px 0 1.5px;
            vertical-align: -1.5px;
        }
    `;return n(r,i,o,c)},_ie=new Se("MILKDOWN_EMOJI_FILTER"),Die=(t,e,n)=>{let r=!1,i=0,o="",s=null;const a=()=>{r=!1,i=0,o="",s=null},l=c=>{s&&s.classList.remove("active"),c&&c.classList.add("active"),s=c};return new De({key:_ie,props:{handleKeyDown(c,u){return["Delete","Backspace"].includes(u.key)?(o=o.slice(0,-1),o.length<=1&&a(),!1):!(!r||!["ArrowUp","ArrowDown","Enter"].includes(u.key))},handleTextInput(c,u,d,f){return r=yie(c,u,d,f,h=>{i=h},h=>{o=h}),r||a(),!1}},view:c=>{const{parentNode:u}=c.dom;if(!u)throw En();const d=document.createElement("div");d.classList.add("milkdown-emoji-filter","hide"),t.themeManager.onFlush(()=>{const m=d.className.split(" ").filter(b=>["hide","milkdown-emoji-filter"].includes(b));d.className=m.join(" ");const g=t.getStyle(b=>kie(t.themeManager,b));g&&g.split(" ").forEach(b=>d.classList.add(b))});const f=()=>{var m;if(!s)return;const{tr:g}=c.state,b=c.state.schema.node("emoji",{html:(m=s.firstElementChild)==null?void 0:m.innerHTML});c.dispatch(g.delete(i,i+o.length).insert(i,b)),a(),d.classList.add("hide")};u.appendChild(d);const h=m=>{if(!r||!(m instanceof KeyboardEvent))return;const{key:g}=m;if(g==="Enter"){f();return}if(["ArrowDown","ArrowUp"].includes(g)){const b=g==="ArrowDown"?(s==null?void 0:s.nextElementSibling)||d.firstElementChild:(s==null?void 0:s.previousElementSibling)||d.lastElementChild;if(!b)return;l(b)}},p=m=>{!r||(m.stopPropagation(),a(),d.classList.add("hide"))};return u.addEventListener("keydown",h),u.addEventListener("mousedown",p),{update:m=>{const{selection:g}=m.state;if(g.from-g.to!==0||!r)return a(),d.classList.add("hide"),null;const b=ga.search(o).slice(0,e),{node:_}=m.domAtPos(i);return b.length===0||!_?(d.classList.add("hide"),null):(d.style.maxHeight="",d.classList.remove("hide"),wie(b,d,f,l,n),am(m,d,(w,x,k)=>{const y=d.parentElement;if(!y)throw En();const D=m.coordsAtPos(i);let S=D.left-k.left;S<0&&(S=0);let F,O;const E=D.top-k.top,N=k.height+k.top-D.bottom;N>=x.height+28?F="bottom":E>=x.height+28?F="top":N>=E?(F="bottom",O=N-28):(F="top",O=E-28),(E<0||N<0)&&(O=k.height-(D.bottom-D.top)-28,O>x.height&&(O=void 0));const I=F==="top"?D.top-k.top-(O!=null?O:x.height)-14+y.scrollTop:D.bottom-k.top+14+y.scrollTop;d.style.maxHeight=O!==void 0&&O>0?`${O}px`:"";const H=y.clientWidth-(d.offsetWidth+4);return S>H&&(S=H),[I,S]}),null)},destroy:()=>{u.removeEventListener("keydown",h),u.removeEventListener("mousedown",p),d.remove()}}}})},Mb=fie(),xie=t=>!!t.children,Cie=t=>!!t.value;function vie(t,e){return n(t,0,null)[0];function n(r,i,o){if(xie(r)){const s=[];for(let a=0,l=r.children.length;a<l;a++){const c=r.children[a];if(c){const u=n(c,a,r);if(u)for(let d=0,f=u.length;d<f;d++){const h=u[d];h&&s.push(h)}}}r.children=s}return e(r,i,o)}}const Sie=t=>()=>{function e(n){vie(n,r=>{if(!Cie(r))return[r];const i=r.value,o=[];let s,a=i;for(;s=Mb.exec(a);){const{index:l}=s,c=s[0];c&&(l>0&&o.push({...r,value:a.slice(0,l)}),o.push({...r,value:Tm(c,t),type:"emoji"}),a=a.slice(l+c.length)),Mb.lastIndex=0}return a.length&&o.push({...r,value:a}),o})}return e},Eie=Ct((t,e)=>{const n=()=>t.getStyle(({css:r})=>r`
                .emoji {
                    height: 1em;
                    width: 1em;
                    margin: 0 1px 0 1.5px;
                    vertical-align: -1.5px;
                }
            `);return{id:"emoji",schema:()=>({group:"inline",inline:!0,atom:!0,attrs:{html:{default:""}},parseDOM:[{tag:'span[data-type="emoji"]',getAttrs:r=>{if(!(r instanceof HTMLElement))throw Ht(r);return{html:r.innerHTML}}}],toDOM:r=>{const i=document.createElement("span");return i.classList.add("emoji-wrapper"),i.dataset.type="emoji",t.themeManager.onFlush(()=>{const o=n();o&&i.classList.add(o)}),i.innerHTML=r.attrs.html,{dom:i}},parseMarkdown:{match:({type:r})=>r==="emoji",runner:(r,i,o)=>{r.addNode(o,{html:i.value})}},toMarkdown:{match:r=>r.type.name==="emoji",runner:(r,i)=>{const o=document.createElement("span");o.innerHTML=i.attrs.html;const s=o.querySelector("img"),a=s==null?void 0:s.title;o.remove(),r.addNode("text",void 0,a)}}}),inputRules:r=>[new gn(gie,(i,o,s,a)=>{const l=o[0];if(!l)return null;const c=ga.get(l);if(!c||l.includes(c))return null;const u=Tm(c,e==null?void 0:e.twemojiOptions);return i.tr.setMeta("emoji",!0).replaceRangeWith(s,a,r.create({html:u})).scrollIntoView()})],remarkPlugins:()=>[die,Sie(e==null?void 0:e.twemojiOptions)],prosePlugins:()=>{var r;return[Die(t,(r=e==null?void 0:e.maxListSize)!=null?r:6,e==null?void 0:e.twemojiOptions)]}}}),Aie=rn.create([Eie()]);var au=200,Mt=function(){};Mt.prototype.append=function(e){return e.length?(e=Mt.from(e),!this.length&&e||e.length<au&&this.leafAppend(e)||this.length<au&&e.leafPrepend(this)||this.appendInner(e)):this};Mt.prototype.prepend=function(e){return e.length?Mt.from(e).append(this):this};Mt.prototype.appendInner=function(e){return new Fie(this,e)};Mt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Mt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Mt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Mt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Mt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};Mt.from=function(e){return e instanceof Mt?e:e&&e.length?new Z_(e):Mt.empty};var Z_=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=au)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=au)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Mt);Mt.empty=new Z_([]);var Fie=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Mt),eD=Mt;const Tie=500;class qn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),o=i.maps.length),o--,u.push(d);return}if(i){u.push(new ar(d.map));let h=d.step.map(i.slice(o)),p;h&&s.maybeStep(h).doc&&(p=s.mapping.maps[s.mapping.maps.length-1],c.push(new ar(p,void 0,void 0,c.length+u.length))),o--,p&&i.appendMap(p,o)}else s.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(o)):d.selection,l=new qn(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new ar(e.mapping.maps[u],d,n),h;(h=l&&l.merge(f))&&(f=h,u?o.pop():a=a.slice(0,a.length-1)),o.push(f),n&&(s++,n=void 0),i||(l=f)}let c=s-r.depth;return c>Oie&&(a=Mie(a,c),s-=c),new qn(a.append(o),s)}remapping(e,n){let r=new Yo;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new qn(this.items.append(e.map(n=>new ar(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let h=o.getMirror(--l);if(h==null)return;s=Math.min(s,h);let p=o.maps[h];if(f.step){let m=e.steps[h].invert(e.docs[h]),g=f.selection&&f.selection.map(o.slice(l+1,h));g&&a++,r.push(new ar(p,m,g))}else r.push(new ar(p))},i);let c=[];for(let f=n;f<s;f++)c.push(new ar(o.maps[f]));let u=this.items.slice(0,i).append(c).append(r),d=new qn(u,a);return d.emptyItemCount()>Tie&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=s.selection&&s.selection.map(n.slice(r));u&&o++;let d=new ar(c.invert(),l,u),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else s.map&&r--},this.items.length,0),new qn(eD.from(i.reverse()),o)}}qn.empty=new qn(eD.empty,0);function Mie(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class ar{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ar(n.getMap().invert(),n,this.selection)}}}class ii{constructor(e,n,r,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i}}const Oie=20;function Nie(t,e,n,r){let i=n.getMeta(ki),o;if(i)return i.historyState;n.getMeta(Lie)&&(t=new ii(t.done,t.undone,null,0));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(ki))return s.getMeta(ki).redo?new ii(t.done.addTransform(n,void 0,r,$c(e)),t.undone,Ob(n.mapping.maps[n.steps.length-1]),t.prevTime):new ii(t.done,t.undone.addTransform(n,void 0,r,$c(e)),null,t.prevTime);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=t.prevTime==0||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!$ie(n,t.prevRanges)),l=s?uh(t.prevRanges,n.mapping):Ob(n.mapping.maps[n.steps.length-1]);return new ii(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,$c(e)),qn.empty,l,n.time)}else return(o=n.getMeta("rebased"))?new ii(t.done.rebased(n,o),t.undone.rebased(n,o),uh(t.prevRanges,n.mapping),t.prevTime):new ii(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),uh(t.prevRanges,n.mapping),t.prevTime)}function $ie(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function Ob(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function uh(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function tD(t,e,n,r){let i=$c(e),o=ki.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),c=new ii(r?l:s.remaining,r?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(ki,{redo:r,historyState:c}).scrollIntoView())}let dh=!1,Nb=null;function $c(t){let e=t.plugins;if(Nb!=e){dh=!1,Nb=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){dh=!0;break}}return dh}const ki=new Se("history"),Lie=new Se("closeHistory");function nD(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new De({key:ki,state:{init(){return new ii(qn.empty,qn.empty,null,0)},apply(e,n,r){return Nie(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?lu:r=="historyRedo"?ns:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const lu=(t,e)=>{let n=ki.getState(t);return!n||n.done.eventCount==0?!1:(e&&tD(n,t,e,!1),!0)},ns=(t,e)=>{let n=ki.getState(t);return!n||n.undone.eventCount==0?!1:(e&&tD(n,t,e,!0),!0)},Iie=xe("Undo"),Rie=xe("Redo"),Bie=Kr(()=>({commands:()=>[_e(Iie,()=>lu),_e(Rie,()=>ns)],prosePlugins:()=>[nD(),po({"Mod-z":lu,"Mod-y":ns,"Shift-Mod-z":ns})]})),Pie=rn.create([Bie()]);var jie=Object.defineProperty,zie=(t,e,n)=>e in t?jie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nr=(t,e,n)=>(zie(t,typeof e!="symbol"?e+"":e,n),n);class rD{constructor(){nr(this,"beforeMountedListeners",[]),nr(this,"mountedListeners",[]),nr(this,"updatedListeners",[]),nr(this,"markdownUpdatedListeners",[]),nr(this,"blurListeners",[]),nr(this,"focusListeners",[]),nr(this,"destroyListeners",[]),nr(this,"beforeMount",e=>(this.beforeMountedListeners.push(e),this)),nr(this,"mounted",e=>(this.mountedListeners.push(e),this)),nr(this,"updated",e=>(this.updatedListeners.push(e),this))}get listeners(){return{beforeMounted:this.beforeMountedListeners,mounted:this.mountedListeners,updated:this.updatedListeners,markdownUpdated:this.markdownUpdatedListeners,blur:this.blurListeners,focus:this.focusListeners,destroy:this.destroyListeners}}markdownUpdated(e){return this.markdownUpdatedListeners.push(e),this}blur(e){return this.blurListeners.push(e),this}focus(e){return this.focusListeners.push(e),this}destroy(e){return this.destroyListeners.push(e),this}}const cu=ie(new rD,"listener"),Vie=new Se("MILKDOWN_LISTENER"),qie=t=>(t.inject(cu,new rD),async e=>{await e.wait(zr);const n=e.get(cu),{listeners:r}=n;r.beforeMounted.forEach(l=>l(e)),await e.wait(ma);const i=e.get(ts);let o=null,s=null;const a=new De({key:Vie,view:()=>({destroy:()=>{r.destroy.forEach(l=>l(e))}}),props:{handleDOMEvents:{focus:()=>(r.focus.forEach(l=>l(e)),!1),blur:()=>(r.blur.forEach(l=>l(e)),!1)}},state:{init:()=>{},apply:l=>{if(!l.docChanged)return;const{doc:c}=l;if(r.updated.length>0&&(o==null||!o.eq(c))&&r.updated.forEach(u=>{u(e,c,o)}),r.markdownUpdated.length>0&&(o==null||!o.eq(c))){const u=i(l.doc);(s==null||s!==u)&&(r.markdownUpdated.forEach(d=>{d(e,u,s)}),s=u)}o=c}}});e.update(Dt,l=>l.concat(a)),await e.wait(ro),r.mounted.forEach(l=>l(e))}),iD=(t,e)=>{if(!e)return!1;const{from:n,to:r}=t.selection;return t.doc.rangeHasMark(n,n===r?r+1:r,e)},Uie=t=>{const{selection:e}=t;return e instanceof le?!!t.doc.textBetween(e.from,e.to):!1},Wie=t=>Boolean(pl(e=>!!e.type.spec.code)(t.selection)),Hie=(t,e)=>!Uie(t)||Wie(t)||iD(t,e),Hs=(t,e,n,r)=>({icon:t,onClick:e,isHidden:()=>i=>Hie(i.state,r),isActive:()=>i=>iD(i.state,n),canAddToDOM:()=>i=>!!n&&!!i.state.schema.marks[n.name]}),Gie=t=>{const e=t.get(ht).marks;return[Hs("bold","ToggleBold",e.strong),Hs("italic","ToggleItalic",e.em),Hs("strikeThrough","ToggleStrikeThrough",e.strike_through),Hs("code","ToggleInlineCode",e.code_inline),Hs("link","ToggleLink",e.link)]},Kie=(t,e=Gie)=>{const n=({icon:r,onClick:i,isHidden:o,isActive:s,canAddToDOM:a})=>{var l;return{$:typeof r=="function"?r(t):(l=t.get(Fe).get(pt,r))==null?void 0:l.dom,command:typeof i=="string"?()=>t.get(ve).call(i):i(t),disable:o(t),active:s(t),enable:a(t)}};return e(t).map(n)},Jie=(t,e,n)=>{t.classList.remove("hide"),lm(e,t,(r,i,o,s)=>{const a=t.parentElement;if(!a)throw En();const l=i.left-r.left;let c=r.left-s.left-(o.width-l)/2,u=r.top-s.top-o.height-14+a.scrollTop;c<0&&(c=0);const d=a.clientWidth-(o.width+4);return c>d&&(c=d),(u<a.scrollTop||n&&s.bottom-r.bottom>o.height)&&(u=r.bottom-s.top+14+a.scrollTop),[u,c]})},Yie=(t,{css:e})=>{const n=(i,o=1)=>t.get(qt,[i,o]),r=t.get(He,"lineWidth");return e`
        display: inline-flex;
        cursor: pointer;
        justify-content: space-evenly;
        position: absolute;
        border-radius: ${t.get(He,"radius")};
        z-index: 2;

        ${t.get(kt,void 0)}
        ${t.get(Xn,void 0)}

        overflow: hidden;
        background: ${n("surface")};

        .icon {
            position: relative;
            color: ${n("solid",.87)};

            width: 48px;
            line-height: 48px;
            text-align: center;
            transition: all 0.4s ease-in-out;
            &:hover {
                background-color: ${n("secondary",.12)};
            }
            &.active {
                color: ${n("primary")};
            }
            &:not(:last-child)::after {
                content: '';
                position: absolute;
                top: 0;
                right: calc(-0.5 * ${r});
                width: ${r};
                bottom: 0;
                background: ${n("line")};
            }
        }
        &.hide,
        .hide {
            display: none;
        }
    `},Xie=(t,e,n)=>{const r=document.createElement("div");return e.themeManager.onFlush(()=>{const i=e.getStyle(o=>Yie(e.themeManager,o))||"";i&&r.classList.add(i)}),r.classList.add(e.getClassName({},n)),{dom:r,render:i=>{var o;t.filter(s=>s.enable(i)&&s.$!=null).forEach(({$:s})=>r.appendChild(s)),(o=i.dom.parentNode)==null||o.appendChild(r)}}},Qie=(t,e)=>Object.values(t).filter(n=>n.enable(e)&&n.$!=null).every(({$:n})=>n.classList.contains("hide")),Zie=(t,e)=>(t.filter(n=>n.enable(e)&&n.$!=null).forEach(n=>{var r;if((r=n.disable)!=null&&r.call(n,e)){n.$.classList.add("hide");return}if(n.$.classList.remove("hide"),n.active(e)){n.$.classList.add("active");return}n.$.classList.remove("active")}),Qie(t,e)),$b=(t,e,n,r)=>{const{dom:i,render:o}=Xie(t,e,r),s=l=>{const c=t.find(({$:u})=>l.target instanceof Element&&u.contains(l.target));!c||(l.stopPropagation(),l.preventDefault(),c.command())},a=()=>{i.classList.add("hide")};return i.addEventListener("mousedown",s),{destroy:()=>{i.removeEventListener("mousedown",s),i.remove()},hide:a,update:l=>{if(Zie(t,l)){a();return}Jie(i,l,n)},render:o}},eoe=(t,e,n,r)=>{let i=$b(t,e,n,r),o=!1;const s=()=>{i.hide()},a=(l,c)=>{const{state:u}=l;if(!l.editable||o){s();return}(c==null?void 0:c.doc.eq(u.doc))&&c.selection.eq(u.selection)||i.update(l)};return{recreate:l=>{i=$b(t,e,n,r),i.render(l),a(l)},update:a,destroy:()=>{i.destroy()},render:l=>{i.render(l),a(l)},setHide:l=>{o=l}}},toe=new Se("MILKDOWN_TOOLTIP"),noe=Kr((t,e)=>({id:"tooltip",prosePlugins:(n,r)=>{var i;const o=eoe(Kie(r,e==null?void 0:e.items),t,(i=e==null?void 0:e.bottom)!=null?i:!1,"tooltip");return[new De({key:toe,props:{handleClick:s=>(o.setHide(!1),o.update(s),!1),handleDOMEvents:{mousedown:()=>(o.setHide(!1),!1)}},view:s=>(o.recreate(s),{update:o.update,destroy:o.destroy})})]}})),roe=rn.create([noe()]);function oD(t){return function(e,n){let{$from:r,$to:i,node:o}=e.selection;if(o&&o.isBlock||r.depth<2||!r.sameParent(i))return!1;let s=r.node(-1);if(s.type!=t)return!1;if(r.parent.content.size==0&&r.node(-1).childCount==r.indexAfter(-1)){if(r.depth==3||r.node(-3).type!=t||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){let u=z.empty,d=r.index(-1)?1:r.index(-2)?2:3;for(let g=r.depth-d;g>=r.depth-3;g--)u=z.from(r.node(g).copy(u));let f=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;u=u.append(z.from(t.createAndFill()));let h=r.before(r.depth-(d-1)),p=e.tr.replace(h,r.after(-f),new K(u,4-d,0)),m=-1;p.doc.nodesBetween(h,p.doc.content.size,(g,b)=>{if(m>-1)return!1;g.isTextblock&&g.content.size==0&&(m=b+1)}),m>-1&&p.setSelection(ae.near(p.doc.resolve(m))),n(p.scrollIntoView())}return!0}let a=i.pos==r.end()?s.contentMatchAt(0).defaultType:null,l=e.tr.delete(r.pos,i.pos),c=a?[null,{type:a}]:void 0;return da(l.doc,r.pos,2,c)?(n&&n(l.split(r.pos,2,c).scrollIntoView()),!0):!1}}function sD(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?ioe(e,n,t,o):ooe(e,n,o):!0:!1}}function ioe(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Gt(o-1,s,o,s,new K(z.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new o1(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=zu(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return Vu(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function ooe(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,p=n.endIndex-1,m=n.startIndex;p>m;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?z.empty:z.from(i))))return!1;let d=o.pos,f=d+s.nodeSize;return r.step(new Gt(d-(a?1:0),f+(l?1:0),d+1,f-1,new K((a?z.empty:z.from(i.copy(z.empty))).append(l?z.empty:z.from(i.copy(z.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function aD(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=z.from(c?t.create():null),d=new K(z.from(t.create(null,z.from(a.type.create(null,u)))),c?3:1,0),f=o.start,h=o.end;n(e.tr.step(new Gt(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}const Lb={}.hasOwnProperty;function soe(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return co(t,"definition",r=>{const i=Ib(r.identifier);i&&!Lb.call(e,i)&&(e[i]=r)}),n;function n(r){const i=Ib(r);return i&&Lb.call(e,i)?e[i]:null}}function Ib(t){return String(t||"").toUpperCase()}function aoe(){return t=>{const e=soe(t);co(t,(n,r,i)=>{if(n.type==="definition"&&i!==null&&typeof r=="number")return i.children.splice(r,1),[Cf,r];if(n.type==="imageReference"||n.type==="linkReference"){const o=e(n.identifier);if(o&&i!==null&&typeof r=="number"){const s=n.type==="imageReference"?{type:"image",url:o.url,title:o.title,alt:n.alt}:{type:"link",url:o.url,title:o.title,children:n.children};return i.children[r]=s,[Cf,r]}}})}}const ct={HardBreak:"HardBreak",Blockquote:"Blockquote",BulletList:"BulletList",OrderedList:"OrderedList",CodeFence:"CodeFence",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",DowngradeHeading:"DowngradeHeading",Text:"Text",CodeInline:"CodeInline",Em:"Em",Bold:"Bold",NextListItem:"NextListItem",SinkListItem:"SinkListItem",LiftListItem:"LiftListItem"},Rb="code_inline",Bb=xe("ToggleInlineCode"),loe=Ls(t=>({id:Rb,schema:()=>({priority:100,code:!0,inclusive:!1,parseDOM:[{tag:"code"}],toDOM:e=>["code",{class:t.getClassName(e.attrs,"code-inline")}],parseMarkdown:{match:e=>e.type==="inlineCode",runner:(e,n,r)=>{e.openMark(r),e.addText(n.value),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name===Rb,runner:(e,n,r)=>{e.withMark(n,"inlineCode",r.text||"")}}}),commands:e=>[_e(Bb,()=>(n,r)=>{const{selection:i,tr:o}=n;if(i.empty)return!1;const{from:s,to:a}=i;return n.doc.rangeHasMark(s,a,e)?(r==null||r(o.removeMark(s,a,e)),!0):(Object.keys(n.schema.marks).filter(l=>l!==e.name).map(l=>n.schema.marks[l]).forEach(l=>{o.removeMark(s,a,l)}),r==null||r(o.addMark(s,a,e.create())),!0)})],shortcuts:{[ct.CodeInline]:Ue(Bb,"Mod-e")}})),hh="em",Pb=xe("ToggleItalic"),coe=Ls(t=>({id:hh,schema:()=>({inclusive:!1,parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>e==="italic"}],toDOM:e=>["em",{class:t.getClassName(e.attrs,hh)}],parseMarkdown:{match:e=>e.type==="emphasis",runner:(e,n,r)=>{e.openMark(r),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name===hh,runner:(e,n)=>{e.withMark(n,"emphasis")}}}),commands:e=>[_e(Pb,()=>ed(e))],shortcuts:{[ct.Em]:Ue(Pb,"Mod-i")}})),uoe=new Se("MILKDOWN_LINK_INPUT"),doe=xe("ToggleLink"),jb=xe("ModifyLink"),Hl="link",hoe=Ls((t,e)=>({id:Hl,schema:()=>({attrs:{href:{},title:{default:null}},parseDOM:[{tag:"a[href]",getAttrs:n=>{if(!(n instanceof HTMLElement))throw Ht(n);return{href:n.getAttribute("href"),title:n.getAttribute("title")}}}],toDOM:n=>["a",{...n.attrs,class:t.getClassName(n.attrs,Hl)}],parseMarkdown:{match:n=>n.type==="link",runner:(n,r,i)=>{const o=r.url,s=r.title;n.openMark(i,{href:o,title:s}),n.next(r.children),n.closeMark(i)}},toMarkdown:{match:n=>n.type.name===Hl,runner:(n,r)=>{n.withMark(r,"link",void 0,{title:r.attrs.title,url:r.attrs.href})}}}),commands:n=>[_e(doe,(r="")=>ed(n,{href:r})),_e(jb,(r="")=>(i,o)=>{var s;if(!o)return!1;const{marks:a}=i.schema;let l,c=-1;const{selection:u}=i,{from:d,to:f}=u;if(i.doc.nodesBetween(d,d===f?f+1:f,(_,w)=>{var x;if((x=a.link)!=null&&x.isInSet(_.marks))return l=_,c=w,!1}),!l)return!1;const h=l.marks.find(({type:_})=>_===n);if(!h)return!1;const p=c,m=c+l.nodeSize,{tr:g}=i,b=(s=a.link)==null?void 0:s.create({...h.attrs,href:r});return b?(o(g.removeMark(p,m,h).addMark(p,m,b).setSelection(new le(g.selection.$anchor)).scrollIntoView()),!0):!1})],prosePlugins:(n,r)=>{let i=!1;return[new De({key:uoe,view:o=>{var s,a,l;const c=t.themeManager.get("input-chip",{placeholder:(a=(s=e==null?void 0:e.input)==null?void 0:s.placeholder)!=null?a:"Input Web Link",buttonText:(l=e==null?void 0:e.input)==null?void 0:l.buttonText,onUpdate:h=>{r.get(ve).call(jb,h)},calculatePosition:(h,p)=>{lm(h,p,(m,g,b,_)=>{const w=h.dom.parentElement;if(!w)throw En();const x=g.left-m.left;let k=m.left-_.left-(b.width-x)/2,y=m.bottom-_.top+14+w.scrollTop;i&&(y=m.top-_.top-b.height-14+w.scrollTop),k<0&&(k=0);const D=w.clientWidth-(b.width+4);return k>D&&(k=D),[y,k]})}});if(!c)return{};const u=h=>{var p;const{selection:m,doc:g}=h.state,{from:b,to:_}=m;if(!h.hasFocus())return!1;if(m instanceof le&&_<g.content.size&&b<g.content.size&&g.rangeHasMark(b,b===_?_+1:_,n)){let w=m.empty;if(((p=e==null?void 0:e.input)==null?void 0:p.displayWhenSelected)&&!w&&g.nodesBetween(b,b===_?_+1:_,(x,k)=>{if(x.marks.some(y=>y.type===n&&b>=k&&_<=k+x.nodeSize))return w=!0,!1}),w)return i=!1,!0}if(m instanceof re){const{node:w}=m;if(w.type.name==="image"&&w.marks.findIndex(x=>x.type.name===Hl)>-1)return i=!0,!0}return!1},d=h=>{const{selection:p}=h.state;let m;const{from:g,to:b}=p;if(h.state.doc.nodesBetween(g,g===b?b+1:b,w=>{if(n.isInSet(w.marks))return m=w,!1}),!m)return;const _=m.marks.find(w=>w.type===n);return _?_.attrs.href:void 0},f=h=>{!h.editable||(u(h)?(c.show(h),c.update(d(h))):c.hide())};return c.init(o),f(o),{update:(h,p)=>{(p==null?void 0:p.doc.eq(h.state.doc))&&p.selection.eq(h.state.selection)||requestAnimationFrame(()=>{f(h)})},destroy:()=>{c.destroy()}}}})]}})),fh="strong",zb=xe("ToggleBold"),foe=Ls(t=>({id:fh,schema:()=>({inclusive:!1,parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:e=>e==="bold"}],toDOM:e=>["strong",{class:t.getClassName(e.attrs,fh)}],parseMarkdown:{match:e=>e.type==="strong",runner:(e,n,r)=>{e.openMark(r),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name===fh,runner:(e,n)=>{e.withMark(n,"strong")}}}),commands:e=>[_e(zb,()=>ed(e))],shortcuts:{[ct.Bold]:Ue(zb,"Mod-b")}})),poe=[loe(),coe(),foe(),hoe()],Gl="blockquote",Vb=xe("WrapInBlockquote"),moe=Ct(t=>({id:Gl,schema:()=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:e=>["blockquote",{class:t.getClassName(e.attrs,Gl)},0],parseMarkdown:{match:({type:e})=>e===Gl,runner:(e,n,r)=>{e.openNode(r).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name===Gl,runner:(e,n)=>{e.openNode("blockquote").next(n.content).closeNode()}}}),inputRules:e=>[Ns(/^\s*>\s$/,e)],commands:e=>[_e(Vb,()=>br(e))],shortcuts:{[ct.Blockquote]:Ue(Vb,"Mod-Shift-b")}})),qb=xe("WrapInBulletList"),goe=Ct(t=>{const e="bullet_list";return{id:e,schema:()=>({content:"listItem+",group:"block",attrs:{spread:{default:!1}},parseDOM:[{tag:"ul",getAttrs:n=>{if(!(n instanceof HTMLElement))throw Ht(n);return{spread:n.dataset.spread}}}],toDOM:n=>["ul",{"data-spread":n.attrs.spread,class:t.getClassName(n.attrs,"bullet-list")},0],parseMarkdown:{match:({type:n,ordered:r})=>n==="list"&&!r,runner:(n,r,i)=>{const o=r.spread!=null?`${r.spread}`:"false";n.openNode(i,{spread:o}).next(r.children).closeNode()}},toMarkdown:{match:n=>n.type.name===e,runner:(n,r)=>{n.openNode("list",void 0,{ordered:!1,spread:r.attrs.spread==="true"}).next(r.content).closeNode()}}}),inputRules:n=>[Ns(/^\s*([-+*])\s$/,n)],commands:n=>[_e(qb,()=>br(n))],shortcuts:{[ct.BulletList]:Ue(qb,"Mod-Alt-8")}}}),boe=["","javascript","typescript","bash","sql","json","html","css","c","cpp","java","ruby","python","go","rust","markdown"],yoe=/^```(?<language>[a-z]*)?[\s\n]$/,woe=/^~~~(?<language>[a-z]*)?[\s\n]$/,Ub=xe("TurnIntoCodeFence"),ph="fence",Mm=Ct((t,e)=>{const n=(e==null?void 0:e.languageList)||boe;return{id:ph,schema:r=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:""},fold:{default:!0}},parseDOM:[{tag:"div.code-fence-container",preserveWhitespace:"full",getAttrs:i=>{var o;if(!(i instanceof HTMLElement))throw Ht(i);return{language:(o=i.querySelector("pre"))==null?void 0:o.dataset.language}},getContent:(i,o)=>{var s,a;if(!(i instanceof HTMLElement))throw Ht(i);const l=(a=(s=i.querySelector("pre"))==null?void 0:s.textContent)!=null?a:"";if(!l)return z.empty;const c=o.text(l);return z.from(c)}},{tag:"pre",preserveWhitespace:"full",getAttrs:i=>{if(!(i instanceof HTMLElement))throw Ht(i);return{language:i.dataset.language}}}],toDOM:i=>{const o=document.createElement("select");return n.forEach(s=>{const a=document.createElement("option");a.value=s,a.innerText=s||"--",s===i.attrs.language&&(a.selected=!0),o.appendChild(a)}),o.onchange=s=>{const a=s.target;if(!(a instanceof HTMLSelectElement))return;const l=r.get(Je);if(!l.editable){a.value=i.attrs.language;return}const{top:c,left:u}=a.getBoundingClientRect(),d=l.posAtCoords({top:c,left:u});if(!d)return;const{tr:f}=l.state;l.dispatch(f.setNodeMarkup(d.inside,void 0,{...i.attrs,language:a.value}))},["div",{class:"code-fence-container"},o,["pre",{"data-language":i.attrs.language,class:t.getClassName(i.attrs,"code-fence")},["code",{spellCheck:"false"},0]]]},parseMarkdown:{match:({type:i})=>i==="code",runner:(i,o,s)=>{const a=o.lang,l=o.value;i.openNode(s,{language:a}),l&&i.addText(l),i.closeNode()}},toMarkdown:{match:i=>i.type.name===ph,runner:(i,o)=>{var s;i.addNode("code",void 0,((s=o.content.firstChild)==null?void 0:s.text)||"",{lang:o.attrs.language})}}}),inputRules:r=>[zf(yoe,r,i=>{const[o,s]=i;if(o)return{language:s}}),zf(woe,r,i=>{const[o,s]=i;if(o)return{language:s}})],commands:r=>[_e(Ub,()=>Zo(r))],shortcuts:{[ct.CodeFence]:Ue(Ub,"Mod-Alt-c")},view:()=>(r,i,o)=>{let s=r;const a=m=>{const{tr:g}=i.state;i.dispatch(g.setNodeMarkup(o(),void 0,{fold:!0,language:m}))},l=()=>{const{tr:m}=i.state;i.dispatch(m.setNodeMarkup(o(),void 0,{...s.attrs,fold:!0}))},c=()=>{const{tr:m}=i.state;i.dispatch(m.setNodeMarkup(o(),void 0,{...s.attrs,fold:!1}))},u=t.themeManager.get("code-fence",{view:i,onBlur:l,onFocus:c,onSelectLanguage:a,editable:()=>i.editable,languageList:n});if(!u)return{};const{dom:d,contentDOM:f,onUpdate:h,onDestroy:p}=u;return h(s),{dom:d,contentDOM:f,update:m=>m.type.name!==ph?!1:(s=m,h(s),!0),destroy:p}}}}),koe=Ct(()=>({id:"doc",schema:()=>({content:"block+",parseMarkdown:{match:({type:t})=>t==="root",runner:(t,e,n)=>{t.injectRoot(e,n)}},toMarkdown:{match:t=>t.type.name==="doc",runner:(t,e)=>{t.openNode("root"),t.next(e.content)}}})})),Wb=xe("InsertHardbreak"),_oe=new Se("MILKDOWN_HARDBREAK_FILTER"),Doe=Ct((t,e)=>{var n;const r=(n=e==null?void 0:e.notIn)!=null?n:["table","fence"];return{id:"hardbreak",schema:()=>({inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:i=>["br",{class:t.getClassName(i.attrs,"hardbreak")}],parseMarkdown:{match:({type:i})=>i==="break",runner:(i,o,s)=>{i.addNode(s)}},toMarkdown:{match:i=>i.type.name==="hardbreak",runner:i=>{i.addNode("break")}}}),commands:i=>[_e(Wb,()=>(o,s)=>{var a;const{selection:l,tr:c}=o;if(l.empty){const u=l.$from.node();if(u.childCount>0&&((a=u.lastChild)==null?void 0:a.type.name)==="hardbreak")return s==null||s(c.replaceRangeWith(l.to-1,l.to,o.schema.node("paragraph")).setSelection(ae.near(c.doc.resolve(l.to))).scrollIntoView()),!0}return s==null||s(c.setMeta("hardbreak",!0).replaceSelectionWith(i.create()).scrollIntoView()),!0})],shortcuts:{[ct.HardBreak]:Ue(Wb,"Shift-Enter")},prosePlugins:i=>[new De({key:_oe,filterTransaction:(o,s)=>{const a=o.getMeta("hardbreak"),[l]=o.steps;if(a&&l){const{from:c}=l,u=s.doc.resolve(c);let d=u.depth,f=!0;for(;d>0;)r.includes(u.node(d).type.name)&&(f=!1),d--;return f}return!0}}),new De({key:new Se("MILKDOWN_HARDBREAK_MARKS"),appendTransaction:(o,s,a)=>{if(!o.length)return;const[l]=o;if(!l)return;const[c]=l.steps;if(l.getMeta("hardbreak")){if(!(c instanceof Ut))return;const{from:u}=c;return a.tr.setNodeMarkup(u,i,void 0,[])}if(c instanceof Rr){let u=a.tr;const{from:d,to:f}=c;return a.doc.nodesBetween(d,f,(h,p)=>{h.type===i&&(u=u.setNodeMarkup(p,i,void 0,[]))}),u}}})]}}),Hb=Array(6).fill(0).map((t,e)=>e+1),Pi=xe("TurnIntoHeading"),Gb=xe("DowngradeHeading"),mh=new Se("MILKDOWN_HEADING_ID"),xoe=new Se("MILKDOWN_HEADING_HASH"),Coe=t=>t.textContent.replace(/[\p{P}\p{S}]/gu,"").replace(/\s/g,"-").toLowerCase().trim(),voe=(t,e,n)=>{let r=!1;const i=(o,s)=>{const a=o.tr.setMeta("addToHistory",!1);let l=!1;o.doc.descendants((c,u)=>{if(c.type===e&&!r){if(c.textContent.trim().length===0)return;const d=c.attrs,f=n(c);d.id!==f&&(l=!0,a.setMeta(mh,!0).setNodeMarkup(u,void 0,{...d,id:f}))}}),l&&s(a)};return new De({key:mh,props:{handleDOMEvents:{compositionstart:()=>(r=!0,!1),compositionend:()=>{r=!1;const o=t.get(Je);return setTimeout(()=>{i(o.state,s=>o.dispatch(s))},0),!1}}},appendTransaction:(o,s,a)=>{let l=null;return o.every(c=>!c.getMeta(mh))&&o.some(c=>c.docChanged)&&i(a,c=>{l=c}),l},view:o=>{const s=o.state.doc;let a=o.state.tr.setMeta("addToHistory",!1);return s.descendants((l,c)=>{l.type.name==="heading"&&l.attrs.level&&(l.attrs.id||(a=a.setNodeMarkup(c,void 0,{...l.attrs,id:n(l)})))}),o.dispatch(a),{}}})},Soe=(t,e,n)=>new De({key:xoe,state:{init:()=>Te.empty,apply:r=>{var i;const o=t.get(Je);if(!((i=o.hasFocus)!=null&&i.call(o))||!o.editable)return Te.empty;const{$from:s}=r.selection,a=s.node();if(a.type!==e)return Te.empty;const l=a.attrs.level,c=f=>Array(f).fill(0).map(h=>"#").join(""),u=document.createElement("span");u.textContent=c(l),u.contentEditable="false",n.themeManager.onFlush(()=>{const f=n.getStyle(({css:h})=>{const p=er(n.themeManager);return h`
                            margin-right: 4px;
                            color: ${p("primary")};
                        `});f&&(u.className=f)});const d=tt.widget(s.before()+1,u,{side:-1});return Te.create(r.doc,[d])}},props:{handleDOMEvents:{focus:r=>{const i=cm(r.state.tr);return r.dispatch(i),!1}},decorations(r){return this.getState(r)}}}),Eoe=Ct((t,e)=>{var n,r;const i="heading",o=(n=e==null?void 0:e.getId)!=null?n:Coe,s=(r=e==null?void 0:e.displayHashtag)!=null?r:!0;return{id:i,schema:()=>({content:"inline*",group:"block",defining:!0,attrs:{id:{default:""},level:{default:1}},parseDOM:Hb.map(a=>({tag:`h${a}`,getAttrs:l=>{if(!(l instanceof HTMLElement))throw Ht(l);return{level:a,id:l.id}}})),toDOM:a=>[`h${a.attrs.level}`,{id:a.attrs.id||o(a),class:t.getClassName(a.attrs,`heading h${a.attrs.level}`)},0],parseMarkdown:{match:({type:a})=>a===i,runner:(a,l,c)=>{const u=l.depth;a.openNode(c,{level:u}),a.next(l.children),a.closeNode()}},toMarkdown:{match:a=>a.type.name===i,runner:(a,l)=>{var c;if(a.openNode("heading",void 0,{depth:l.attrs.level}),l.childCount>=1&&((c=l.lastChild)==null?void 0:c.type.name)==="hardbreak"){const u=[];l.content.forEach((d,f,h)=>{h!==l.childCount-1&&u.push(d)}),a.next(z.fromArray(u))}else a.next(l.content);a.closeNode()}}}),inputRules:(a,l)=>Hb.map(c=>zf(new RegExp(`^(#{1,${c}})\\s$`),a,()=>{const u=l.get(Je),{$from:d}=u.state.selection,f=d.node();if(f.type.name==="heading"){let h=Number(f.attrs.level)+Number(c);return h>6&&(h=6),{level:h}}return{level:c}})),commands:(a,l)=>[_e(Pi,(c=1)=>c<1?Zo(c===0&&l.get(ht).nodes.paragraph||a):Zo(c===0&&l.get(ht).nodes.paragraph||a,{level:c})),_e(Gb,()=>(c,u,d)=>{const{$from:f}=c.selection,h=f.node();if(h.type!==a||!c.selection.empty||f.parentOffset!==0)return!1;const p=h.attrs.level-1;return p?(u==null||u(c.tr.setNodeMarkup(c.selection.$from.before(),void 0,{...h.attrs,level:p})),!0):Zo(l.get(ht).nodes.paragraph||a)(c,u,d)})],shortcuts:{[ct.H1]:Ue(Pi,"Mod-Alt-1",1),[ct.H2]:Ue(Pi,"Mod-Alt-2",2),[ct.H3]:Ue(Pi,"Mod-Alt-3",3),[ct.H4]:Ue(Pi,"Mod-Alt-4",4),[ct.H5]:Ue(Pi,"Mod-Alt-5",5),[ct.H6]:Ue(Pi,"Mod-Alt-6",6),[ct.DowngradeHeading]:Ue(Gb,["Backspace","Delete"])},prosePlugins:(a,l)=>{const c=[voe(l,a,o)];return s&&c.push(Soe(l,a,t)),c}}}),gh="hr",Aoe=xe("InsertHr"),Foe=Ct(t=>({id:gh,schema:()=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:e=>["hr",{class:t.getClassName(e.attrs,gh)}],parseMarkdown:{match:({type:e})=>e==="thematicBreak",runner:(e,n,r)=>{e.addNode(r)}},toMarkdown:{match:e=>e.type.name===gh,runner:e=>{e.addNode("thematicBreak")}}}),inputRules:e=>[new gn(/^(?:---|___\s|\*\*\*\s)$/,(n,r,i,o)=>{const{tr:s}=n;return r[0]&&s.replaceWith(i-1,o,e.create()),s})],commands:(e,n)=>[_e(Aoe,()=>(r,i)=>{if(!i)return!0;const o=n.get(ht).node("paragraph"),{tr:s,selection:a}=r,{from:l}=a,c=e.create();if(!c)return!0;const u=s.replaceSelectionWith(c).insert(l,o),d=ae.findFrom(u.doc.resolve(l),1,!0);return d&&i(u.setSelection(d).scrollIntoView()),!0})]})),Kb=xe("ModifyImage"),Toe=xe("InsertImage"),Kl="image",Moe=new Se("MILKDOWN_IMAGE_INPUT"),Ooe=Ct((t,e)=>({id:"image",schema:()=>({inline:!0,group:"inline",selectable:!0,draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:""},alt:{default:""},title:{default:""}},parseDOM:[{tag:"img[src]",getAttrs:n=>{if(!(n instanceof HTMLElement))throw Ht(n);return{src:n.getAttribute("src")||"",alt:n.getAttribute("alt")||"",title:n.getAttribute("title")||n.getAttribute("alt")||""}}}],toDOM:n=>["img",{...n.attrs,class:t.getClassName(n.attrs,Kl)}],parseMarkdown:{match:({type:n})=>n===Kl,runner:(n,r,i)=>{const o=r.url,s=r.alt,a=r.title;n.addNode(i,{src:o,alt:s,title:a})}},toMarkdown:{match:n=>n.type.name===Kl,runner:(n,r)=>{n.addNode("image",void 0,void 0,{title:r.attrs.title,url:r.attrs.src,alt:r.attrs.alt})}}}),commands:n=>[_e(Toe,(r="")=>(i,o)=>{if(!o)return!0;const{tr:s}=i,a=n.create({src:r});if(!a)return!0;const l=s.replaceSelectionWith(a);return o(l.scrollIntoView()),!0}),_e(Kb,(r="")=>(i,o)=>{const s=jr(i.selection,n);if(!s)return!1;const{tr:a}=i;return o==null||o(a.setNodeMarkup(s.pos,void 0,{...s.node.attrs,loading:!0,src:r}).scrollIntoView()),!0})],inputRules:n=>[new gn(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,(r,i,o,s)=>{const[a,l,c="",u]=i,{tr:d}=r;return a&&d.replaceWith(o,s,n.create({src:c,alt:l,title:u})),d})],view:()=>n=>{var r,i;let o=n;const s=(r=e==null?void 0:e.placeholder)!=null?r:"Add an Image",a=(i=e==null?void 0:e.isBlock)!=null?i:!1,l=t.themeManager.get("image",{placeholder:s,isBlock:a});if(!l)return{};const{dom:c,onUpdate:u}=l;return u(o),{dom:c,update:d=>d.type.name!==Kl?!1:(o=d,u(o),!0),selectNode:()=>{c.classList.add("ProseMirror-selectednode")},deselectNode:()=>{c.classList.remove("ProseMirror-selectednode")}}},prosePlugins:(n,r)=>[new De({key:Moe,view:i=>{var o,s,a;const l=t.themeManager.get("input-chip",{placeholder:(s=(o=e==null?void 0:e.input)==null?void 0:o.placeholder)!=null?s:"Input Image Link",buttonText:(a=e==null?void 0:e.input)==null?void 0:a.buttonText,onUpdate:f=>{r.get(ve).call(Kb,f)}});if(!l)return{};const c=f=>Boolean(f.hasFocus()&&n&&jr(f.state.selection,n)),u=f=>{const h=jr(f.state.selection,n);return h?h.node.attrs.src:void 0},d=f=>{!f.editable||(c(f)?(l.show(f),l.update(u(f))):l.hide())};return l.init(i),d(i),{update:(f,h)=>{(h==null?void 0:h.doc.eq(f.state.doc))&&h.selection.eq(f.state.selection)||d(f)},destroy:()=>{l.destroy()}}}})]})),Jb="list_item",Yb=xe("SplitListItem"),Xb=xe("SinkListItem"),Qb=xe("LiftListItem"),Noe=new Se("MILKDOWN_KEEP_LIST_ORDER"),$oe=t=>{const e=(n,r)=>{const i=Lo("ordered_list",n.schema);let o=n.tr;n.doc.descendants((s,a,l,c)=>{if(s.type===t&&(l==null?void 0:l.type)===i){let u=!1;const d={...s.attrs};s.attrs.listType!=="ordered"&&(d.listType="ordered",u=!0);const f=l==null?void 0:l.maybeChild(0);f&&f.type===t&&f.attrs.listType==="ordered"&&(d.label=`${c+1}.`,u=!0),s.attrs.label==="\u2022"&&(d.label=`${c+1}.`,u=!0),u&&(o=o.setNodeMarkup(a,void 0,d))}}),r(o)};return new De({key:Noe,appendTransaction:(n,r,i)=>{let o=null;return n.some(s=>s.docChanged)&&e(i,s=>{o=s}),o}})},Loe=Ct(t=>({id:Jb,schema:()=>({group:"listItem",content:"paragraph block*",attrs:{label:{default:"\u2022"},listType:{default:"bullet"},spread:{default:"true"}},defining:!0,parseDOM:[{tag:"li.list-item",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Ht(e);return{label:e.dataset.label,listType:e.dataset["list-type"],spread:e.dataset.spread}},contentElement:e=>{if(!(e instanceof HTMLElement))throw Ht(e);return e.querySelector(".list-item_body")||e}},{tag:"li"}],toDOM:e=>["li",{class:t.getClassName(e.attrs,"list-item"),"data-label":e.attrs.label,"data-list-type":e.attrs.listType,"data-spread":e.attrs.spread},["div",{class:t.getClassName(e.attrs,"list-item_label")},e.attrs.label],["div",{class:t.getClassName(e.attrs,"list-item_body")},0]],parseMarkdown:{match:({type:e,checked:n})=>e==="listItem"&&n===null,runner:(e,n,r)=>{const i=n.label!=null?`${n.label}.`:"\u2022",o=n.label!=null?"ordered":"bullet",s=n.spread!=null?`${n.spread}`:"true";e.openNode(r,{label:i,listType:o,spread:s}),e.next(n.children),e.closeNode()}},toMarkdown:{match:e=>e.type.name===Jb,runner:(e,n)=>{e.openNode("listItem",void 0,{spread:n.attrs.spread==="true"}),e.next(n.content),e.closeNode()}}}),inputRules:e=>[Ns(/^\s*([-+*])\s$/,e)],commands:e=>[_e(Yb,()=>oD(e)),_e(Xb,()=>aD(e)),_e(Qb,()=>sD(e))],shortcuts:{[ct.NextListItem]:Ue(Yb,"Enter"),[ct.SinkListItem]:Ue(Xb,"Mod-]"),[ct.LiftListItem]:Ue(Qb,"Mod-[")},prosePlugins:e=>[$oe(e)]})),Zb=xe("WrapInOrderedList"),ey="ordered_list",Ioe=Ct(t=>({id:ey,schema:()=>({content:"listItem+",group:"block",attrs:{order:{default:1},spread:{default:!1}},parseDOM:[{tag:"ol",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Ht(e);return{spread:e.dataset.spread,order:e.hasAttribute("start")?Number(e.getAttribute("start")):1}}}],toDOM:e=>["ol",{...e.attrs.order===1?{}:e.attrs.order,"data-spread":e.attrs.spread,class:t.getClassName(e.attrs,"ordered-list")},0],parseMarkdown:{match:({type:e,ordered:n})=>e==="list"&&!!n,runner:(e,n,r)=>{const i=n.spread!=null?`${n.spread}`:"true";e.openNode(r,{spread:i}).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name===ey,runner:(e,n)=>{e.openNode("list",void 0,{ordered:!0,start:1,spread:n.attrs.spread==="true"}),e.next(n.content),e.closeNode()}}}),inputRules:e=>[Ns(/^(\d+)\.\s$/,e,n=>({order:Number(n[1])}),(n,r)=>r.childCount+r.attrs.order===Number(n[1]))],commands:e=>[_e(Zb,()=>br(e))],shortcuts:{[ct.OrderedList]:Ue(Zb,"Mod-Alt-7")}})),ty=xe("TurnIntoText"),ny="paragraph",Roe=Ct(t=>({id:ny,schema:()=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:e=>["p",{class:t.getClassName(e.attrs,ny)},0],parseMarkdown:{match:e=>e.type==="paragraph",runner:(e,n,r)=>{e.openNode(r),n.children?e.next(n.children):e.addText(n.value),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="paragraph",runner:(e,n)=>{var r;if(e.openNode("paragraph"),n.childCount>=1&&((r=n.lastChild)==null?void 0:r.type.name)==="hardbreak"){const i=[];n.content.forEach((o,s,a)=>{a!==n.childCount-1&&i.push(o)}),e.next(z.fromArray(i))}else e.next(n.content);e.closeNode()}}}),commands:e=>[_e(ty,()=>Zo(e))],shortcuts:{[ct.Text]:Ue(ty,"Mod-Alt-0")}})),Boe=Ct(()=>({id:"text",schema:()=>({group:"inline",parseMarkdown:{match:({type:t})=>t==="text",runner:(t,e)=>{t.addText(e.value)}},toMarkdown:{match:t=>t.type.name==="text",runner:(t,e)=>{t.addNode("text",void 0,e.text)}}})})),Poe=[koe(),Roe(),Doe(),moe(),Mm(),goe(),Ioe(),Loe(),Eoe(),Foe(),Ooe(),Boe()],joe=()=>{function t(e){co(e,"list",n=>{var r;if(n.ordered){const i=(r=n.start)!=null?r:1;n.children.forEach((o,s)=>{o.label=s+i})}})}return t},zoe=t=>!!t.children,Voe=t=>t.type==="html";function qoe(t,e){return n(t,0,null)[0];function n(r,i,o){if(zoe(r)){const s=[];for(let a=0,l=r.children.length;a<l;a++){const c=r.children[a];if(c){const u=n(c,a,r);if(u)for(let d=0,f=u.length;d<f;d++){const h=u[d];h&&s.push(h)}}}r.children=s}return e(r,i,o)}}const Uoe=()=>{function t(e){qoe(e,n=>Voe(n)?[]:[n])}return t},Woe=new Se("MILKDOWN_INLINE_NODES_CURSOR"),Hoe=()=>{let t=!1;const e=new De({key:Woe,state:{init(){return!1},apply(n){if(!n.selection.empty)return!1;const r=n.selection.$from,i=r.nodeBefore,o=r.nodeAfter;return!!(i&&o&&i.isInline&&!i.isText&&o.isInline&&!o.isText)}},props:{handleDOMEvents:{compositionend:(n,r)=>t?(t=!1,requestAnimationFrame(()=>{if(e.getState(n.state)){const i=n.state.selection.from;r.preventDefault(),n.dispatch(n.state.tr.insertText(r.data||"",i))}}),!0):!1,compositionstart:n=>(e.getState(n.state)&&(t=!0),!1),beforeinput:(n,r)=>{if(e.getState(n.state)&&r instanceof InputEvent&&r.data&&!t){const i=n.state.selection.from;return r.preventDefault(),n.dispatch(n.state.tr.insertText(r.data||"",i)),!0}return!1}},decorations(n){if(e.getState(n)){const r=n.selection.$from.pos,i=document.createElement("span"),o=tt.widget(r,i,{side:-1}),s=document.createElement("span"),a=tt.widget(r,s);return setTimeout(()=>{i.contentEditable="true",s.contentEditable="true"}),Te.create(n.doc,[o,a])}return Te.empty}}});return e},bh=/\[(?<span>((www|https:\/\/|http:\/\/)[^\s\]]+))]\((?<url>[^\s\]]+)\)/,Goe=t=>new RegExp(`\\\\(?=[^\\w\\s${t}\\\\]|_)`,"g"),Koe=t=>{let e=t,n=e.match(bh);for(;n&&n.groups;){const{span:r}=n.groups;e=e.replace(bh,r),n=e.match(bh)}return e},Joe=(t,e,n)=>{const r=t.split(""),i=r[e];return r[e]&&r[n]&&(r[e]=r[n],r[n]=i),r.join("").toString()},Yoe=t=>e=>e.replace(Goe(t),""),Xoe=t=>e=>{const n=e.indexOf(t.hole),r=e.charAt(n-1),i=e.charAt(n+1),o=/[^\w]|_/;return i?r&&o.test(r)&&o.test(i)?t.punctuation:t.char:t.punctuation},Qoe=(t,e,n)=>{let r=e,i=!1;return t.descendants(o=>{var s;if(i)return!1;if(o.isText){const a=(s=o.text)==null?void 0:s.indexOf(n);if(a!=null&&a>=0)return i=!0,r+=a,!1}r+=o.nodeSize}),r},Zoe={placeholderConfig:{hole:"\u2205",punctuation:"\u2042",char:"\u2234"},globalNodes:["footnote_definition"],shouldSyncNode:({prevNode:t,nextNode:e})=>t.inlineContent&&e&&t.type===e.type&&!t.eq(e),movePlaceholder:(t,e)=>{const n=["*","_"];let r=e.indexOf(t);for(;n.includes(e[r-1]||"")&&n.includes(e[r+1]||"");)e=Joe(e,r,r+1),r=r+1;return e}},El=ie(Zoe,"inlineSyncConfig"),ese=t=>{const{selection:e}=t,{$from:n}=e;return n.node()},tse=(t,e,n,r)=>{const i=t.get(ts),o=e.schema.topNodeType.create(void 0,[n,...r]);return i(o)},nse=(t,e)=>{const n=t.get(El),r=n.placeholderConfig.hole,[i="",...o]=e.split(`

`),s=c=>n.movePlaceholder(r,c);let a=nd(Yoe(r),s,Koe)(i);const l=Xoe(n.placeholderConfig)(a);return a=a.replace(r,l),a=[a,...o].join(`

`),[a,l]},rse=(t,e)=>{const n=t.get(wi)(e);return n?n.firstChild:null},ise=(t,e)=>{const{globalNodes:n}=t.get(El),r=[];return e.doc.descendants(i=>{if(n.includes(i.type.name)||n.includes(i.type))return r.push(i),!1}),r},ose=t=>t.split(`

`)[0]||"",lD=(t,e)=>{try{const n=ise(t,e),r=ese(e),i=tse(t,e,r,n),[o,s]=nse(t,i),a=rse(t,o);return!a||r.type!==a.type?null:(a.attrs={...r.attrs},a.descendants(l=>{var c;const u=l.marks.find(d=>d.type.name==="link");u&&((c=l.text)==null?void 0:c.includes(s))&&u.attrs.href.includes(s)&&(u.attrs.href=u.attrs.href.replace(s,""))}),{text:ose(o),prevNode:r,nextNode:a,placeholder:s})}catch{return null}},sse=(t,e,n,r,i)=>{const{placeholderConfig:o}=t.get(El),s=o.hole;let a=n.tr.setMeta(e,!0).insertText(s,n.selection.from);const l=n.apply(a),c=lD(t,l);if(!c)return;const{$from:u}=l.selection,d=u.before(),f=u.after(),h=Qoe(c.nextNode,d,c.placeholder);a=a.replaceWith(d,f,c.nextNode).setNodeMarkup(d,void 0,i).delete(h+1,h+2),a=a.setSelection(le.near(a.doc.resolve(h+1))),r(a)},yh=new Se("MILKDOWN_INLINE_SYNC"),ase=t=>{let e=null;return new De({key:yh,state:{init:()=>null,apply:(n,r,i,o)=>{var s;const a=t.get(Je);if(!((s=a.hasFocus)!=null&&s.call(a))||!a.editable||!n.docChanged||n.getMeta(yh))return null;const l=lD(t,o);if(!l)return null;e&&(cancelAnimationFrame(e),e=null);const{prevNode:c,nextNode:u,text:d}=l,{shouldSyncNode:f}=t.get(El);return f({prevNode:c,nextNode:u,ctx:t,tr:n,text:d})&&(e=requestAnimationFrame(()=>{e=null;const{dispatch:h,state:p}=t.get(Je);sse(t,yh,p,h,c.attrs)})),null}}})},lse=[Kr(()=>({injectSlices:[El],prosePlugins:(t,e)=>[Hoe(),ase(e)],remarkPlugins:()=>[aoe,Uoe,joe]}))()],cse=rn.create([...Poe,...poe]),use=rn.create([...lse,...cse]),dse={tokenize:gse,partial:!0},cD={tokenize:bse,partial:!0},uD={tokenize:yse,partial:!0},rs={tokenize:kse,partial:!0},dD={tokenize:wse,partial:!0},hD={tokenize:pse,previous:mD},fD={tokenize:mse,previous:Nm},Jr={tokenize:fse,previous:gD},vr={},hse={text:vr};let ji=48;for(;ji<123;)vr[ji]=Jr,ji++,ji===58?ji=65:ji===91&&(ji=97);vr[43]=Jr;vr[45]=Jr;vr[46]=Jr;vr[95]=Jr;vr[72]=[Jr,fD];vr[104]=[Jr,fD];vr[87]=[Jr,hD];vr[119]=[Jr,hD];function fse(t,e,n){const r=this;let i,o;return s;function s(h){return!ry(h)||!gD(r.previous)||$m(r.events)?n(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(h))}function a(h){return ry(h)?(t.consume(h),a):h===64?(t.consume(h),l):n(h)}function l(h){return h===46?t.check(rs,f,c)(h):h===45||h===95?t.check(rs,n,u)(h):Wt(h)?(!o&&tu(h)&&(o=!0),t.consume(h),l):f(h)}function c(h){return t.consume(h),i=!0,o=void 0,l}function u(h){return t.consume(h),d}function d(h){return h===46?t.check(rs,n,c)(h):l(h)}function f(h){return i&&!o?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):n(h)}}function pse(t,e,n){const r=this;return i;function i(s){return s!==87&&s!==119||!mD(r.previous)||$m(r.events)?n(s):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(dse,t.attempt(cD,t.attempt(uD,o),n),n)(s))}function o(s){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(s)}}function mse(t,e,n){const r=this;return i;function i(p){return p!==72&&p!==104||!Nm(r.previous)||$m(r.events)?n(p):(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),t.consume(p),o)}function o(p){return p===84||p===116?(t.consume(p),s):n(p)}function s(p){return p===84||p===116?(t.consume(p),a):n(p)}function a(p){return p===80||p===112?(t.consume(p),l):n(p)}function l(p){return p===83||p===115?(t.consume(p),c):c(p)}function c(p){return p===58?(t.consume(p),u):n(p)}function u(p){return p===47?(t.consume(p),d):n(p)}function d(p){return p===47?(t.consume(p),f):n(p)}function f(p){return p===null||Ta(p)||Uu(p)||Wu(p)?n(p):t.attempt(cD,t.attempt(uD,h),n)(p)}function h(p){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(p)}}function gse(t,e,n){return r;function r(l){return t.consume(l),i}function i(l){return l===87||l===119?(t.consume(l),o):n(l)}function o(l){return l===87||l===119?(t.consume(l),s):n(l)}function s(l){return l===46?(t.consume(l),a):n(l)}function a(l){return l===null||X(l)?n(l):e(l)}}function bse(t,e,n){let r,i;return o;function o(l){return l===38?t.check(dD,a,s)(l):l===46||l===95?t.check(rs,a,s)(l):l===null||Ta(l)||Uu(l)||l!==45&&Wu(l)?a(l):(t.consume(l),o)}function s(l){return l===46?(i=r,r=void 0,t.consume(l),o):(l===95&&(r=!0),t.consume(l),o)}function a(l){return!i&&!r?e(l):n(l)}}function yse(t,e){let n=0;return r;function r(s){return s===38?t.check(dD,e,i)(s):(s===40&&n++,s===41?t.check(rs,o,i)(s):Om(s)?e(s):pD(s)?t.check(rs,e,i)(s):(t.consume(s),r))}function i(s){return t.consume(s),r}function o(s){return n--,n<0?e(s):i(s)}}function wse(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Yt(s)?(t.consume(s),i):s===59?(t.consume(s),o):n(s)}function o(s){return Om(s)?e(s):n(s)}}function kse(t,e,n){return r;function r(o){return t.consume(o),i}function i(o){return pD(o)?(t.consume(o),i):Om(o)?e(o):n(o)}}function pD(t){return t===33||t===34||t===39||t===41||t===42||t===44||t===46||t===58||t===59||t===60||t===63||t===95||t===126}function Om(t){return t===null||t===60||Ie(t)}function ry(t){return t===43||t===45||t===46||t===95||Wt(t)}function mD(t){return t===null||t===40||t===42||t===95||t===126||Ie(t)}function Nm(t){return t===null||!Yt(t)}function gD(t){return t!==47&&Nm(t)}function $m(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const _se={tokenize:Fse,partial:!0};function Dse(){return{document:{[91]:{tokenize:Sse,continuation:{tokenize:Ese},exit:Ase}},text:{[91]:{tokenize:vse},[93]:{add:"after",tokenize:xse,resolveTo:Cse}}}}function xse(t,e,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!s||!s._balanced)return n(l);const c=Gn(r.sliceSerialize({start:s.end,end:r.now()}));return c.charCodeAt(0)!==94||!o.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function Cse(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",o,e],["enter",s,e],["exit",s,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function vse(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,s;return a;function a(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(f){let h;return f===null||f===91||o++>999?n(f):f===93?s?(t.exit("chunkString"),h=t.exit("gfmFootnoteCallString"),i.includes(Gn(r.sliceSerialize(h)))?d(f):n(f)):n(f):(t.consume(f),Ie(f)||(s=!0),f===92?u:c)}function u(f){return f===91||f===92||f===93?(t.consume(f),o++,c):c(f)}function d(f){return t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e}}function Sse(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,s=0,a;return l;function l(m){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(m){return m===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),u):n(m)}function u(m){let g;return m===null||m===91||s>999?n(m):m===93?a?(g=t.exit("gfmFootnoteDefinitionLabelString"),o=Gn(r.sliceSerialize(g)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),h):n(m):X(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),s++,u):(t.enter("chunkString").contentType="string",d(m))}function d(m){return m===null||X(m)||m===91||m===93||s>999?(t.exit("chunkString"),u(m)):(Ie(m)||(a=!0),s++,t.consume(m),m===92?f:d)}function f(m){return m===91||m===92||m===93?(t.consume(m),s++,d):d(m)}function h(m){return m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),se(t,p,"gfmFootnoteDefinitionWhitespace")):n(m)}function p(m){return i.includes(o)||i.push(o),e(m)}}function Ese(t,e,n){return t.check(ul,e,t.attempt(_se,e,n))}function Ase(t){t.exit("gfmFootnoteDefinition")}function Fse(t,e,n){const r=this;return se(t,i,"gfmFootnoteDefinitionIndent",4+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?e(o):n(o)}}function Tse(t={}){let e=t.singleTilde;const n={tokenize:i,resolveAll:r};return e==null&&(e=!0),{text:{[126]:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(o,s){let a=-1;for(;++a<o.length;)if(o[a][0]==="enter"&&o[a][1].type==="strikethroughSequenceTemporary"&&o[a][1]._close){let l=a;for(;l--;)if(o[l][0]==="exit"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._open&&o[a][1].end.offset-o[a][1].start.offset===o[l][1].end.offset-o[l][1].start.offset){o[a][1].type="strikethroughSequence",o[l][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},o[l][1].start),end:Object.assign({},o[a][1].end)},u={type:"strikethroughText",start:Object.assign({},o[l][1].end),end:Object.assign({},o[a][1].start)},d=[["enter",c,s],["enter",o[l][1],s],["exit",o[l][1],s],["enter",u,s]];Cn(d,d.length,0,Hu(s.parser.constructs.insideSpan.null,o.slice(l+1,a),s)),Cn(d,d.length,0,[["exit",u,s],["enter",o[a][1],s],["exit",o[a][1],s],["exit",c,s]]),Cn(o,l-1,a-l+3,d),a=l+d.length-2;break}}for(a=-1;++a<o.length;)o[a][1].type==="strikethroughSequenceTemporary"&&(o[a][1].type="data");return o}function i(o,s,a){const l=this.previous,c=this.events;let u=0;return d;function d(h){return l===126&&c[c.length-1][1].type!=="characterEscape"?a(h):(o.enter("strikethroughSequenceTemporary"),f(h))}function f(h){const p=nu(l);if(h===126)return u>1?a(h):(o.consume(h),u++,f);if(u<2&&!e)return a(h);const m=o.exit("strikethroughSequenceTemporary"),g=nu(h);return m._open=!g||g===2&&Boolean(p),m._close=!p||p===2&&Boolean(g),s(h)}}}const Mse={flow:{null:{tokenize:Nse,resolve:Ose}}},iy={tokenize:$se,partial:!0};function Ose(t,e){let n=-1,r,i,o,s,a,l,c;for(;++n<t.length;){const u=t[n][1];if(o&&(u.type==="temporaryTableCellContent"&&(s=s||n,a=n),(u.type==="tableCellDivider"||u.type==="tableRow")&&a)){const d={type:"tableContent",start:t[s][1].start,end:t[a][1].end},f={type:"chunkText",start:d.start,end:d.end,contentType:"text"};t.splice(s,a-s+1,["enter",d,e],["enter",f,e],["exit",f,e],["exit",d,e]),n-=a-s-3,s=void 0,a=void 0}if(t[n][0]==="exit"&&l!==void 0&&l+(c?0:1)<n&&(u.type==="tableCellDivider"||u.type==="tableRow"&&(l+3<n||t[l][1].type!=="whitespace"))){const d={type:i?"tableDelimiter":r?"tableHeader":"tableData",start:t[l][1].start,end:t[n][1].end};t.splice(n+(u.type==="tableCellDivider"?1:0),0,["exit",d,e]),t.splice(l,0,["enter",d,e]),n+=2,l=n+1,c=!0}u.type==="tableRow"&&(o=t[n][0]==="enter",o&&(l=n+1,c=!1)),u.type==="tableDelimiterRow"&&(i=t[n][0]==="enter",i&&(l=n+1,c=!1)),u.type==="tableHead"&&(r=t[n][0]==="enter")}return t}function Nse(t,e,n){const r=this,i=[];let o=0,s,a;return l;function l($){return t.enter("table")._align=i,t.enter("tableHead"),t.enter("tableRow"),$===124?c($):(o++,t.enter("temporaryTableCellContent"),f($))}function c($){return t.enter("tableCellDivider"),t.consume($),t.exit("tableCellDivider"),s=!0,u}function u($){return $===null||X($)?p($):ye($)?(t.enter("whitespace"),t.consume($),d):(s&&(s=void 0,o++),$===124?c($):(t.enter("temporaryTableCellContent"),f($)))}function d($){return ye($)?(t.consume($),d):(t.exit("whitespace"),u($))}function f($){return $===null||$===124||Ie($)?(t.exit("temporaryTableCellContent"),u($)):(t.consume($),$===92?h:f)}function h($){return $===92||$===124?(t.consume($),f):f($)}function p($){if($===null)return n($);t.exit("tableRow"),t.exit("tableHead");const L=r.interrupt;return r.interrupt=!0,t.attempt({tokenize:Q,partial:!0},function(T){return r.interrupt=L,t.enter("tableDelimiterRow"),m(T)},function(T){return r.interrupt=L,n(T)})($)}function m($){return $===null||X($)?x($):ye($)?(t.enter("whitespace"),t.consume($),g):$===45?(t.enter("tableDelimiterFiller"),t.consume($),a=!0,i.push("none"),b):$===58?(t.enter("tableDelimiterAlignment"),t.consume($),t.exit("tableDelimiterAlignment"),i.push("left"),_):$===124?(t.enter("tableCellDivider"),t.consume($),t.exit("tableCellDivider"),m):n($)}function g($){return ye($)?(t.consume($),g):(t.exit("whitespace"),m($))}function b($){return $===45?(t.consume($),b):(t.exit("tableDelimiterFiller"),$===58?(t.enter("tableDelimiterAlignment"),t.consume($),t.exit("tableDelimiterAlignment"),i[i.length-1]=i[i.length-1]==="left"?"center":"right",w):m($))}function _($){return $===45?(t.enter("tableDelimiterFiller"),t.consume($),a=!0,b):n($)}function w($){return $===null||X($)?x($):ye($)?(t.enter("whitespace"),t.consume($),g):$===124?(t.enter("tableCellDivider"),t.consume($),t.exit("tableCellDivider"),m):n($)}function x($){return t.exit("tableDelimiterRow"),!a||o!==i.length?n($):$===null?k($):t.check(iy,k,t.attempt({tokenize:Q,partial:!0},se(t,y,"linePrefix",4),k))($)}function k($){return t.exit("table"),e($)}function y($){return t.enter("tableBody"),D($)}function D($){return t.enter("tableRow"),$===124?S($):(t.enter("temporaryTableCellContent"),E($))}function S($){return t.enter("tableCellDivider"),t.consume($),t.exit("tableCellDivider"),F}function F($){return $===null||X($)?I($):ye($)?(t.enter("whitespace"),t.consume($),O):$===124?S($):(t.enter("temporaryTableCellContent"),E($))}function O($){return ye($)?(t.consume($),O):(t.exit("whitespace"),F($))}function E($){return $===null||$===124||Ie($)?(t.exit("temporaryTableCellContent"),F($)):(t.consume($),$===92?N:E)}function N($){return $===92||$===124?(t.consume($),E):E($)}function I($){return t.exit("tableRow"),$===null?H($):t.check(iy,H,t.attempt({tokenize:Q,partial:!0},se(t,D,"linePrefix",4),H))($)}function H($){return t.exit("tableBody"),k($)}function Q($,L,T){return A;function A(v){return $.enter("lineEnding"),$.consume(v),$.exit("lineEnding"),se($,M,"linePrefix")}function M(v){if(r.parser.lazy[r.now().line]||v===null||X(v))return T(v);const C=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&C&&C[1].type==="linePrefix"&&C[2].sliceSerialize(C[1],!0).length>=4?T(v):(r._gfmTableDynamicInterruptHack=!0,$.check(r.parser.constructs.flow,function(V){return r._gfmTableDynamicInterruptHack=!1,T(V)},function(V){return r._gfmTableDynamicInterruptHack=!1,L(V)})(v))}}}function $se(t,e,n){let r=0;return i;function i(s){return t.enter("check"),t.consume(s),o}function o(s){return s===-1||s===32?(t.consume(s),r++,r===4?e:o):s===null||Ie(s)?e(s):n(s)}}const Lse={tokenize:Rse},Ise={text:{[91]:Lse}};function Rse(t,e,n){const r=this;return i;function i(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(a),t.exit("taskListCheckMarker"),o)}function o(a){return Ie(a)?(t.enter("taskListCheckValueUnchecked"),t.consume(a),t.exit("taskListCheckValueUnchecked"),s):a===88||a===120?(t.enter("taskListCheckValueChecked"),t.consume(a),t.exit("taskListCheckValueChecked"),s):n(a)}function s(a){return a===93?(t.enter("taskListCheckMarker"),t.consume(a),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),t.check({tokenize:Bse},e,n)):n(a)}}function Bse(t,e,n){const r=this;return se(t,i,"whitespace");function i(o){const s=r.events[r.events.length-1];return(s&&s[1].type==="whitespace"||X(o))&&o!==null?e(o):n(o)}}function Pse(t){return ik([hse,Dse(),Tse(t),Mse,Ise])}function oy(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function jse(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const zse={}.hasOwnProperty,Vse=function(t,e,n,r){let i,o;typeof e=="string"||e instanceof RegExp?(o=[[e,n]],i=r):(o=e,i=n),i||(i={});const s=Jp(i.ignore||[]),a=qse(o);let l=-1;for(;++l<a.length;)kk(t,"text",c);return t;function c(d,f){let h=-1,p;for(;++h<f.length;){const m=f[h];if(s(m,p?p.children.indexOf(m):void 0,p))return;p=m}if(p)return u(d,f)}function u(d,f){const h=f[f.length-1],p=a[l][0],m=a[l][1];let g=0;const b=h.children.indexOf(d);let _=!1,w=[],x;p.lastIndex=0;let k=p.exec(d.value);for(;k;){x=k.index;const y={index:k.index,input:k.input,stack:[...f,d]};let D=m(...k,y);if(typeof D=="string"&&(D=D.length>0?{type:"text",value:D}:void 0),D!==!1&&(g!==x&&w.push({type:"text",value:d.value.slice(g,x)}),Array.isArray(D)?w.push(...D):D&&w.push(D),g=x+k[0].length,_=!0),!p.global)break;k=p.exec(d.value)}return _?(g<d.value.length&&w.push({type:"text",value:d.value.slice(g)}),h.children.splice(b,1,...w)):w=[d],b+w.length}};function qse(t){const e=[];if(typeof t!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(t)){let n=-1;for(;++n<t.length;)e.push([sy(t[n][0]),ay(t[n][1])])}else{let n;for(n in t)zse.call(t,n)&&e.push([sy(n),ay(t[n])])}return e}function sy(t){return typeof t=="string"?new RegExp(jse(t),"g"):t}function ay(t){return typeof t=="function"?t:()=>t}const wh="phrasing",kh=["autolink","link","image","label"],Use={transforms:[Xse],enter:{literalAutolink:Hse,literalAutolinkEmail:_h,literalAutolinkHttp:_h,literalAutolinkWww:_h},exit:{literalAutolink:Yse,literalAutolinkEmail:Jse,literalAutolinkHttp:Gse,literalAutolinkWww:Kse}},Wse={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:wh,notInConstruct:kh},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:wh,notInConstruct:kh},{character:":",before:"[ps]",after:"\\/",inConstruct:wh,notInConstruct:kh}]};function Hse(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function _h(t){this.config.enter.autolinkProtocol.call(this,t)}function Gse(t){this.config.exit.autolinkProtocol.call(this,t)}function Kse(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.url="http://"+this.sliceSerialize(t)}function Jse(t){this.config.exit.autolinkEmail.call(this,t)}function Yse(t){this.exit(t)}function Xse(t){Vse(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Qse],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,Zse]],{ignore:["link","linkReference"]})}function Qse(t,e,n,r,i){let o="";if(!bD(i)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!eae(n)))return!1;const s=tae(n+r);if(!s[0])return!1;const a={type:"link",title:null,url:o+e+s[0],children:[{type:"text",value:e+s[0]}]};return s[1]?[a,{type:"text",value:s[1]}]:a}function Zse(t,e,n,r){return!bD(r,!0)||/[_-\d]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function eae(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function tae(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);let n,r,i,o;if(e)for(t=t.slice(0,e.index),o=e[0],n=o.indexOf(")"),r=oy(t,"("),i=oy(t,")");n!==-1&&r>i;)t+=o.slice(0,n+1),o=o.slice(n+1),n=o.indexOf(")"),i++;return[t,o]}function bD(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Uu(n)||Wu(n))&&(!e||n!==47)}function nae(){return{enter:{gfmFootnoteDefinition:t,gfmFootnoteDefinitionLabelString:e,gfmFootnoteCall:i,gfmFootnoteCallString:o},exit:{gfmFootnoteDefinition:r,gfmFootnoteDefinitionLabelString:n,gfmFootnoteCall:a,gfmFootnoteCallString:s}};function t(l){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},l)}function e(){this.buffer()}function n(l){const c=this.resume(),u=this.stack[this.stack.length-1];u.label=c,u.identifier=Gn(this.sliceSerialize(l)).toLowerCase()}function r(l){this.exit(l)}function i(l){this.enter({type:"footnoteReference",identifier:"",label:""},l)}function o(){this.buffer()}function s(l){const c=this.resume(),u=this.stack[this.stack.length-1];u.label=c,u.identifier=Gn(this.sliceSerialize(l)).toLowerCase()}function a(l){this.exit(l)}}function rae(){return t.peek=e,{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:n,footnoteReference:t}};function t(r,i,o,s){const a=_t(s);let l=a.move("[^");const c=o.enter("footnoteReference"),u=o.enter("reference");return l+=a.move(yt(o,Oa(r),{...a.current(),before:l,after:"]"})),u(),c(),l+=a.move("]"),l}function e(){return"["}function n(r,i,o,s){const a=_t(s);let l=a.move("[^");const c=o.enter("footnoteDefinition"),u=o.enter("label");return l+=a.move(yt(o,Oa(r),{...a.current(),before:l,after:"]"})),u(),l+=a.move("]:"+(r.children&&r.children.length>0?" ":"")),a.shift(4),l+=a.move(Gu(dl(r,o,a.current()),d)),c(),l;function d(f,h,p){return h?(p?"":"    ")+f:f}}}const iae={canContainEols:["delete"],enter:{strikethrough:aae},exit:{strikethrough:lae}},oae=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],sae={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:oae}],handlers:{delete:yD}};yD.peek=cae;function aae(t){this.enter({type:"delete",children:[]},t)}function lae(t){this.exit(t)}function yD(t,e,n,r){const i=_t(r),o=n.enter("emphasis");let s=i.move("~~");return s+=_r(t,n,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),o(),s}function cae(){return"~"}function uae(t,e={}){const n=(e.align||[]).concat(),r=e.stringLength||hae,i=[],o=[],s=[],a=[];let l=0,c=-1;for(;++c<t.length;){const p=[],m=[];let g=-1;for(t[c].length>l&&(l=t[c].length);++g<t[c].length;){const b=dae(t[c][g]);if(e.alignDelimiters!==!1){const _=r(b);m[g]=_,(a[g]===void 0||_>a[g])&&(a[g]=_)}p.push(b)}o[c]=p,s[c]=m}let u=-1;if(typeof n=="object"&&"length"in n)for(;++u<l;)i[u]=ly(n[u]);else{const p=ly(n);for(;++u<l;)i[u]=p}u=-1;const d=[],f=[];for(;++u<l;){const p=i[u];let m="",g="";p===99?(m=":",g=":"):p===108?m=":":p===114&&(g=":");let b=e.alignDelimiters===!1?1:Math.max(1,a[u]-m.length-g.length);const _=m+"-".repeat(b)+g;e.alignDelimiters!==!1&&(b=m.length+b+g.length,b>a[u]&&(a[u]=b),f[u]=b),d[u]=_}o.splice(1,0,d),s.splice(1,0,f),c=-1;const h=[];for(;++c<o.length;){const p=o[c],m=s[c];u=-1;const g=[];for(;++u<l;){const b=p[u]||"";let _="",w="";if(e.alignDelimiters!==!1){const x=a[u]-(m[u]||0),k=i[u];k===114?_=" ".repeat(x):k===99?x%2?(_=" ".repeat(x/2+.5),w=" ".repeat(x/2-.5)):(_=" ".repeat(x/2),w=_):w=" ".repeat(x)}e.delimiterStart!==!1&&!u&&g.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&b==="")&&(e.delimiterStart!==!1||u)&&g.push(" "),e.alignDelimiters!==!1&&g.push(_),g.push(b),e.alignDelimiters!==!1&&g.push(w),e.padding!==!1&&g.push(" "),(e.delimiterEnd!==!1||u!==l-1)&&g.push("|")}h.push(e.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return h.join(`
`)}function dae(t){return t==null?"":String(t)}function hae(t){return t.length}function ly(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const fae={enter:{table:pae,tableData:cy,tableHeader:cy,tableRow:gae},exit:{codeText:bae,table:mae,tableData:Dh,tableHeader:Dh,tableRow:Dh}};function pae(t){const e=t._align;this.enter({type:"table",align:e.map(n=>n==="none"?null:n),children:[]},t),this.setData("inTable",!0)}function mae(t){this.exit(t),this.setData("inTable")}function gae(t){this.enter({type:"tableRow",children:[]},t)}function Dh(t){this.exit(t)}function cy(t){this.enter({type:"tableCell",children:[]},t)}function bae(t){let e=this.resume();this.getData("inTable")&&(e=e.replace(/\\([\\|])/g,yae));const n=this.stack[this.stack.length-1];n.value=e,this.exit(t)}function yae(t,e){return e==="|"?e:t}function wae(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:s,tableRow:a,tableCell:l,inlineCode:f}};function s(h,p,m,g){return c(u(h,m,g),h.align)}function a(h,p,m,g){const b=d(h,m,g),_=c([b]);return _.slice(0,_.indexOf(`
`))}function l(h,p,m,g){const b=m.enter("tableCell"),_=m.enter("phrasing"),w=_r(h,m,{...g,before:o,after:o});return _(),b(),w}function c(h,p){return uae(h,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function u(h,p,m){const g=h.children;let b=-1;const _=[],w=p.enter("table");for(;++b<g.length;)_[b]=d(g[b],p,m);return w(),_}function d(h,p,m){const g=h.children;let b=-1;const _=[],w=p.enter("tableRow");for(;++b<g.length;)_[b]=l(g[b],h,p,m);return w(),_}function f(h,p,m){let g=Yp(h,p,m);return m.stack.includes("tableCell")&&(g=g.replace(/\|/g,"\\$&")),g}}const kae={exit:{taskListCheckValueChecked:uy,taskListCheckValueUnchecked:uy,paragraph:Dae}},_ae={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:xae}};function uy(t){const e=this.stack[this.stack.length-2];e.checked=t.type==="taskListCheckValueChecked"}function Dae(t){const e=this.stack[this.stack.length-2],n=this.stack[this.stack.length-1],r=e.children,i=n.children[0];let o=-1,s;if(e&&e.type==="listItem"&&typeof e.checked=="boolean"&&i&&i.type==="text"){for(;++o<r.length;){const a=r[o];if(a.type==="paragraph"){s=a;break}}s===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}this.exit(t)}function xae(t,e,n,r){const i=t.children[0],o=typeof t.checked=="boolean"&&i&&i.type==="paragraph",s="["+(t.checked?"x":" ")+"] ",a=_t(r);o&&a.move(s);let l=Tk(t,e,n,{...r,...a.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+s}}function Cae(){return[Use,nae(),iae,fae,kae]}function vae(t){return{extensions:[Wse,rae(),sae,wae(t),_ae]}}function Sae(t={}){const e=this.data();n("micromarkExtensions",Pse(t)),n("fromMarkdownExtensions",Cae()),n("toMarkdownExtensions",vae(t));function n(r,i){(e[r]?e[r]:e[r]=[]).push(i)}}var Eae=Object.defineProperty,Aae=(t,e,n)=>e in t?Eae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hi=(t,e,n)=>(Aae(t,typeof e!="symbol"?e+"":e,n),n);const wD=t=>`footnote-ref-${t}`,kD=t=>`footnote-def-${t}`,Fae=new Se("MILKDOWN_FOOTNOTE_DEF_INPUT"),dy=xe("ModifyFootnoteDef"),Tae=Ct(t=>{const e="footnote_definition",n="footnoteDefinition";return{id:e,schema:r=>({group:"block",content:"block+",defining:!0,attrs:{label:{default:""}},parseDOM:[{tag:`div[data-type="${e}"]`,getAttrs:i=>{if(!(i instanceof HTMLElement))throw Ht(i);return{label:i.dataset.label}},contentElement:"dd"}],toDOM:i=>{const o=i.attrs.label,s=t.getClassName(i.attrs,"footnote-definition"),a=document.createElement("dt");a.textContent=`[${o}]:`,a.onclick=()=>{const c=r.get(Je),u=re.create(c.state.doc,c.state.selection.from-2);c.dispatch(c.state.tr.setSelection(u))};const l=document.createElement("a");return l.href=`#${wD(o)}`,l.contentEditable="false",l.textContent="\u21A9",l.onmousedown=c=>{c.preventDefault()},["div",{class:s,"data-label":o,"data-type":e,id:kD(o)},["div",{class:"footnote-definition_content"},a,["dd",0]],["div",{class:"footnote-definition_anchor"},l]]},parseMarkdown:{match:({type:i})=>i===n,runner:(i,o,s)=>{i.openNode(s,{label:o.label}).next(o.children).closeNode()}},toMarkdown:{match:i=>i.type.name===e,runner:(i,o)=>{i.openNode(n,void 0,{label:o.attrs.label,identifier:o.attrs.label}).next(o.content).closeNode()}}}),commands:r=>[_e(dy,(i="")=>(o,s)=>{const a=jr(o.selection,r);if(!a)return!1;const{tr:l}=o,c=l.setNodeMarkup(a.pos,void 0,{...a.node.attrs,label:i});return s==null||s(c.setSelection(re.create(c.doc,a.pos))),!0})],inputRules:r=>[Ns(/(?:\[\^)([^:]+)(?::)$/,r,i=>{var o;return{label:(o=i[1])!=null?o:"footnote"}},()=>!1)],prosePlugins:(r,i)=>[new De({key:Fae,view:o=>{const s=t.themeManager.get("input-chip",{width:"12em",placeholder:"Input Footnote Label",onUpdate:u=>{i.get(ve).call(dy,u)},isBindMode:!0});if(!s)return{};const a=u=>Boolean(r&&jr(u.state.selection,r)),l=u=>{const d=jr(u.state.selection,r);return d?d.node.attrs.label:void 0},c=u=>{!u.editable||(a(u)?(s.show(u),s.update(l(u))):s.hide())};return s.init(o),c(o),{update:(u,d)=>{(d==null?void 0:d.doc.eq(u.state.doc))&&d.selection.eq(u.state.selection)||c(u)},destroy:()=>{s.destroy()}}}})]}}),hy=xe("ModifyFootnoteRef"),Mae=new Se("MILKDOWN_FOOTNOTE_REF_INPUT"),Oae=Ct(t=>{const e="footnote_reference";return{id:e,schema:n=>({group:"inline",inline:!0,atom:!0,attrs:{label:{default:""}},parseDOM:[{tag:`sup[data-type="${e}"]`,getAttrs:r=>{if(!(r instanceof HTMLElement))throw Ht(r);return{label:r.dataset.label}}}],toDOM:r=>{const i=r.attrs.label,o=document.createElement("a"),s=`#${kD(i)}`;return o.href=s,o.textContent=`[${i}]`,o.onclick=a=>{n.get(Je).editable&&a.preventDefault()},o.ondblclick=()=>{n.get(Je).editable&&(window.location.href=s)},["sup",{"data-label":i,"data-type":e,id:wD(i)},o]},parseMarkdown:{match:({type:r})=>r==="footnoteReference",runner:(r,i,o)=>{r.addNode(o,{label:i.label})}},toMarkdown:{match:r=>r.type.name===e,runner:(r,i)=>{r.addNode("footnoteReference",void 0,void 0,{label:i.attrs.label,identifier:i.attrs.label})}}}),commands:n=>[_e(hy,(r="")=>(i,o)=>{const s=jr(i.selection,n);if(!s)return!1;const{tr:a}=i,l=a.setNodeMarkup(s.pos,void 0,{...s.node.attrs,label:r});return o==null||o(l.setSelection(re.create(l.doc,s.pos))),!0})],inputRules:n=>[new gn(/(?:\[\^)([^\]]+)(?:\])$/,(r,i,o,s)=>{const a=r.doc.resolve(o),l=a.index(),c=r.doc.resolve(s);if(!a.parent.canReplaceWith(l,c.index(),n))return null;const u=i[1];return r.tr.replaceRangeWith(o,s,n.create({label:u}))})],prosePlugins:(n,r)=>{const i=t.themeManager.get("input-chip",{width:"12em",placeholder:"Input Footnote Label",onUpdate:l=>{r.get(ve).call(hy,l)},isBindMode:!0});if(!i)return[];const o=l=>Boolean(n&&jr(l.state.selection,n)),s=l=>{const c=jr(l.state.selection,n);return c?c.node.attrs.label:void 0},a=l=>{!l.editable||(o(l)?(i.show(l),i.update(s(l))):i.hide())};return[new De({key:Mae,view:l=>(i.init(l),a(l),{update:(c,u)=>{(u==null?void 0:u.doc.eq(c.state.doc))&&u.selection.eq(c.state.selection)||a(c)},destroy:()=>{i.destroy()}})})]}}}),_D=new WeakMap,Nae=t=>_D.get(t),$ae=(t,e)=>(_D.set(t,e),e);class fy{constructor(e,n,r,i){Hi(this,"tableStart"),Hi(this,"map"),Hi(this,"table"),this.left=e,this.top=n,this.right=r,this.bottom=i}}class We{constructor(e,n,r,i){this.width=e,this.height=n,this.map=r,this.problems=i,this.width=e,this.height=n,this.map=r,this.problems=i}findCell(e){for(let n=0;n<this.map.length;n++){const r=this.map[n];if(r!=e)continue;const i=n%this.width,o=n/this.width|0;let s=i+1,a=o+1;for(let l=1;s<this.width&&this.map[n+l]==r;l++)s++;for(let l=1;a<this.height&&this.map[n+this.width*l]==r;l++)a++;return new fy(i,o,s,a)}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let n=0;n<this.map.length;n++)if(this.map[n]==e)return n%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,n,r){const{left:i,right:o,top:s,bottom:a}=this.findCell(e);return n=="horiz"?(r<0?i==0:o==this.width)?void 0:this.map[s*this.width+(r<0?i-1:o)]:(r<0?s==0:a==this.height)?void 0:this.map[i+this.width*(r<0?s-1:a)]}rectBetween(e,n){const{left:r,right:i,top:o,bottom:s}=this.findCell(e),{left:a,right:l,top:c,bottom:u}=this.findCell(n);return new fy(Math.min(r,a),Math.min(o,c),Math.max(i,l),Math.max(s,u))}cellsInRect(e){const n=[],r={};for(let i=e.top;i<e.bottom;i++)for(let o=e.left;o<e.right;o++){const s=i*this.width+o,a=this.map[s];r[a]||(r[a]=!0,(o!=e.left||!o||this.map[s-1]!=a)&&(i!=e.top||!i||this.map[s-this.width]!=a)&&n.push(a))}return n}positionAt(e,n,r){for(let i=0,o=0;;i++){const s=o+r.child(i).nodeSize;if(i==e){let a=n+e*this.width;const l=(e+1)*this.width;for(;a<l&&this.map[a]<o;)a++;return a==l?s-1:this.map[a]}o=s}}static get(e){return Nae(e)||$ae(e,Lae(e))}}function Lae(t){if(t.type.spec.tableRole!="table")throw new RangeError(`Not a table node: ${t.type.name}`);const e=Iae(t),n=t.childCount,r=[],i=[];let o=0,s;for(let c=0,u=e*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){const d=t.child(c);u++;for(let p=0;;p++){for(;o<r.length&&r[o]!=0;)o++;if(p==d.childCount)break;const m=d.child(p),{colspan:g,rowspan:b,colwidth:_}=m.attrs;for(let w=0;w<b;w++){if(w+c>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:u,n:b-w});break}const x=o+w*e;for(let k=0;k<g;k++){r[x+k]==0?r[x+k]=u:(s||(s=[])).push({type:"collision",row:c,pos:u,n:g-k});const y=_&&_[k];if(y){const D=(x+k)%e*2,S=i[D];S==null||S!=y&&i[D+1]==1?(i[D]=y,i[D+1]=1):S==y&&i[D+1]++}}}o+=g,u+=m.nodeSize}const f=(c+1)*e;let h=0;for(;o<f;)r[o++]==0&&h++;h&&(s||(s=[])).push({type:"missing",row:c,n:h}),u++}const a=new We(e,n,r,s);let l=!1;for(let c=0;!l&&c<i.length;c+=2)i[c]!=null&&i[c+1]<n&&(l=!0);return l&&Rae(a,i,t),a}function Iae(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let o=0;if(n)for(let s=0;s<r;s++){const a=t.child(s);for(let l=0;l<a.childCount;l++){const c=a.child(l);s+c.attrs.rowspan>r&&(o+=c.attrs.colspan)}}for(let s=0;s<i.childCount;s++){const a=i.child(s);o+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}e==-1?e=o:e!=o&&(e=Math.max(e,o))}return e}function Rae(t,e,n){t.problems||(t.problems=[]);for(let r=0,i={};r<t.map.length;r++){const o=t.map[r];if(i[o])continue;i[o]=!0;const s=n.nodeAt(o);let a=null;for(let l=0;l<s.attrs.colspan;l++){const c=(r+l)%t.width,u=e[c*2];u!=null&&(!s.attrs.colwidth||s.attrs.colwidth[l]!=u)&&((a||(a=Bae(s.attrs)))[l]=u)}a&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:a})}}function Bae(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}class Ee extends ae{constructor(e,n=e){const r=e.node(-1),i=We.get(r),o=e.start(-1),s=i.rectBetween(e.pos-o,n.pos-o),a=e.node(0),l=i.cellsInRect(s).filter(u=>u!=n.pos-o);l.unshift(n.pos-o);const c=l.map(u=>{const d=r.nodeAt(u),f=u+o+1;return new ek(a.resolve(f),a.resolve(f+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n,this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(op(r)&&op(i)&&Im(r,i)){const o=this.$anchorCell.node(-1)!=r.node(-1);return o&&this.isRowSelection()?Ee.rowSelection(r,i):o&&this.isColSelection()?Ee.colSelection(r,i):new Ee(r,i)}return le.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=We.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),o={},s=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let u=l*n.width+i.left,d=i.left;d<i.right;d++,u++){const f=n.map[u];if(!o[f]){o[f]=!0;const h=n.findCell(f);let p=e.nodeAt(f);const m=i.left-h.left,g=h.right-i.right;if(m>0||g>0){let b=p.attrs;m>0&&(b=mo(b,0,m)),g>0&&(b=mo(b,b.colspan-g,g)),h.left<i.left?p=p.type.createAndFill(b):p=p.type.create(b,p.content)}if(h.top<i.top||h.bottom>i.bottom){const b=An(p.attrs,"rowspan",Math.min(h.bottom,i.bottom)-Math.max(h.top,i.top));h.top<i.top?p=p.type.createAndFill(b):p=p.type.create(b,p.content)}c.push(p)}}s.push(e.child(l).copy(z.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?e:s;return new K(z.from(a),1,1)}replace(e,n=K.empty){const r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){const{$from:a,$to:l}=i[s],c=e.mapping.slice(r);e.replace(c.map(a.pos),c.map(l.pos),s?K.empty:n)}const o=ae.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,n){this.replace(e,new K(z.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=We.get(n),i=this.$anchorCell.start(-1),o=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let s=0;s<o.length;s++)e(n.nodeAt(o[s]),i+o[s])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=We.get(e.node(-1)),i=e.start(-1),o=r.findCell(e.pos-i),s=r.findCell(n.pos-i),a=e.node(0);if(o.top<=s.top){if(o.top>0){const l=r.map[o.left];e=a.resolve(i+l)}if(s.bottom<r.height){const l=r.map[r.width*(r.height-1)+s.right-1];n=a.resolve(i+l)}}else{if(s.top>0){const l=r.map[o.left];n=a.resolve(i+l)}if(o.bottom<r.height){const l=r.map[r.width*(r.height-1)+o.right-1];e=a.resolve(i+l)}}return new Ee(e,n)}isRowSelection(){const e=We.get(this.$anchorCell.node(-1)),n=this.$anchorCell.start(-1),r=e.colCount(this.$anchorCell.pos-n),i=e.colCount(this.$headCell.pos-n);if(Math.min(r,i)>0)return!1;const o=r+this.$anchorCell.nodeAfter.attrs.colspan,s=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,s)==e.width}eq(e){return e instanceof Ee&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=We.get(e.node(-1)),i=e.start(-1),o=r.findCell(e.pos-i),s=r.findCell(n.pos-i),a=e.node(0);if(o.left<=s.left){if(o.left>0){const l=r.map[o.top*r.width];e=a.resolve(i+l)}if(s.right<r.width){const l=r.map[r.width*(s.top+1)-1];n=a.resolve(i+l)}}else{if(s.left>0){const l=r.map[s.top*r.width];n=a.resolve(i+l)}if(o.right<r.width){const l=r.map[r.width*(o.top+1)-1];e=a.resolve(i+l)}}return new Ee(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Ee(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new Ee(e.resolve(n),e.resolve(r))}getBookmark(){return new Lm(this.$anchorCell.pos,this.$headCell.pos)}}Ee.prototype.visible=!1;ae.jsonID("cell",Ee);class Lm{constructor(e,n){this.anchor=e,this.head=n,this.anchor=e,this.head=n}map(e){return new Lm(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&Im(n,r)?new Ee(n,r):ae.near(r,1)}}function Pae(t){if(!(t.selection instanceof Ee))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(tt.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Te.create(t.doc,e)}function jae({$from:t,$to:e}){if(t.pos==e.pos||t.pos<t.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let o=e.depth;o>=0&&!(e.before(o+1)>e.start(o));o--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function zae({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let i=e.depth;i>0;i--){const o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&e.parentOffset===0}function Vae(t,e,n){const r=(e||t).selection,i=(e||t).doc;let o,s;if(r instanceof re&&(s=r.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")o=Ee.create(i,r.from);else if(s=="row"){const a=i.resolve(r.from+1);o=Ee.rowSelection(a,a)}else if(!n){const a=We.get(r.node),l=r.from+1,c=a.map[a.width*a.height-1],u=l+c;o=Ee.create(i,l+1,u)}}else r instanceof le&&jae(r)?o=le.create(i,r.from):r instanceof le&&zae(r)&&(o=le.create(i,r.$from.start(),r.$from.end()));return o&&(e||(e=t.tr)).setSelection(o),e}function py(t,e){const n=t.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(s=>Number(s)):null,i=Number(t.getAttribute("colspan")||1),o={colspan:i,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(const s in e){const a=e[s].getFromDOM,l=a&&a(t);l!=null&&(o[s]=l)}return o}function my(t,e){const n={};t.attrs.colspan!=1&&(n.colspan=t.attrs.colspan),t.attrs.rowspan!=1&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(","));for(const r in e){const i=e[r].setDOMAttr;i&&i(t.attrs[r],n)}return n}function qae(t){const e=t.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(const i in e)n[i]={default:e[i].default};const r=n;return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:r,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:i=>py(i,e)}],toDOM(i){return["td",my(i,e),0]}},table_header:{content:t.cellContent,attrs:r,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:i=>py(i,e)}],toDOM(i){return["th",my(i,e),0]}}}}function Bn(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r==null?void 0:r.spec.tableRole;i&&(e[i]=r)}}return e}const Jl=qae({tableGroup:"block",cellContent:"paragraph",cellAttributes:{alignment:{default:"left",getFromDOM:t=>t.style.textAlign||"left",setDOMAttr:(t,e)=>{e.style=`text-align: ${t||"left"}`}}}});function Al(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1))}function op(t){return t.parent.type.spec.tableRole=="row"?t.nodeAfter:null}function Uae(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function Im(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function DD(t,e,n){const r=t.start(-1),i=We.get(t.node(-1)).nextCell(t.pos-r,e,n);return i==null?null:t.node(0).resolve(r+i)}function An(t,e,n){const r={};for(const i in t)r[i]=t[i];return r[e]=n,r}function mo(t,e,n=1){const r=An(t,"colspan",t.colspan-n);if(r.colwidth){const i=r.colwidth;r.colwidth=i.slice(),i.splice(e,n),i.some(o=>o>0)||(r.colwidth=null)}return r}function Pn(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function id(t){const e=t.selection;return e instanceof Ee?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&e.node.type.spec.tableRole=="cell"?e.$anchor:Al(e.$head)||Wae(e.$head)}function Wae(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function Hae(t,e,n=1){const r=An(t,"colspan",t.colspan+n);if(r.colwidth){const i=r.colwidth;r.colwidth=i.slice();for(let o=0;o<n;o++)i.splice(e,0,0)}return r}function Gae(t,e,n){const r=Bn(e.type.schema).header_cell;for(let i=0;i<t.height;i++){const o=t.map[n+i*t.width];if(e.nodeAt(o).type!=r)return!1}return!0}const Kae=t=>(e,n)=>{if(!Pn(e))return!1;const{$head:r}=e.selection,i=r.after(),o=e.tr.replaceWith(i,i,t.createAndFill());return o.setSelection(ae.near(o.doc.resolve(i),1)),n==null||n(o.scrollIntoView()),!0};function Ss(t){const e=t.selection,n=id(t),r=n.node(-1),i=n.start(-1),o=We.get(r);let s;return e instanceof Ee?s=o.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s=o.findCell(n.pos-i),s.tableStart=i,s.map=o,s.table=r,s}function xD(t,{map:e,tableStart:n,table:r},i){e=e,r=r,n=n;let o=i>0?-1:0;Gae(e,r,i+o)&&(o=i==0||i==e.width?null:0);for(let s=0;s<e.height;s++){const a=s*e.width+i;if(i>0&&i<e.width&&e.map[a-1]==e.map[a]){const l=e.map[a],c=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,Hae(c.attrs,i-e.colCount(l))),s+=c.attrs.rowspan-1}else{const l=e.map[a+o],c=o==null?Bn(r.type.schema).cell:r.nodeAt(l).type,u=e.positionAt(s,i,r);t.insert(t.mapping.map(n+u),c.createAndFill())}}return t}const Jae=(t,e)=>{if(!Pn(t))return!1;if(e){const n=Ss(t);e(xD(t.tr,n,n.left))}return!0},Yae=(t,e)=>{if(!Pn(t))return!1;if(e){const n=Ss(t);e(xD(t.tr,n,n.right))}return!0};function Xae(t,{map:e,table:n,tableStart:r},i){e=e,n=n,r=r;const o=t.mapping.maps.length;for(let s=0;s<e.height;){const a=s*e.width+i,l=e.map[a],c=n.nodeAt(l);if(i>0&&e.map[a-1]==l||i<e.width-1&&e.map[a+1]==l)t.setNodeMarkup(t.mapping.slice(o).map(r+l),null,mo(c.attrs,i-e.colCount(l)));else{const u=t.mapping.slice(o).map(r+l);t.delete(u,u+c.nodeSize)}s+=c.attrs.rowspan}}const Qae=(t,e)=>{if(!Pn(t))return!1;if(e){const n=Ss(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;Xae(r,n,i),i!=n.left;i--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=We.get(n.table);e(r)}return!0};function Zae(t,{map:e,tableStart:n,table:r},i){e=e,r=r,n=n;let o=0;for(let l=0;l<i;l++)o+=r.child(l).nodeSize;const s=o+r.child(i).nodeSize,a=t.mapping.maps.length;t.delete(o+n,s+n);for(let l=0,c=i*e.width;l<e.width;l++,c++){const u=e.map[c];if(i>0&&u==e.map[c-e.width]){const d=r.nodeAt(u).attrs;t.setNodeMarkup(t.mapping.slice(a).map(u+n),null,An(d,"rowspan",d.rowspan-1)),l+=d.colspan-1}else if(i<e.width&&u==e.map[c+e.width]){const d=r.nodeAt(u),f=d.type.create(An(d.attrs,"rowspan",d.attrs.rowspan-1),d.content),h=e.positionAt(i+1,l,r);t.insert(t.mapping.slice(a).map(n+h),f),l+=d.attrs.colspan-1}}}const ele=(t,e)=>{if(!Pn(t))return!1;if(e){const n=Ss(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;Zae(r,n,i),i!=n.top;i--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=We.get(n.table);e(r)}return!0};function xh(t,e){return(n,r)=>{if(!Pn(n))return!1;const i=id(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const o=n.tr;n.selection instanceof Ee?n.selection.forEachCell((s,a)=>{s.attrs[t]!==e&&o.setNodeMarkup(a,null,An(s.attrs,t,e))}):o.setNodeMarkup(i.pos,null,An(i.nodeAfter.attrs,t,e)),r(o)}return!0}}function tle(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const o=t.node(-1).child(r);if(o.childCount)return i-1-o.lastChild.nodeSize;i-=o.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const o=n.child(r);if(o.childCount)return i+1;i+=o.nodeSize}}}function gy(t){return(e,n)=>{if(!Pn(e))return!1;const r=tle(id(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(le.between(i,Uae(i))).scrollIntoView())}return!0}}const nle=(t,e)=>{const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1},od=t=>pl(e=>e.type.spec.tableRole==="table")(t),rle=t=>e=>{const n=od(e);if(!n)return;const r=We.get(n.node);if(!(t<0||t>=r.width))return r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height}).map(i=>{const o=n.node.nodeAt(i);if(!o)return;const s=i+n.start;return{pos:s,start:s+1,node:o}}).filter(i=>i!=null)},ile=t=>e=>{const n=od(e);if(!n)return;const r=We.get(n.node);if(!(t<0||t>=r.height))return r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1}).map(i=>{const o=n.node.nodeAt(i);if(!o)return;const s=i+n.start;return{pos:s,start:s+1,node:o}}).filter(i=>i!=null)},Ch=(t,e=3,n=3)=>{const{cell:r,header_cell:i,row:o,table:s}=Bn(t),a=Array(n).fill(0).map(()=>r.createAndFill(null)),l=Array(n).fill(0).map(()=>i.createAndFill(null)),c=Array(e).fill(0).map((u,d)=>o.create(null,d===0?l:a));return s.create(null,c)},by=t=>e=>n=>{const r=od(n.selection),i=t==="row";if(r){const o=We.get(r.node);if(e>=0&&e<(i?o.height:o.width)){const s=o.positionAt(i?e:o.height-1,i?o.width-1:e,r.node),a=n.doc.resolve(r.start+s),l=i?Ee.rowSelection:Ee.colSelection,c=o.positionAt(i?e:0,i?0:e,r.node),u=n.doc.resolve(r.start+c);return cm(n.setSelection(l(a,u)))}}return n},ole=t=>{const e=od(t);if(!e)return;const n=We.get(e.node);return n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height}).map(r=>{const i=e.node.nodeAt(r),o=r+e.start;return{pos:o,start:o+1,node:i}})},sle=t=>{const e=ole(t.selection);if(e&&e[0]){const n=t.doc.resolve(e[0].pos),r=e[e.length-1];if(r){const i=t.doc.resolve(r.pos);return cm(t.setSelection(new Ee(i,n)))}}return t};function yy(t,{map:e,tableStart:n,table:r},i){const o=Array(i).fill(0).reduce((c,u,d)=>c+r.child(d).nodeSize,n),{cell:s,row:a}=Bn(r.type.schema),l=Array(e.width).fill(0).map((c,u)=>{const d=r.nodeAt(e.map[u]);return s.createAndFill({alignment:d==null?void 0:d.attrs.alignment})});return t.insert(o,a.create(null,l)),t}const rr=t=>t.state.selection,ale=t=>{const e=We.get(t.$anchorCell.node(-1)),n=t.$anchorCell.start(-1),r=e.cellsInRect({left:0,right:e.width,top:0,bottom:1}),i=e.cellsInRect(e.rectBetween(t.$anchorCell.pos-n,t.$headCell.pos-n));for(let o=0,s=r.length;o<s;o++)if(!i.includes(r[o]))return!1;return!0},lle=(t,e)=>{Object.values(t).forEach(n=>{var r;if((r=n.disable)!=null&&r.call(n,e)){n.$.classList.add("hide");return}n.$.classList.remove("hide")})},cle=t=>{var e,n,r,i,o,s,a,l;return{[0]:{$:(e=t.get(Fe).get(pt,"leftArrow"))==null?void 0:e.dom,command:()=>Jae,disable:c=>!rr(c).isColSelection()},[1]:{$:(n=t.get(Fe).get(pt,"rightArrow"))==null?void 0:n.dom,command:()=>Yae,disable:c=>!rr(c).isColSelection()},[2]:{$:(r=t.get(Fe).get(pt,"upArrow"))==null?void 0:r.dom,command:()=>(c,u)=>{if(!Pn(c))return!1;if(u){const d=Ss(c);u(yy(c.tr,d,d.top))}return!0},disable:c=>!rr(c).isRowSelection()||rr(c).$head.parent.type.name==="table_header"},[3]:{$:(i=t.get(Fe).get(pt,"downArrow"))==null?void 0:i.dom,command:()=>(c,u)=>{if(!Pn(c))return!1;if(u){const d=Ss(c);u(yy(c.tr,d,d.bottom))}return!0},disable:c=>!rr(c).isRowSelection()},[4]:{$:(o=t.get(Fe).get(pt,"alignLeft"))==null?void 0:o.dom,command:()=>xh("alignment","left"),disable:c=>!rr(c).isColSelection()},[5]:{$:(s=t.get(Fe).get(pt,"alignCenter"))==null?void 0:s.dom,command:()=>xh("alignment","center"),disable:c=>!rr(c).isColSelection()},[6]:{$:(a=t.get(Fe).get(pt,"alignRight"))==null?void 0:a.dom,command:()=>xh("alignment","right"),disable:c=>!rr(c).isColSelection()},[7]:{$:(l=t.get(Fe).get(pt,"delete"))==null?void 0:l.dom,command:(c,u)=>{const d=rr(u),f=d.isColSelection(),h=d.isRowSelection();return f&&h?nle:f?Qae:ele},disable:c=>{const u=rr(c);return u.isRowSelection()?u.isColSelection()?!1:ale(u):!1}}}},ule=(t,e)=>{const{selection:n}=t.state,r=n.isColSelection(),i=n.isRowSelection();am(t,e,(o,s,a)=>{const l=e.parentElement;if(!l)throw En();let c=i?o.left-a.left-s.width/2-8:o.left-a.left+(o.width-s.width)/2,u=o.top-a.top-s.height-(r?14:0)-14+l.scrollTop;c<0&&(c=0);const d=l.clientWidth-(s.width+4);return c>d&&(c=d),u<l.scrollTop&&(u=o.top-a.top+14+l.scrollTop),[u,c]})};var Un=(t=>(t.Left="Left",t.Top="Top",t.Point="Point",t))(Un||{});const dle=(t,{css:e,injectGlobal:n})=>{const r=er(t),i=t.get(He,"radius"),o=t.get(He,"lineWidth");return n`
        .milkdown {
            .tableWrapper {
                table {
                    width: calc(100% - 32px) !important;
                    margin: 16px 0 16px 16px !important;

                    .milkdown-cell-left,
                    .milkdown-cell-point,
                    .milkdown-cell-top {
                        position: absolute;

                        &::after {
                            cursor: pointer;
                            position: absolute;
                            top: 0;
                            left: 0;
                            height: 100%;
                            width: 100%;
                            display: block;
                            transition: all 0.2s ease-in-out;
                            background: ${r("secondary",.12)};
                            content: '';
                        }

                        &:hover::after {
                            background: ${r("secondary",.38)};
                        }
                    }

                    .milkdown-cell-left {
                        left: -14px;
                        top: 0;
                        bottom: 0;
                        width: 8px;
                    }

                    .milkdown-cell-top {
                        left: 0;
                        right: 0;
                        top: -14px;
                        height: 8px;
                    }

                    .milkdown-cell-point {
                        left: -18px;
                        top: -18px;
                        width: 16px;
                        height: 16px;

                        .icon {
                            position: absolute;
                            top: 0;
                            bottom: 0;
                            left: 0;
                            right: 0;
                        }
                    }
                }
            }
        }
    `,e`
        display: inline-flex;
        cursor: pointer;
        z-index: 2;

        justify-content: space-evenly;

        position: absolute;

        border-radius: ${i};

        ${t.get(kt,void 0)};
        ${t.get(Xn,void 0)};

        overflow: hidden;
        background: ${r("surface")};

        .icon {
            position: relative;
            color: ${r("solid",.87)};

            width: 48px;
            line-height: 48px;
            text-align: center;
            transition: all 0.4s ease-in-out;

            &:hover {
                background-color: ${r("secondary",.12)};
            }

            &.active {
                color: ${r("primary")};
            }

            &:not(:last-child)::after {
                content: '';
                position: absolute;
                right: 0;
                top: 0;
                width: ${o};
                bottom: 0;
                background: ${r("line")};
            }
        }

        &.hide,
        .hide {
            display: none;
        }
    `},hle=t=>{switch(t){case Un.Left:return"milkdown-cell-left";case Un.Top:return"milkdown-cell-top";case Un.Point:default:return"milkdown-cell-point"}};function vh(t,e,n,r=0){return tt.widget(e.pos+1,i=>{var o;const s=document.createElement("div");return s.classList.add(hle(n)),n===Un.Point&&s.appendChild((o=t.get(Fe).get(pt,"select"))==null?void 0:o.dom),s.addEventListener("mousedown",a=>{if(i)switch(a.preventDefault(),n){case Un.Point:{i.dispatch(sle(i.state.tr));return}case Un.Left:{i.dispatch(by("row")(r)(i.state.tr));return}case Un.Top:i.dispatch(by("col")(r)(i.state.tr))}}),s})}const fle=(t,e)=>new De({key:new Se("MILKDOWN_TABLE_OP"),props:{decorations:n=>{if(!t.get(Je).editable)return null;const r=[],i=rle(0)(n.selection);if(!i)return null;const o=ile(0)(n.selection);if(!o)return null;const[s]=i;return r.push(vh(t,s,Un.Point)),i.forEach((a,l)=>{r.push(vh(t,a,Un.Left,l))}),o.forEach((a,l)=>{r.push(vh(t,a,Un.Top,l))}),Te.create(n.doc,r)}},view:n=>{var r;const i=Object.fromEntries(Object.entries(cle(t)).filter(([,l])=>l.$!=null)),o=document.createElement("div");e.themeManager.onFlush(()=>{const l=e.getStyle(c=>dle(e.themeManager,c));l&&o.classList.add(l)}),o.classList.add("table-tooltip","hide"),Object.values(i).forEach(({$:l})=>o.appendChild(l)),(r=n.dom.parentNode)==null||r.appendChild(o);const s=l=>{!n||(l.stopPropagation(),l.preventDefault(),Object.values(i).forEach(({$:c,command:u})=>{c.contains(l.target)&&u(l,n)(n.state,n.dispatch,n)}))},a=()=>{o.classList.add("hide")};return o.addEventListener("mousedown",s),{update:(l,c)=>{const u=l.state;if(!((c==null?void 0:c.doc.eq(u.doc))&&c.selection.eq(u.selection))){if(!(u.selection instanceof Ee)||!l.editable){a();return}if(lle(i,l),Object.values(i).every(({$:d})=>d.classList.contains("hide"))){a();return}o.classList.remove("hide"),ule(l,o)}},destroy:()=>{o.removeEventListener("mousedown",s),o.remove()}}}}),ple=t=>t.type.name==="paragraph"&&t.nodeSize===2,mle=t=>t.type.name==="paragraph",gle=new Se("plugin_autoInsertZeroSpace"),ble=()=>new De({key:gle,props:{handleDOMEvents:{compositionstart(t){const{state:e,dispatch:n}=t,{tr:r,selection:i}=e,{$from:o}=i;return Uo.safari&&Pn(e)&&i.empty&&ple(o.parent)&&n(r.insertText("\u2060",o.start())),!1},compositionend(t){const{state:e,dispatch:n}=t,{tr:r,selection:i}=e,{$from:o}=i;return Uo.safari&&Pn(e)&&i.empty&&mle(o.parent)&&o.parent.textContent.startsWith("\u2060")&&n(r.delete(o.start(),o.start()+1)),!1}}}});class yle{constructor(e,n){Hi(this,"dom"),Hi(this,"contentDOM"),Hi(this,"table"),Hi(this,"colgroup"),this.node=e,this.cellMinWidth=n,this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),sp(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,sp(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}}function sp(t,e,n,r,i,o){var s;let a=0,l=!0,c=e.firstChild;const u=t.firstChild;for(let d=0,f=0;d<u.childCount;d++){const{colspan:h,colwidth:p}=u.child(d).attrs;for(let m=0;m<h;m++,f++){const g=i==f?o:p&&p[m],b=g?`${g}px`:"";a+=g||r,g||(l=!1),c?(c.style.width!=b&&(c.style.width=b),c=c.nextSibling):e.appendChild(document.createElement("col")).style.width=b}}for(;c;){const d=c.nextSibling;(s=c.parentNode)==null||s.removeChild(c),c=d}l?(n.style.width=`${a}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${a}px`)}const $n=new Se("tableColumnResizing");function wle({handleWidth:t=5,cellMinWidth:e=25,View:n=yle,lastColumnResizable:r=!0}={}){return new De({key:$n,state:{init(i,o){return this.spec.props.nodeViews[Bn(o.schema).table.name]=s=>new n(s,e),new ba(-1,!1)},apply(i,o){return o.apply(i)}},props:{attributes(i){return $n.getState(i).activeHandle>-1?{class:"resize-cursor"}:void 0},handleDOMEvents:{mousemove(i,o){!i.editable||kle(i,o,t,r)},mouseleave(i){!i.editable||_le(i)},mousedown(i,o){!i.editable||Dle(i,o,e)}},decorations(i){const o=$n.getState(i);return o.activeHandle>-1?Ale(i,o.activeHandle):null},nodeViews:{}}})}class ba{constructor(e,n){this.activeHandle=e,this.dragging=n,this.activeHandle=e,this.dragging=n}apply(e){let n=this;const r=e.getMeta($n);if(r&&r.setHandle!=null)return new ba(r.setHandle,null);if(r&&r.setDragging!==void 0)return new ba(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);op(e.doc.resolve(i))||(i=0),n=new ba(i,n.dragging)}return n}}function kle(t,e,n,r){const i=$n.getState(t.state);if(!i.dragging){const o=Cle(e.target);let s=-1;if(o){const{left:a,right:l}=o.getBoundingClientRect();l-e.clientX<=n||e.clientX===Math.floor(a)?s=wy(t,e,"right"):e.clientX-a<=n&&(s=wy(t,e,"left"))}if(s!=i.activeHandle){if(!r&&s!==-1){const a=t.state.doc.resolve(s),l=a.node(-1),c=We.get(l),u=a.start(-1);if(c.colCount(a.pos-u)+a.nodeAfter.attrs.colspan-1==c.width-1)return}CD(t,s)}}}function _le(t){const e=$n.getState(t.state);e.activeHandle>-1&&!e.dragging&&CD(t,-1)}function Dle(t,e,n){const r=$n.getState(t.state);if(r.activeHandle==-1||r.dragging)return!1;const i=t.state.doc.nodeAt(r.activeHandle),o=xle(t,r.activeHandle,i.attrs);t.dispatch(t.state.tr.setMeta($n,{setDragging:{startX:e.clientX,startWidth:o}}));function s(l){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",a);const c=$n.getState(t.state);c.dragging&&(vle(t,c.activeHandle,ky(c.dragging,l,n)),t.dispatch(t.state.tr.setMeta($n,{setDragging:null})))}function a(l){if(!l.which)return s(l);const c=$n.getState(t.state),u=ky(c.dragging,l,n);Sle(t,c.activeHandle,u,n)}return window.addEventListener("mouseup",s),window.addEventListener("mousemove",a),e.preventDefault(),!0}function xle(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=t.domAtPos(e);let s=o.node.childNodes[o.offset].offsetWidth,a=n;if(r)for(let l=0;l<n;l++)r[l]&&(s-=r[l],a--);return s/a}function Cle(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}function wy(t,e,n){const r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return-1;const{pos:i}=r,o=Al(t.state.doc.resolve(i));if(!o)return-1;if(n=="right")return o.pos;const s=We.get(o.node(-1)),a=o.start(-1),l=s.map.indexOf(o.pos-a);return l%s.width==0?-1:a+s.map[l-1]}function ky(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function CD(t,e){t.dispatch(t.state.tr.setMeta($n,{setHandle:e}))}function vle(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),o=We.get(i),s=r.start(-1),a=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let c=0;c<o.height;c++){const u=c*o.width+a;if(c&&o.map[u]==o.map[u-o.width])continue;const d=o.map[u],{attrs:f}=i.nodeAt(d),h=f.colspan==1?0:a-o.colCount(d);if(f.colwidth&&f.colwidth[h]==n)continue;const p=f.colwidth?f.colwidth.slice():Ele(f.colspan);p[h]=n,l.setNodeMarkup(s+d,null,An(f,"colwidth",p))}l.docChanged&&t.dispatch(l)}function Sle(t,e,n,r){const i=t.state.doc.resolve(e),o=i.node(-1),s=i.start(-1),a=We.get(o).colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;let l=t.domAtPos(i.start(-1)).node;for(;l.nodeName!="TABLE";)l=l.parentNode;sp(o,l.firstChild,l,r,a,n)}function Ele(t){const e=[];for(let n=0;n<t;n++)e.push(0);return e}function Ale(t,e){const n=[],r=t.doc.resolve(e),i=r.node(-1),o=We.get(i),s=r.start(-1),a=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan;for(let l=0;l<o.height;l++){const c=a+l*o.width-1;if((a==o.width||o.map[c]!=o.map[c+1])&&(l==0||o.map[c-1]!=o.map[c-1-o.width])){const u=o.map[c],d=s+u+i.nodeAt(u).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",n.push(tt.widget(d,f))}}return Te.create(t.doc,n)}function Fle(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.firstChild.type.spec.tableRole=="table");)n--,r--,e=e.firstChild.content;const i=e.firstChild,o=i.type.spec.tableRole,s=i.type.schema,a=[];if(o=="row")for(let l=0;l<e.childCount;l++){let c=e.child(l).content;const u=l?0:Math.max(0,n-1),d=l<e.childCount-1?0:Math.max(0,r-1);(u||d)&&(c=ap(Bn(s).row,new K(c,u,d)).content),a.push(c)}else if(o=="cell"||o=="header_cell")a.push(n||r?ap(Bn(s).row,new K(e,n,r)).content:e);else return null;return Tle(s,a)}function Tle(t,e){const n=[];for(let i=0;i<e.length;i++){const o=e[i];for(let s=o.childCount-1;s>=0;s--){const{rowspan:a,colspan:l}=o.child(s).attrs;for(let c=i;c<i+a;c++)n[c]=(n[c]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(z.empty),n[i]<r){const o=Bn(t).cell.createAndFill(),s=[];for(let a=n[i];a<r;a++)s.push(o);e[i]=e[i].append(z.from(s))}return{height:e.length,width:r,rows:e}}function ap(t,e){const n=t.createAndFill();return new Z1(n).replace(0,n.content.size,e).doc}function Mle({width:t,height:e,rows:n},r,i){if(t!=r){const o=[],s=[];for(let a=0;a<n.length;a++){const l=n[a],c=[];for(let u=o[a]||0,d=0;u<r;d++){let f=l.child(d%l.childCount);u+f.attrs.colspan>r&&(f=f.type.create(mo(f.attrs,f.attrs.colspan,u+f.attrs.colspan-r),f.content)),c.push(f),u+=f.attrs.colspan;for(let h=1;h<f.attrs.rowspan;h++)o[a+h]=(o[a+h]||0)+f.attrs.colspan}s.push(z.from(c))}n=s,t=r}if(e!=i){const o=[];for(let s=0,a=0;s<i;s++,a++){const l=[],c=n[a%e];for(let u=0;u<c.childCount;u++){let d=c.child(u);s+d.attrs.rowspan>i&&(d=d.type.create(An(d.attrs,"rowspan",Math.max(1,i-d.attrs.rowspan)),d.content)),l.push(d)}o.push(z.from(l))}n=o,e=i}return{width:t,height:e,rows:n}}function Ole(t,e,n,r,i,o,s){const a=t.doc.type.schema,l=Bn(a);let c,u;if(i>e.width)for(let d=0,f=0;d<e.height;d++){const h=n.child(d);f+=h.nodeSize;const p=[];let m;h.lastChild==null||h.lastChild.type==l.cell?m=c||(c=l.cell.createAndFill()):m=u||(u=l.header_cell.createAndFill());for(let g=e.width;g<i;g++)p.push(m);t.insert(t.mapping.slice(s).map(f-1+r),p)}if(o>e.height){const d=[];for(let p=0,m=(e.height-1)*e.width;p<Math.max(e.width,i);p++){const g=p>=e.width?!1:n.nodeAt(e.map[m+p]).type==l.header_cell;d.push(g?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const f=l.row.create(null,z.from(d)),h=[];for(let p=e.height;p<o;p++)h.push(f);t.insert(t.mapping.slice(s).map(r+n.nodeSize-2),h)}return!!(c||u)}function _y(t,e,n,r,i,o,s,a){if(s==0||s==e.height)return!1;let l=!1;for(let c=i;c<o;c++){const u=s*e.width+c,d=e.map[u];if(e.map[u-e.width]==d){l=!0;const f=n.nodeAt(d),{top:h,left:p}=e.findCell(d);t.setNodeMarkup(t.mapping.slice(a).map(d+r),null,An(f.attrs,"rowspan",s-h)),t.insert(t.mapping.slice(a).map(e.positionAt(s,p,n)),f.type.createAndFill(An(f.attrs,"rowspan",h+f.attrs.rowspan-s))),c+=f.attrs.colspan-1}}return l}function Dy(t,e,n,r,i,o,s,a){if(s==0||s==e.width)return!1;let l=!1;for(let c=i;c<o;c++){const u=c*e.width+s,d=e.map[u];if(e.map[u-1]==d){l=!0;const f=n.nodeAt(d),h=e.colCount(d),p=t.mapping.slice(a).map(d+r);t.setNodeMarkup(p,null,mo(f.attrs,s-h,f.attrs.colspan-(s-h))),t.insert(p+f.nodeSize,f.type.createAndFill(mo(f.attrs,0,s-h))),c+=f.attrs.rowspan-1}}return l}function xy(t,e,n,r,i){let o=n?t.doc.nodeAt(n-1):t.doc,s=We.get(o);const{top:a,left:l}=r,c=l+i.width,u=a+i.height,d=t.tr;let f=0;function h(){o=n?d.doc.nodeAt(n-1):d.doc,s=We.get(o),f=d.mapping.maps.length}Ole(d,s,o,n,c,u,f)&&h(),_y(d,s,o,n,l,c,a,f)&&h(),_y(d,s,o,n,l,c,u,f)&&h(),Dy(d,s,o,n,a,u,l,f)&&h(),Dy(d,s,o,n,a,u,c,f)&&h();for(let p=a;p<u;p++){const m=s.positionAt(p,l,o),g=s.positionAt(p,c,o);d.replace(d.mapping.slice(f).map(m+n),d.mapping.slice(f).map(g+n),new K(i.rows[p-a],0,0))}h(),d.setSelection(new Ee(d.doc.resolve(n+s.positionAt(a,l,o)),d.doc.resolve(n+s.positionAt(u-1,c-1,o)))),e(d)}const Nle=new Se("fix-tables");function vD(t,e,n,r){const i=t.childCount,o=e.childCount;e:for(let s=0,a=0;s<o;s++){const l=e.child(s);for(let c=a,u=Math.min(i,s+3);c<u;c++)if(t.child(c)==l){a=c+1,n+=l.nodeSize;continue e}r(l,n),a<i&&t.child(a).sameMarkup(l)?vD(t.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function $le(t,e){let n;const r=(i,o)=>{i.type.spec.tableRole=="table"&&(n=Lle(t,i,o,n))};return e?e.doc!=t.doc&&vD(e.doc,t.doc,0,r):t.doc.descendants(r),n}function Lle(t,e,n,r){const i=We.get(e);if(!i.problems)return r;r||(r=t.tr);const o=[];for(let l=0;l<i.height;l++)o.push(0);for(let l=0;l<i.problems.length;l++){const c=i.problems[l];if(c.type=="collision"){const u=e.nodeAt(c.pos);for(let d=0;d<u.attrs.rowspan;d++)o[c.row+d]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,mo(u.attrs,u.attrs.colspan-c.n,c.n))}else if(c.type=="missing")o[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=e.nodeAt(c.pos);r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,An(u.attrs,"rowspan",u.attrs.rowspan-c.n))}else if(c.type=="colwidth mismatch"){const u=e.nodeAt(c.pos);r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,An(u.attrs,"colwidth",c.colwidth))}}let s,a;for(let l=0;l<o.length;l++)o[l]&&(s==null&&(s=l),a=l);for(let l=0,c=n+1;l<i.height;l++){const u=e.child(l),d=c+u.nodeSize,f=o[l];if(f>0){let h="cell";u.firstChild&&(h=u.firstChild.type.spec.tableRole);const p=[];for(let g=0;g<f;g++)p.push(Bn(t.schema)[h].createAndFill());const m=(l==0||s==l-1)&&a==l?c+1:d-1;r.insert(r.mapping.map(m),p)}c=d}return r.setMeta(Nle,{fixTables:!0})}const si=new Se("selectingCells");function Cy(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e}function Sh(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?Al(t.state.doc.resolve(n.pos)):null}function Ile(t,e){const n=e;if(n.ctrlKey||n.metaKey)return;const r=Cy(t,n.target);let i;if(n.shiftKey&&t.state.selection instanceof Ee)o(t.state.selection.$anchorCell,n),n.preventDefault();else if(n.shiftKey&&r&&(i=Al(t.state.selection.$anchor))!=null&&Sh(t,n).pos!=i.pos)o(i,n),n.preventDefault();else if(!r)return;function o(l,c){let u=Sh(t,c);const d=si.getState(t.state)==null;if(!u||!Im(l,u))if(d)u=l;else return;const f=new Ee(l,u);if(d||!t.state.selection.eq(f)){const h=t.state.tr.setSelection(f);d&&h.setMeta(si,l.pos),t.dispatch(h)}}function s(){t.root.removeEventListener("mouseup",s),t.root.removeEventListener("dragstart",s),t.root.removeEventListener("mousemove",a),si.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(si,-1))}function a(l){const c=si.getState(t.state);let u;if(c!=null)u=t.state.doc.resolve(c);else if(Cy(t,l.target)!=r&&(u=Sh(t,n),!u))return s();u&&o(u,l)}t.root.addEventListener("mouseup",s),t.root.addEventListener("dragstart",s),t.root.addEventListener("mousemove",a)}function Rle(t,e){const n=t.state.doc,r=Al(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Ee(r))),!0):!1}function Lc(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function SD(t,e,n){if(!(t.state.selection instanceof le))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const s=r.before(i),a=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(a)?s:null}}return null}function Yl(t,e){return(n,r,i)=>{const o=n.selection;if(o instanceof Ee)return Lc(n,r,ae.near(o.$headCell,e));if(t!="horiz"&&!o.empty)return!1;const s=SD(i,t,e);if(s==null)return!1;if(t=="horiz")return Lc(n,r,ae.near(n.doc.resolve(o.head+e),e));{const a=n.doc.resolve(s),l=DD(a,t,e);let c;return l?c=ae.near(l,1):e<0?c=ae.near(n.doc.resolve(a.before(-1)),-1):c=ae.near(n.doc.resolve(a.after(-1)),1),Lc(n,r,c)}}}function Xl(t,e){return(n,r,i)=>{let o=n.selection;if(!(o instanceof Ee)){const a=SD(i,t,e);if(a==null)return!1;o=new Ee(n.doc.resolve(a))}const s=DD(o.$headCell,t,e);return s?Lc(n,r,new Ee(o.$anchorCell,s)):!1}}function Ql(t,e){const n=t.selection;if(!(n instanceof Ee))return!1;if(e){const r=t.tr,i=Bn(t.schema).cell.createAndFill().content;n.forEachCell((o,s)=>{o.content.eq(i)||r.replace(r.mapping.map(s+1),r.mapping.map(s+o.nodeSize-1),new K(i,0,0))}),r.docChanged&&e(r)}return!0}const Ble=td({ArrowLeft:Yl("horiz",-1),ArrowRight:Yl("horiz",1),ArrowUp:Yl("vert",-1),ArrowDown:Yl("vert",1),"Shift-ArrowLeft":Xl("horiz",-1),"Shift-ArrowRight":Xl("horiz",1),"Shift-ArrowUp":Xl("vert",-1),"Shift-ArrowDown":Xl("vert",1),Backspace:Ql,"Mod-Backspace":Ql,Delete:Ql,"Mod-Delete":Ql});function Ple(t,e,n){if(!Pn(t.state))return!1;let r=Fle(n);const i=t.state.selection;if(i instanceof Ee){r||(r={width:1,height:1,rows:[z.from(ap(Bn(t.state.schema).cell,n))]});const o=i.$anchorCell.node(-1),s=i.$anchorCell.start(-1),a=We.get(o).rectBetween(i.$anchorCell.pos-s,i.$headCell.pos-s);return r=Mle(r,a.right-a.left,a.bottom-a.top),xy(t.state,t.dispatch,s,a,r),!0}else if(r){const o=id(t.state),s=o.start(-1);return xy(t.state,t.dispatch,s,We.get(o.node(-1)).findCell(o.pos-s),r),!0}else return!1}function jle({allowTableNodeSelection:t=!1}={}){return new De({key:si,state:{init(){return null},apply(e,n){const r=e.getMeta(si);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:o}=e.mapping.mapResult(n);return i?null:o}},props:{decorations:Pae,handleDOMEvents:{mousedown:Ile},createSelectionBetween(e){return si.getState(e.state)!=null?e.state.selection:null},handleTripleClick:Rle,handleKeyDown:Ble,handlePaste:Ple},appendTransaction(e,n,r){return Vae(r,$le(r,n),t)}})}const Ic={NextCell:"NextCell",PrevCell:"PrevCell",ExitTable:"ExitTable"},vy=xe("PrevCell"),Sy=xe("NextCell"),Ey=xe("BreakTable"),zle=xe("InsertTable"),Vle=Kr(t=>({schema:()=>({node:{table:{...Jl.table,parseMarkdown:{match:e=>e.type==="table",runner:(e,n,r)=>{const i=n.align,o=n.children.map((s,a)=>({...s,align:i,isHeader:a===0}));e.openNode(r),e.next(o),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="table",runner:(e,n)=>{var r;const i=(r=n.content.firstChild)==null?void 0:r.content;if(!i)return;const o=[];i.forEach(s=>{o.push(s.attrs.alignment)}),e.openNode("table",void 0,{align:o}),e.next(n.content),e.closeNode()}}},table_row:{...Jl.table_row,parseMarkdown:{match:e=>e.type==="tableRow",runner:(e,n,r)=>{const i=n.align,o=n.children.map((s,a)=>({...s,align:i[a],isHeader:n.isHeader}));e.openNode(r),e.next(o),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="table_row",runner:(e,n)=>{e.openNode("tableRow"),e.next(n.content),e.closeNode()}}},table_cell:{...Jl.table_cell,parseMarkdown:{match:e=>e.type==="tableCell"&&!e.isHeader,runner:(e,n,r)=>{const i=n.align;e.openNode(r,{alignment:i}).openNode(e.schema.nodes.paragraph).next(n.children).closeNode().closeNode()}},toMarkdown:{match:e=>e.type.name==="table_cell",runner:(e,n)=>{e.openNode("tableCell").next(n.content).closeNode()}}},table_header:{...Jl.table_header,parseMarkdown:{match:e=>e.type==="tableCell"&&!!e.isHeader,runner:(e,n,r)=>{const i=n.align;e.openNode(r,{alignment:i}),e.openNode(e.schema.nodes.paragraph),e.next(n.children),e.closeNode(),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="table_header",runner:(e,n)=>{e.openNode("tableCell"),e.next(n.content),e.closeNode()}}}}}),inputRules:(e,n)=>[new gn(/^\|\|\s$/,(r,i,o,s)=>{const a=r.doc.resolve(o);if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e.table))return null;const l=Ch(n.get(ht)),c=r.tr.replaceRangeWith(o,s,l).scrollIntoView();return c.setSelection(le.create(c.doc,o+3))}),new gn(/^\|(?<col>\d+)[xX](?<row>\d+)\|\s$/,(r,i,o,s)=>{var a,l;const c=r.doc.resolve(o);if(!c.node(-1).canReplaceWith(c.index(-1),c.indexAfter(-1),e.table))return null;const u=Ch(n.get(ht),Number((a=i.groups)==null?void 0:a.row),Number((l=i.groups)==null?void 0:l.col)),d=r.tr.replaceRangeWith(o,s,u).scrollIntoView();return d.setSelection(le.create(d.doc,o+3))})],commands:(e,n)=>[_e(vy,()=>gy(-1)),_e(Sy,()=>gy(1)),_e(Ey,()=>Kae(n.get(ht).nodes.paragraph)),_e(zle,()=>(r,i)=>{const{selection:o,tr:s}=r,{from:a}=o,l=Ch(n.get(ht)),c=s.replaceSelectionWith(l),u=ae.findFrom(c.doc.resolve(a),1,!0);return u&&(i==null||i(c.setSelection(u))),!0})],shortcuts:{[Ic.NextCell]:Ue(Sy,"Mod-]"),[Ic.PrevCell]:Ue(vy,"Mod-["),[Ic.ExitTable]:Ue(Ey,"Mod-Enter")},prosePlugins:(e,n)=>[fle(n,t),ble(),wle(),jle()]})),ia={...ct,...Ic,StrikeThrough:"StrikeThrough",TaskList:"TaskList"},Ay=xe("ToggleStrikeThrough"),Fy="strike_through",qle=Ls(t=>({id:Fy,schema:()=>({inclusive:!1,parseDOM:[{tag:"del"},{style:"text-decoration",getAttrs:e=>e==="line-through"}],toDOM:e=>["del",{class:t.getClassName(e.attrs,"strike-through")}],parseMarkdown:{match:e=>e.type==="delete",runner:(e,n,r)=>{e.openMark(r),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name===Fy,runner:(e,n)=>{e.withMark(n,"delete")}}}),commands:e=>[_e(Ay,()=>ed(e))],shortcuts:{[ia.StrikeThrough]:Ue(Ay,"Mod-Alt-x")}})),Ty=xe("SplitTaskListItem"),My=xe("SinkTaskListItem"),Oy=xe("LiftTaskListItem"),Ny=xe("TurnIntoTaskList"),Ule=Ct(t=>{const e="task_list_item";return{id:e,schema:n=>({group:"listItem",content:"paragraph block*",defining:!0,priority:60,attrs:{checked:{default:!1}},parseDOM:[{tag:'li[data-type="task-item"]',getAttrs:r=>{if(!(r instanceof HTMLElement))throw Ht(r);return{checked:r.dataset.checked==="true"}}}],toDOM:r=>{const i=document.createElement("input");return i.type="checkbox",i.checked=r.attrs.checked,i.className=t.getClassName(r.attrs,"task-list-item_checkbox"),i.onchange=o=>{const s=o.target;if(!(s instanceof HTMLInputElement))return;const a=n.get(Je);if(!a.editable){i.checked=!i.checked;return}const{top:l,left:c}=s.getBoundingClientRect(),u=a.posAtCoords({top:l,left:c});if(!u)return;const{tr:d}=a.state;a.dispatch(d.setNodeMarkup(u.inside,void 0,{checked:s.checked}))},["li",{"data-type":"task-item","data-checked":r.attrs.checked?"true":"false",class:t.getClassName(r.attrs,"task-list-item")},i,["span",{class:t.getClassName(r.attrs,"task-list-item_body")},0]]},parseMarkdown:{match:({type:r,checked:i})=>r==="listItem"&&i!==null,runner:(r,i,o)=>{r.openNode(o,{checked:i.checked}),r.next(i.children),r.closeNode()}},toMarkdown:{match:r=>r.type.name===e,runner:(r,i)=>{r.openNode("listItem",void 0,{checked:i.attrs.checked}),r.next(i.content),r.closeNode()}}}),inputRules:n=>[Ns(/^\s*(\[([ |x])\])\s$/,n,r=>({checked:r[r.length-1]==="x"}))],commands:n=>[_e(Ty,()=>oD(n)),_e(My,()=>aD(n)),_e(Oy,()=>sD(n)),_e(Ny,()=>br(n))],shortcuts:{[ia.NextListItem]:Ue(Ty,"Enter"),[ia.SinkListItem]:Ue(My,"Mod-]"),[ia.LiftListItem]:Ue(Oy,"Mod-["),[ia.TaskList]:Ue(Ny,"Mod-Alt-9")},view:()=>(n,r,i)=>{let o=n;const s=t.themeManager.get("task-list-item",{editable:()=>r.editable,onChange:u=>{const{tr:d}=r.state;r.dispatch(d.setNodeMarkup(i(),void 0,{checked:u}))}});if(!s)return{};const{dom:a,contentDOM:l,onUpdate:c}=s;return c(o),{dom:a,contentDOM:l,update:u=>u.type.name!==e?!1:(o=u,c(o),!0)}}}}),Wle=rn.create([...use,O_(()=>Sae),Vle(),qle(),Ule(),Oae(),Tae()]),Hle=/\d/,Gle=["-","_","/","."];function Kle(t=""){if(!Hle.test(t))return t.toUpperCase()===t}function ED(t,e){const n=e!=null?e:Gle,r=[];if(!t||typeof t!="string")return r;let i="",o,s;for(const a of t){const l=n.includes(a);if(l===!0){r.push(i),i="",o=void 0;continue}const c=Kle(a);if(s===!1){if(o===!1&&c===!0){r.push(i),i=a,o=c;continue}if(o===!0&&c===!1&&i.length>1){const u=i[i.length-1];r.push(i.slice(0,Math.max(0,i.length-1))),i=u+a,o=c;continue}}i+=a,o=c,s=l}return r.push(i),r}function Jle(t){return t?t[0].toUpperCase()+t.slice(1):""}function Rm(t){return t?(Array.isArray(t)?t:ED(t)).map(e=>Jle(e)).join(""):""}function Wn(t,e){return t?(Array.isArray(t)?t:ED(t)).map(n=>n.toLowerCase()).join(e!=null?e:"-"):""}const sd=ie([],"componentSchemas"),AD=ie(()=>()=>({}),"renderVue");function FD(t=[]){var e;for(const n of t){n.slots=(e=n.slots)!=null?e:[];for(const r of n.props)r.name=Wn(r.name)}return t.sort((n,r)=>n.name.localeCompare(r.name))}function Yle(t){return e=>e.set(sd,FD(t))}const Xle=(t,e)=>n=>(n.inject(sd,FD(de(t.components))),n.inject(AD,e),r=>{var s,a,l;let i;const o=(s=de(t.content))!=null?s:{key:"",markdown:"",matter:{}};r.set(vc,(l=(a=de(t.content))==null?void 0:a.markdown)!=null?l:""),r.get(cu).markdownUpdated((c,u,d)=>{var p,m;if(d===null||u.trim()===d.trim())return;const{key:f,markdown:h}=(p=de(t.content))!=null?p:{key:"",markdown:"",matter:{}};if(i!==f){i=f;const g=r.get(wi);if(r.get(ts)(g(h))===o.markdown)return}(m=t.onChanged)==null||m.call(t,u)})}),Qle=()=>[{id:"text",icon:"text",content:"Text",command:t=>t.get(ve).call("TurnIntoHeading",0),disabled:(t,e)=>!e.node.type.isTextblock},{id:"h1",icon:"h1",content:"Heading 1",command:t=>t.get(ve).call("TurnIntoHeading",1),disabled:(t,e)=>!e.node.type.isTextblock},{id:"h2",icon:"h2",content:"Heading 2",command:t=>t.get(ve).call("TurnIntoHeading",2),disabled:(t,e)=>!e.node.type.isTextblock},{id:"h3",icon:"h3",content:"Heading 3",command:t=>t.get(ve).call("TurnIntoHeading",3),disabled:(t,e)=>!e.node.type.isTextblock},{id:"bullet_list",icon:"bulletList",content:"Bullet list",command:t=>t.get(ve).call("WrapInBulletList"),disabled:t=>{const e=t.get(Je),n=Lo("bullet_list",e.state.schema);return!br(n)(e.state)}},{id:"ordered_list",icon:"orderedList",content:"Ordered list",command:t=>t.get(ve).call("WrapInOrderedList"),disabled:t=>{const e=t.get(Je),n=Lo("ordered_list",e.state.schema);return!br(n)(e.state)}},{id:"task_list",icon:"taskList",content:"Task list",command:t=>t.get(ve).call("TurnIntoTaskList"),disabled:t=>{const e=t.get(Je),n=Lo("task_list_item",e.state.schema);return!br(n)(e.state)}},{id:"blockquote",icon:"quote",content:"Blockquote",command:t=>t.get(ve).call("WrapInBlockquote"),disabled:t=>{const e=t.get(Je),n=Lo("blockquote",e.state.schema);return!br(n)(e.state)}},{id:"code_fence",icon:"code",content:"Code",command:t=>t.get(ve).call("TurnIntoCodeFence"),disabled:t=>{const e=t.get(Je),n=Lo("fence",e.state.schema);return!Zo(n)(e.state)}}];var us,Mu,TD,Ou,MD;class Zle{constructor(e){Qe(this,Mu);Qe(this,Ou);Fr(this,"dom$");Qe(this,us,void 0);Rt(this,us,e),this.dom$=zs(this,Ou,MD).call(this),zs(this,Mu,TD).call(this)}hide(){this.dom$.classList.add("hide")}show(){this.dom$.classList.remove("hide")}toggle(){this.dom$.classList.toggle("hide")}mount(e){var n;(n=e.dom.parentNode)==null||n.appendChild(this.dom$)}unmount(){this.dom$.remove()}render(e,n){const r=e.dom.parentElement;if(!r)throw En();const i=n.getBoundingClientRect(),o=r.getBoundingClientRect(),s=this.dom$.getBoundingClientRect(),a=i.left-o.left-s.width,l=i.top-o.top+r.scrollTop;this.dom$.style.left=`${a}px`,this.dom$.style.top=`${l}px`}}us=new WeakMap,Mu=new WeakSet,TD=function(){const{themeManager:e,getStyle:n}=me(this,us);e.onFlush(()=>{if(!this.dom$)return;const r=n(({css:i})=>{const o=er(e);return i`
                    position: absolute;
                    color: ${o("solid")};
                    cursor: grab;
                    border-radius: ${e.get(He,"radius")};
                    transition: background-color 0.4s;
                    height: 24px;
                    line-height: 24px;
                    &:hover {
                        color: ${o("primary")};
                        background-color: ${o("background")};
                    }
                    &.hide {
                        display: none;
                    }
                `});if(r){const i=["block-handle",r,"hide"].filter(o=>o!=null).join(" ");this.dom$.className=i}})},Ou=new WeakSet,MD=function(){const{themeManager:e}=me(this,us),n=document.createElement("div");n.draggable=!0;const r=e.get(pt,"dragHandle");return n.appendChild(r.dom),n};var ds,Ki,nl,Ji,hs,fs,Nu,OD,$u,ND,rl;class ece{constructor(e,n,r,i,o){Qe(this,Nu);Qe(this,$u);Fr(this,"dom$");Qe(this,ds,void 0);Qe(this,Ki,void 0);Qe(this,nl,void 0);Qe(this,Ji,void 0);Qe(this,hs,void 0);Qe(this,fs,void 0);Qe(this,rl,e=>{let n=e.target;for(;n&&!n.dataset.id&&n.parentElement;)n=n.parentElement;if(n){const r=n.dataset.id,i=me(this,Ji).find(s=>s.id===r),o=me(this,fs).call(this);o&&(i==null||i.command(me(this,Ki),o))}me(this,hs).hide(),this.hide()});Rt(this,ds,e),Rt(this,Ki,n),Rt(this,nl,r),Rt(this,hs,i),Rt(this,Ji,me(this,nl).call(this,me(this,Ki))),Rt(this,fs,o),this.dom$=zs(this,$u,ND).call(this),zs(this,Nu,OD).call(this)}hide(){this.dom$.classList.add("hide")}show(){this.dom$.classList.remove("hide")}toggle(){this.dom$.classList.toggle("hide")}mount(e){var n;(n=e.dom.parentNode)==null||n.appendChild(this.dom$),this.dom$.addEventListener("click",me(this,rl))}unmount(){this.dom$.remove(),this.dom$.removeEventListener("click",me(this,rl))}render(e,n){const r=e.dom.parentElement;if(!r)throw En();if(me(this,Ji).reduce((d,{disabled:f,id:h})=>{const p=me(this,fs).call(this);if(!p)return d;const m=f(me(this,Ki),p),g=this.dom$.querySelector(`[data-id="${h}"]`);return g?m?(g.classList.add("hide"),d):(g.classList.remove("hide"),!1):d},!0)){this.hide();return}const o=n.getBoundingClientRect(),s=r.getBoundingClientRect(),a=me(this,hs).dom$.getBoundingClientRect(),l=this.dom$.getBoundingClientRect(),c=o.left-s.left-a.width;let u=o.top-s.top+r.scrollTop+a.height;if(s.height+s.top-o.bottom<l.height){const d=o.top-s.top-l.height+r.scrollTop;d>0&&(u=d)}this.dom$.style.left=`${c}px`,this.dom$.style.top=`${u}px`}}ds=new WeakMap,Ki=new WeakMap,nl=new WeakMap,Ji=new WeakMap,hs=new WeakMap,fs=new WeakMap,Nu=new WeakSet,OD=function(){const{themeManager:e,getStyle:n}=me(this,ds);e.onFlush(()=>{if(!this.dom$)return;const r=n(({css:i})=>{const o=er(e);return i`
                    position: absolute;
                    cursor: pointer;
                    background: ${o("surface")};
                    z-index: 2;
                    border-radius: ${e.get(He,"radius")};
                    width: 140px;

                    ${e.get(Xn,void 0)};
                    ${e.get(kt,void 0)}

                    &.hide {
                        display: none;
                    }

                    .block-menu_item {
                        font-size: 14px;
                        display: flex;
                        height: 24px;
                        padding: 4px 10px;
                        align-items: center;
                        justify-content: start;
                        gap: 10px;
                        transition: all 0.4s;

                        &:hover {
                            background: ${o("secondary",.12)};
                            color: ${o("primary")};
                        }

                        &.hide {
                            display: none;
                        }
                    }
                `});if(r){const i=["block-menu",r,"hide"].filter(o=>o!=null).join(" ");this.dom$.className=i}})},$u=new WeakSet,ND=function(){const e=document.createElement("div");return me(this,Ji).forEach(({icon:n,content:r,id:i})=>{const o=document.createElement("div"),s=document.createElement("span");s.textContent=r;let a;typeof n=="string"?a=me(this,ds).themeManager.get(pt,n).dom:a=n,o.appendChild(a),o.appendChild(s),o.dataset.id=i,o.classList.add("block-menu_item"),e.appendChild(o)}),e},rl=new WeakMap;const tce=(t,e)=>{var i;const{state:n}=t,r=n.selection.$anchor;for(let o=r.depth;o>0;o--)if(r.node(o).type.spec.tableRole==="table"){const a=t.posAtCoords({left:e.clientX,top:e.clientY});if(!a)return null;const l=(i=t.dragging)==null?void 0:i.slice;if(!l)return null;const c=t.state.doc.resolve(a.pos),u=qp(t.state.doc,c.pos,l);if(!u)return null;let d=n.tr;d=d.delete(r.before(o),r.after(o));const f=d.mapping.map(u);return d=d.replaceRange(f,f,l).scrollIntoView(),d}return null},nce=(t,e,n)=>{const{node:r}=t.domAtPos(n.pos);let i=r,o=i.parentElement;for(;o&&o!==e&&n.pos===t.posAtDOM(o,0);)i=o,o=o.parentElement;return i},rce=t=>!t.type.isBlock,ice=t=>{let e=t.parent;const n=t.node();return e===n&&(e=t.node(t.depth-1)),!e||e.type.name==="doc"?!1:e.firstChild===n},oce=(t,e,n)=>{const r=e.dom.parentElement;if(!r)throw En();const i=e.posAtDOM(t,0);if(i===0)return null;let o=e.state.doc.resolve(i),s=o.node();for(;s&&(rce(s)||ice(o)||!n(s));)o=e.state.doc.resolve(o.before()),s=o.node();o=e.state.doc.resolve(o.pos-o.parentOffset);const a=nce(e,r,o);return{node:s,$pos:o,el:a}};let $y=null;function sce(){return $y||($y=document.implementation.createHTMLDocument("title"))}const ace={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};function lce(t,e){const n=[];let{openStart:r,openEnd:i,content:o}=e;for(;r>1&&i>1&&o.childCount===1&&o.firstChild.childCount===1;){r-=1,i-=1;const h=o.firstChild;n.push(h.type.name,h.attrs!==h.type.defaultAttrs?h.attrs:null),o=h.content}const s=t.someProp("clipboardSerializer")||mr.fromSchema(t.state.schema),a=sce(),l=a.createElement("div");l.appendChild(s.serializeFragment(o,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType===1&&(u=ace[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){const p=a.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}c=l.firstChild}c&&c.nodeType===1&&c.setAttribute("data-pm-slice",`${r} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);const f=t.someProp("clipboardTextSerializer",h=>h(e))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f}}const Ly=Uo.ie&&Uo.ie_version<15||Uo.ios&&Uo.webkit_version<604;var Lu,ps,Lr,lr,il,ol,Yi,oa,sl,al,ll;class cce{constructor(e,n,r,i){Qe(this,Yi);Fr(this,"blockHandle$");Fr(this,"blockMenu$");Qe(this,Lu,()=>{if(!me(this,Lr))return null;const e=me(this,Lr),n=me(this,Yi,oa);if(re.isSelectable(e.node)){const r=re.create(n.state.doc,e.$pos.pos-1);return n.dispatch(n.state.tr.setSelection(r)),n.focus(),Rt(this,ps,r),r}return null});Qe(this,ps,null);Qe(this,Lr,null);Qe(this,lr,!1);Qe(this,il,void 0);Qe(this,ol,void 0);Qe(this,sl,()=>{me(this,Lu).call(this)});Qe(this,al,()=>{if(!me(this,lr)){requestAnimationFrame(()=>{!me(this,Lr)||(this.blockMenu$.toggle(),this.blockMenu$.render(me(this,Yi,oa),me(this,Lr).el),me(this,Yi,oa).focus())});return}Rt(this,lr,!1),Rt(this,ps,null)});Qe(this,ll,e=>{Rt(this,lr,!0);const n=me(this,ps);if(e.dataTransfer&&n){const r=me(this,Yi,oa),i=n.content();e.dataTransfer.effectAllowed="copyMove";const{dom:o,text:s}=lce(r,i);e.dataTransfer.clearData(),e.dataTransfer.setData(Ly?"Text":"text/html",o.innerHTML),Ly||e.dataTransfer.setData("text/plain",s),r.dragging={slice:i,move:!0}}});Fr(this,"keydownCallback",()=>(this.blockMenu$.hide(),this.blockHandle$.hide(),!1));Fr(this,"mousedownCallback",()=>(this.blockMenu$.hide(),!1));Fr(this,"mousemoveCallback",(e,n)=>{if(!e.editable)return!1;const r=n.target;if(!(r instanceof Element))return me(this,lr)||this.blockHandle$.hide(),!1;const i=oce(r,e,me(this,ol));return Rt(this,Lr,i),i?(this.blockHandle$.show(),this.blockHandle$.render(e,i.el),!1):(me(this,lr)||this.blockHandle$.hide(),!1)});Fr(this,"dropCallback",(e,n)=>{if(me(this,lr)){const r=n,i=tce(e,r);if(Rt(this,lr,!1),i)return e.dispatch(i),r.preventDefault(),!0}return!1});Rt(this,il,e),Rt(this,ol,r),this.blockHandle$=new Zle(n),this.blockMenu$=new ece(n,e,i,this.blockHandle$,()=>me(this,Lr))}mount(e){this.blockHandle$.dom$.addEventListener("mousedown",me(this,sl)),this.blockHandle$.dom$.addEventListener("mouseup",me(this,al)),this.blockHandle$.dom$.addEventListener("dragstart",me(this,ll)),this.blockHandle$.mount(e),this.blockMenu$.mount(e)}unmount(){this.blockHandle$.dom$.removeEventListener("mousedown",me(this,sl)),this.blockHandle$.dom$.removeEventListener("mouseup",me(this,al)),this.blockHandle$.dom$.removeEventListener("dragstart",me(this,ll)),this.blockHandle$.unmount(),this.blockMenu$.unmount()}}Lu=new WeakMap,ps=new WeakMap,Lr=new WeakMap,lr=new WeakMap,il=new WeakMap,ol=new WeakMap,Yi=new WeakSet,oa=function(){return me(this,il).get(Je)},sl=new WeakMap,al=new WeakMap,ll=new WeakMap;const uce=new Se("MILKDOWN_BLOCK"),dce=(t,e,n,r)=>{const i=new cce(t,e,n,r);return new De({key:uce,props:{handleDOMEvents:{drop:(o,s)=>i.dropCallback(o,s),mousemove:(o,s)=>i.mousemoveCallback(o,s),mousedown:()=>i.mousedownCallback(),keydown:()=>i.keydownCallback()}},view:o=>(i.mount(o),{destroy:()=>{i.unmount()}})})},hce=t=>{const{name:e}=t.type;return!(e.startsWith("table")&&e!=="table")},fce=Kr((t,e)=>{var i,o;const n=(i=e==null?void 0:e.filterNodes)!=null?i:hce,r=(o=e==null?void 0:e.configBuilder)!=null?o:Qle;return{prosePlugins:(s,a)=>[dce(a,t,n,r)]}}),pce=rn.create([fce()]),mce=Mm.extend((t,e,n)=>({...t,schema:r=>{const i=t.schema(r);return{...i,attrs:{...i.attrs,filename:{default:""}},parseMarkdown:{match:i.parseMarkdown.match,runner:(o,s,a)=>{var l,c;o.openNode(a,{language:s.lang,filename:((c=(l=s.meta)==null?void 0:l.match(/^\[(.+)\]$/))==null?void 0:c[1])||""}),s.value&&o.addText(s.value),o.closeNode()}},toMarkdown:{match:i.toMarkdown.match,runner:(o,s)=>{var a;o.addNode("code",void 0,((a=s.content.firstChild)==null?void 0:a.text)||"",{lang:s.attrs.language,meta:s.attrs.filename?`[${s.attrs.filename}]`:""})}}}}})),Jn=()=>new Map,uu=t=>{const e=Jn();return t.forEach((n,r)=>{e.set(r,n)}),e},Sr=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},gce=(t,e)=>{const n=[];for(const[r,i]of t)n.push(e(i,r));return n},bce=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},Es=()=>new Set,Eh=t=>t[t.length-1],yce=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},$D=Array.from,Iy=Array.isArray;class ad{constructor(){this._observers=Jn()}on(e,n){Sr(this._observers,e,Es).add(n)}once(e,n){const r=(...i)=>{this.off(e,r),n(...i)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return $D((this._observers.get(e)||Jn()).values()).forEach(r=>r(...n))}destroy(){this._observers=Jn()}}const xr=Math.floor,Rc=Math.abs,_i=(t,e)=>t<e?t:e,Ur=(t,e)=>t>e?t:e,wce=Math.pow,LD=t=>t!==0?t<0:1/t<0,kce=String.fromCharCode,_ce=t=>t.toLowerCase(),Dce=/^\s*/g,xce=t=>t.replace(Dce,""),Cce=/([A-Z])/g,Ry=(t,e)=>xce(t.replace(Cce,n=>`${e}${_ce(n)}`)),vce=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.codePointAt(i);return r},Ba=typeof TextEncoder<"u"?new TextEncoder:null,Sce=t=>Ba.encode(t),Ece=Ba?Sce:vce;let ya=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});ya&&ya.decode(new Uint8Array).length===1&&(ya=null);const By=t=>t===void 0?null:t;class Ace{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let ID=new Ace,RD=!0;try{typeof localStorage<"u"&&(ID=localStorage,RD=!1)}catch{}const BD=ID,Fce=t=>RD||addEventListener("storage",t),PD=Object.keys,Tce=(t,e)=>{const n=[];for(const r in t)n.push(e(t[r],r));return n},du=t=>PD(t).length,Mce=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},jD=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Oce=(t,e)=>t===e||du(t)===du(e)&&Mce(t,(n,r)=>(n!==void 0||jD(e,r))&&e[r]===n),Bm=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&Bm(t,e,n+1)}},Nce=(t,e)=>t===e,wa=(t,e)=>{if(t==null||e==null)return Nce(t,e);if(t.constructor!==e.constructor)return!1;if(t===e)return!0;switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),e=new Uint8Array(e);case Uint8Array:{if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;break}case Set:{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;break}case Map:{if(t.size!==e.size)return!1;for(const n of t.keys())if(!e.has(n)||!wa(t.get(n),e.get(n)))return!1;break}case Object:if(du(t)!==du(e))return!1;for(const n in t)if(!jD(t,n)||!wa(t[n],e[n]))return!1;break;case Array:if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!wa(t[n],e[n]))return!1;break;default:return!1}return!0},$ce=(t,e)=>e.includes(t),go=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name),Pm=typeof window<"u"&&!go;typeof navigator<"u"&&/Mac/.test(navigator.platform);let ir;const Lce=()=>{if(ir===void 0)if(go){ir=Jn();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&ir.set(e,""),e=r):e!==null&&(ir.set(e,r),e=null)}e!==null&&ir.set(e,"")}else typeof location=="object"?(ir=Jn(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");ir.set(`--${Ry(e,"-")}`,n),ir.set(`-${Ry(e,"-")}`,n)}})):ir=Jn();return ir},lp=t=>Lce().has(t),cp=t=>By(go?process.env[t.toUpperCase()]:BD.getItem(t)),Ice=t=>lp("--"+t)||cp(t)!==null;Ice("production");const Py=go&&$ce({}.FORCE_COLOR,["true","1","2"]),Rce=!lp("no-colors")&&(!go||process.stdout.isTTY||Py)&&(!go||lp("color")||Py||cp("COLORTERM")!==null||(cp("TERM")||"").includes("color")),jy=1,zy=2,Ah=4,Fh=8,Pa=32,Vr=64,vn=128,ld=31,up=63,io=127,Bce=2147483647,zD=Number.MAX_SAFE_INTEGER,Pce=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&xr(t)===t),Rs=t=>new Error(t),Yn=()=>{throw Rs("Method unimplemented")},jn=()=>{throw Rs("Unexpected case")},VD=Rs("Unexpected end of array"),qD=Rs("Integer out of Range");class cd{constructor(e){this.arr=e,this.pos=0}}const Li=t=>new cd(t),jce=t=>t.pos!==t.arr.length,zce=(t,e)=>{const n=Vm(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},zt=t=>zce(t,ue(t)),As=t=>t.arr[t.pos++],ue=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const i=t.arr[t.pos++];if(e=e+(i&io)*n,n*=128,i<vn)return e;if(e>zD)throw qD}throw VD},jm=t=>{let e=t.arr[t.pos++],n=e&up,r=64;const i=(e&Vr)>0?-1:1;if((e&vn)===0)return i*n;const o=t.arr.length;for(;t.pos<o;){if(e=t.arr[t.pos++],n=n+(e&io)*r,r*=128,e<vn)return i*n;if(n>zD)throw qD}throw VD},Vce=t=>{let e=ue(t);if(e===0)return"";{let n=String.fromCodePoint(As(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(As(t));else for(;e>0;){const r=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,i),e-=r}return decodeURIComponent(escape(n))}},qce=t=>ya.decode(zt(t)),Di=ya?qce:Vce,zm=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},Uce=t=>zm(t,4).getFloat32(0,!1),Wce=t=>zm(t,8).getFloat64(0,!1),Hce=t=>zm(t,8).getBigInt64(0,!1),Gce=[t=>{},t=>null,jm,Uce,Wce,Hce,t=>!1,t=>!0,Di,t=>{const e=ue(t),n={};for(let r=0;r<e;r++){const i=Di(t);n[i]=ja(t)}return n},t=>{const e=ue(t),n=[];for(let r=0;r<e;r++)n.push(ja(t));return n},zt],ja=t=>Gce[127-As(t)](t);class Vy extends cd{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),jce(this)?this.count=ue(this)+1:this.count=-1),this.count--,this.s}}class Bc extends cd{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=jm(this);const e=LD(this.s);this.count=1,e&&(this.s=-this.s,this.count=ue(this)+2)}return this.count--,this.s}}class Th extends cd{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=jm(this),n=e&1;this.diff=xr(e/2),this.count=1,n&&(this.count=ue(this)+2)}return this.s+=this.diff,this.count--,this.s}}class Kce{constructor(e){this.decoder=new Bc(e),this.str=Di(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const UD=t=>new Uint8Array(t),Vm=(t,e,n)=>new Uint8Array(t,e,n),Jce=t=>new Uint8Array(t),Yce=t=>{let e="";for(let n=0;n<t.byteLength;n++)e+=kce(t[n]);return btoa(e)},Xce=t=>Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),Qce=t=>{const e=atob(t),n=UD(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},Zce=t=>{const e=Buffer.from(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},eue=Pm?Yce:Xce,tue=Pm?Qce:Zce,nue=t=>{const e=UD(t.byteLength);return e.set(t),e};class Fl{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Vt=()=>new Fl,qm=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},Ze=t=>{const e=new Uint8Array(qm(t));let n=0;for(let r=0;r<t.bufs.length;r++){const i=t.bufs[r];e.set(i,n),n+=i.length}return e.set(Vm(t.cbuf.buffer,0,t.cpos),n),e},rue=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(Vm(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Ur(n,e)*2),t.cpos=0)},wt=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},dp=wt,ne=(t,e)=>{for(;e>io;)wt(t,vn|io&e),e=xr(e/128);wt(t,io&e)},Um=(t,e)=>{const n=LD(e);for(n&&(e=-e),wt(t,(e>up?vn:0)|(n?Vr:0)|up&e),e=xr(e/64);e>0;)wt(t,(e>io?vn:0)|io&e),e=xr(e/128)},hp=new Uint8Array(3e4),iue=hp.length/3,oue=(t,e)=>{if(e.length<iue){const n=Ba.encodeInto(e,hp).written||0;ne(t,n);for(let r=0;r<n;r++)wt(t,hp[r])}else ot(t,Ece(e))},sue=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;ne(t,r);for(let i=0;i<r;i++)wt(t,n.codePointAt(i))},oo=Ba&&Ba.encodeInto?oue:sue,ud=(t,e)=>{const n=t.cbuf.length,r=t.cpos,i=_i(n-r,e.length),o=e.length-i;t.cbuf.set(e.subarray(0,i),r),t.cpos+=i,o>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Ur(n*2,o)),t.cbuf.set(e.subarray(i)),t.cpos=o)},ot=(t,e)=>{ne(t,e.byteLength),ud(t,e)},Wm=(t,e)=>{rue(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},aue=(t,e)=>Wm(t,4).setFloat32(0,e,!1),lue=(t,e)=>Wm(t,8).setFloat64(0,e,!1),cue=(t,e)=>Wm(t,8).setBigInt64(0,e,!1),qy=new DataView(new ArrayBuffer(4)),uue=t=>(qy.setFloat32(0,t),qy.getFloat32(0)===t),za=(t,e)=>{switch(typeof e){case"string":wt(t,119),oo(t,e);break;case"number":Pce(e)&&Rc(e)<=Bce?(wt(t,125),Um(t,e)):uue(e)?(wt(t,124),aue(t,e)):(wt(t,123),lue(t,e));break;case"bigint":wt(t,122),cue(t,e);break;case"object":if(e===null)wt(t,126);else if(e instanceof Array){wt(t,117),ne(t,e.length);for(let n=0;n<e.length;n++)za(t,e[n])}else if(e instanceof Uint8Array)wt(t,116),ot(t,e);else{wt(t,118);const n=Object.keys(e);ne(t,n.length);for(let r=0;r<n.length;r++){const i=n[r];oo(t,i),za(t,e[i])}}break;case"boolean":wt(t,e?120:121);break;default:wt(t,127)}};class Uy extends Fl{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&ne(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const Wy=t=>{t.count>0&&(Um(t.encoder,t.count===1?t.s:-t.s),t.count>1&&ne(t.encoder,t.count-2))};class Pc{constructor(){this.encoder=new Fl,this.s=0,this.count=0}write(e){this.s===e?this.count++:(Wy(this),this.count=1,this.s=e)}toUint8Array(){return Wy(this),Ze(this.encoder)}}const Hy=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);Um(t.encoder,e),t.count>1&&ne(t.encoder,t.count-2)}};class Mh{constructor(){this.encoder=new Fl,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(Hy(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return Hy(this),Ze(this.encoder)}}class due{constructor(){this.sarr=[],this.s="",this.lensE=new Pc}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Fl;return this.sarr.push(this.s),this.s="",oo(e,this.sarr.join("")),ud(e,this.lensE.toUint8Array()),Ze(e)}}const Gy=typeof crypto>"u"?null:crypto,hue=Gy!==null?t=>{const e=new ArrayBuffer(t),n=new Uint8Array(e);return Gy.getRandomValues(n),e}:t=>{const e=new ArrayBuffer(t),n=new Uint8Array(e);for(let r=0;r<t;r++)n[r]=Math.ceil(Math.random()*4294967295>>>0);return e},fue=Math.random,WD=()=>new Uint32Array(hue(4))[0],pue=t=>t[xr(fue()*t.length)],mue=[1e7]+-1e3+-4e3+-8e3+-1e11,gue=()=>mue.replace(/[018]/g,t=>(t^WD()&15>>t/4).toString(16)),Fi=Date.now,bue=t=>new Promise(t),Yr=Symbol;class yue{constructor(e,n){this.left=e,this.right=n}}const Tr=(t,e)=>new yue(t,e),Ii=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const wue=t=>gce(t,(e,n)=>`${n}:${e};`).join("");Ii.ELEMENT_NODE;Ii.TEXT_NODE;Ii.CDATA_SECTION_NODE;Ii.COMMENT_NODE;Ii.DOCUMENT_NODE;Ii.DOCUMENT_TYPE_NODE;Ii.DOCUMENT_FRAGMENT_NODE;const kue=t=>class{constructor(n){this._=n}destroy(){t(this._)}},_ue=kue(clearTimeout),hu=(t,e)=>new _ue(setTimeout(e,t)),Hm=Yr(),Gm=Yr(),HD=Yr(),GD=Yr(),KD=Yr(),Km=Yr(),JD=Yr(),Jm=Yr(),YD=Yr(),Due={[Hm]:Tr("font-weight","bold"),[Gm]:Tr("font-weight","normal"),[HD]:Tr("color","blue"),[KD]:Tr("color","green"),[GD]:Tr("color","grey"),[Km]:Tr("color","red"),[JD]:Tr("color","purple"),[Jm]:Tr("color","orange"),[YD]:Tr("color","black")},XD={[Hm]:"\x1B[1m",[Gm]:"\x1B[2m",[HD]:"\x1B[34m",[KD]:"\x1B[32m",[GD]:"\x1B[37m",[Km]:"\x1B[31m",[JD]:"\x1B[35m",[Jm]:"\x1B[38;5;208m",[YD]:"\x1B[0m"},xue=t=>{const e=[],n=[],r=Jn();let i=[],o=0;for(;o<t.length;o++){const s=t[o],a=Due[s];if(a!==void 0)r.set(a.left,a.right);else if(s.constructor===String||s.constructor===Number){const l=wue(r);o>0||l.length>0?(e.push("%c"+s),n.push(l)):e.push(s)}else break}for(o>0&&(i=n,i.unshift(e.join("")));o<t.length;o++){const s=t[o];s instanceof Symbol||i.push(s)}return i},Cue=t=>{const e=[],n=[];let r=0;for(;r<t.length;r++){const i=t[r];if(XD[i]===void 0)if(i.constructor===String||i.constructor===Number)e.push(i);else break}for(r>0&&n.push(e.join(""));r<t.length;r++){const i=t[r];i instanceof Symbol||(i.constructor===Object?n.push(JSON.stringify(i)):n.push(i))}return n},vue=t=>{const e=[],n=[];let r=0;for(;r<t.length;r++){const i=t[r],o=XD[i];if(o!==void 0)e.push(o);else if(i.constructor===String||i.constructor===Number)e.push(i);else break}for(r>0&&(e.push("\x1B[0m"),n.push(e.join("")));r<t.length;r++){const i=t[r];i instanceof Symbol||n.push(i)}return n},Sue=Rce?go?vue:xue:Cue,Eue=(...t)=>{console.log(...Sue(t)),Aue.forEach(e=>e.print(t))},Aue=new Set,QD=t=>({[Symbol.iterator](){return this},next:t}),Fue=(t,e)=>QD(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),Oh=(t,e)=>QD(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}});class Ym{constructor(e,n){this.clock=e,this.len=n}}class Bs{constructor(){this.clients=new Map}}const Wr=(t,e,n)=>e.clients.forEach((r,i)=>{const o=t.doc.store.clients.get(i);for(let s=0;s<r.length;s++){const a=r[s];fx(t,o,a.clock,a.len,n)}}),Tue=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const i=xr((n+r)/2),o=t[i],s=o.clock;if(s<=e){if(e<s+o.len)return i;n=i+1}else r=i-1}return null},Tl=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&Tue(n,e.clock)!==null},Xm=t=>{t.clients.forEach(e=>{e.sort((i,o)=>i.clock-o.clock);let n,r;for(n=1,r=1;n<e.length;n++){const i=e[r-1],o=e[n];i.clock+i.len>=o.clock?i.len=Ur(i.len,o.clock+o.len-i.clock):(r<n&&(e[r]=o),r++)}e.length=r})},fp=t=>{const e=new Bs;for(let n=0;n<t.length;n++)t[n].clients.forEach((r,i)=>{if(!e.clients.has(i)){const o=r.slice();for(let s=n+1;s<t.length;s++)yce(o,t[s].clients.get(i)||[]);e.clients.set(i,o)}});return Xm(e),e},Va=(t,e,n,r)=>{Sr(t.clients,e,()=>[]).push(new Ym(n,r))},Qm=()=>new Bs,ZD=t=>{const e=Qm();return t.clients.forEach((n,r)=>{const i=[];for(let o=0;o<n.length;o++){const s=n[o];if(s.deleted){const a=s.id.clock;let l=s.length;if(o+1<n.length)for(let c=n[o+1];o+1<n.length&&c.deleted;c=n[++o+1])l+=c.length;i.push(new Ym(a,l))}}i.length>0&&e.clients.set(r,i)}),e},Ps=(t,e)=>{ne(t.restEncoder,e.clients.size),e.clients.forEach((n,r)=>{t.resetDsCurVal(),ne(t.restEncoder,r);const i=n.length;ne(t.restEncoder,i);for(let o=0;o<i;o++){const s=n[o];t.writeDsClock(s.clock),t.writeDsLen(s.len)}})},Zm=t=>{const e=new Bs,n=ue(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const i=ue(t.restDecoder),o=ue(t.restDecoder);if(o>0){const s=Sr(e.clients,i,()=>[]);for(let a=0;a<o;a++)s.push(new Ym(t.readDsClock(),t.readDsLen()))}}return e},Ky=(t,e,n)=>{const r=new Bs,i=ue(t.restDecoder);for(let o=0;o<i;o++){t.resetDsCurVal();const s=ue(t.restDecoder),a=ue(t.restDecoder),l=n.clients.get(s)||[],c=st(n,s);for(let u=0;u<a;u++){const d=t.readDsClock(),f=d+t.readDsLen();if(d<c){c<f&&Va(r,s,c,f-c);let h=Cr(l,d),p=l[h];for(!p.deleted&&p.id.clock<d&&(l.splice(h+1,0,yu(e,p,d-p.id.clock)),h++);h<l.length&&(p=l[h++],p.id.clock<f);)p.deleted||(f<p.id.clock+p.length&&l.splice(h,0,yu(e,p,f-p.id.clock)),p.delete(e))}else Va(r,s,d,f-d)}}if(r.clients.size>0){const o=new bo;return ne(o.restEncoder,0),Ps(o,r),o.toUint8Array()}return null},ex=WD;class ko extends ad{constructor({guid:e=gue(),collectionid:n=null,gc:r=!0,gcFilter:i=()=>!0,meta:o=null,autoLoad:s=!1,shouldLoad:a=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=ex(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new dx,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=s,this.meta=o,this.isLoaded=!1,this.whenLoaded=bue(l=>{this.on("load",()=>{this.isLoaded=!0,l(this)})})}load(){const e=this._item;e!==null&&!this.shouldLoad&&Ve(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map(e=>e.guid))}transact(e,n=null){Ve(this,e,n)}get(e,n=Ot){const r=Sr(this.share,e,()=>{const o=new n;return o._integrate(this,null),o}),i=r.constructor;if(n!==Ot&&i!==n)if(i===Ot){const o=new n;o._map=r._map,r._map.forEach(s=>{for(;s!==null;s=s.left)s.parent=o}),o._start=r._start;for(let s=o._start;s!==null;s=s.right)s.parent=o;return o._length=r._length,this.share.set(e,o),o._integrate(this,null),o}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,ss)}getText(e=""){return this.get(e,yo)}getMap(e=""){return this.get(e,Ts)}getXmlFragment(e=""){return this.get(e,Hr)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){$D(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new ko({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,Ve(e.parent.doc,r=>{const i=n.doc;e.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,n){super.on(e,n)}off(e,n){super.off(e,n)}}class tx{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return ue(this.restDecoder)}readDsLen(){return ue(this.restDecoder)}}class nx extends tx{readLeftID(){return he(ue(this.restDecoder),ue(this.restDecoder))}readRightID(){return he(ue(this.restDecoder),ue(this.restDecoder))}readClient(){return ue(this.restDecoder)}readInfo(){return As(this.restDecoder)}readString(){return Di(this.restDecoder)}readParentInfo(){return ue(this.restDecoder)===1}readTypeRef(){return ue(this.restDecoder)}readLen(){return ue(this.restDecoder)}readAny(){return ja(this.restDecoder)}readBuf(){return nue(zt(this.restDecoder))}readJSON(){return JSON.parse(Di(this.restDecoder))}readKey(){return Di(this.restDecoder)}}class Mue{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=ue(this.restDecoder),this.dsCurrVal}readDsLen(){const e=ue(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Fs extends Mue{constructor(e){super(e),this.keys=[],ue(e),this.keyClockDecoder=new Th(zt(e)),this.clientDecoder=new Bc(zt(e)),this.leftClockDecoder=new Th(zt(e)),this.rightClockDecoder=new Th(zt(e)),this.infoDecoder=new Vy(zt(e),As),this.stringDecoder=new Kce(zt(e)),this.parentInfoDecoder=new Vy(zt(e),As),this.typeRefDecoder=new Bc(zt(e)),this.lenDecoder=new Bc(zt(e))}readLeftID(){return new is(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new is(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return ja(this.restDecoder)}readBuf(){return zt(this.restDecoder)}readJSON(){return ja(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class rx{constructor(){this.restEncoder=Vt()}toUint8Array(){return Ze(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){ne(this.restEncoder,e)}writeDsLen(e){ne(this.restEncoder,e)}}class Ml extends rx{writeLeftID(e){ne(this.restEncoder,e.client),ne(this.restEncoder,e.clock)}writeRightID(e){ne(this.restEncoder,e.client),ne(this.restEncoder,e.clock)}writeClient(e){ne(this.restEncoder,e)}writeInfo(e){dp(this.restEncoder,e)}writeString(e){oo(this.restEncoder,e)}writeParentInfo(e){ne(this.restEncoder,e?1:0)}writeTypeRef(e){ne(this.restEncoder,e)}writeLen(e){ne(this.restEncoder,e)}writeAny(e){za(this.restEncoder,e)}writeBuf(e){ot(this.restEncoder,e)}writeJSON(e){oo(this.restEncoder,JSON.stringify(e))}writeKey(e){oo(this.restEncoder,e)}}class ix{constructor(){this.restEncoder=Vt(),this.dsCurrVal=0}toUint8Array(){return Ze(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,ne(this.restEncoder,n)}writeDsLen(e){e===0&&jn(),ne(this.restEncoder,e-1),this.dsCurrVal+=e}}class bo extends ix{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Mh,this.clientEncoder=new Pc,this.leftClockEncoder=new Mh,this.rightClockEncoder=new Mh,this.infoEncoder=new Uy(dp),this.stringEncoder=new due,this.parentInfoEncoder=new Uy(dp),this.typeRefEncoder=new Pc,this.lenEncoder=new Pc}toUint8Array(){const e=Vt();return ne(e,0),ot(e,this.keyClockEncoder.toUint8Array()),ot(e,this.clientEncoder.toUint8Array()),ot(e,this.leftClockEncoder.toUint8Array()),ot(e,this.rightClockEncoder.toUint8Array()),ot(e,Ze(this.infoEncoder)),ot(e,this.stringEncoder.toUint8Array()),ot(e,Ze(this.parentInfoEncoder)),ot(e,this.typeRefEncoder.toUint8Array()),ot(e,this.lenEncoder.toUint8Array()),ud(e,Ze(this.restEncoder)),Ze(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){za(this.restEncoder,e)}writeBuf(e){ot(this.restEncoder,e)}writeJSON(e){za(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const Oue=(t,e,n,r)=>{r=Ur(r,e[0].id.clock);const i=Cr(e,r);ne(t.restEncoder,e.length-i),t.writeClient(n),ne(t.restEncoder,r);const o=e[i];o.write(t,r-o.id.clock);for(let s=i+1;s<e.length;s++)e[s].write(t,0)},eg=(t,e,n)=>{const r=new Map;n.forEach((i,o)=>{st(e,o)>i&&r.set(o,i)}),Ol(e).forEach((i,o)=>{n.has(o)||r.set(o,0)}),ne(t.restEncoder,r.size),Array.from(r.entries()).sort((i,o)=>o[0]-i[0]).forEach(([i,o])=>{Oue(t,e.clients.get(i),i,o)})},Nue=(t,e)=>{const n=Jn(),r=ue(t.restDecoder);for(let i=0;i<r;i++){const o=ue(t.restDecoder),s=new Array(o),a=t.readClient();let l=ue(t.restDecoder);n.set(a,{i:0,refs:s});for(let c=0;c<o;c++){const u=t.readInfo();switch(ld&u){case 0:{const d=t.readLen();s[c]=new Ln(he(a,l),d),l+=d;break}case 10:{const d=ue(t.restDecoder);s[c]=new In(he(a,l),d),l+=d;break}default:{const d=(u&(Vr|vn))===0,f=new Re(he(a,l),null,(u&vn)===vn?t.readLeftID():null,null,(u&Vr)===Vr?t.readRightID():null,d?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,d&&(u&Pa)===Pa?t.readString():null,Lx(t,u));s[c]=f,l+=f.length}}}}return n},$ue=(t,e,n)=>{const r=[];let i=Array.from(n.keys()).sort((h,p)=>h-p);if(i.length===0)return null;const o=()=>{if(i.length===0)return null;let h=n.get(i[i.length-1]);for(;h.refs.length===h.i;)if(i.pop(),i.length>0)h=n.get(i[i.length-1]);else return null;return h};let s=o();if(s===null&&r.length===0)return null;const a=new dx,l=new Map,c=(h,p)=>{const m=l.get(h);(m==null||m>p)&&l.set(h,p)};let u=s.refs[s.i++];const d=new Map,f=()=>{for(const h of r){const p=h.id.client,m=n.get(p);m?(m.i--,a.clients.set(p,m.refs.slice(m.i)),n.delete(p),m.i=0,m.refs=[]):a.clients.set(p,[h]),i=i.filter(g=>g!==p)}r.length=0};for(;;){if(u.constructor!==In){const p=Sr(d,u.id.client,()=>st(e,u.id.client))-u.id.clock;if(p<0)r.push(u),c(u.id.client,u.id.clock-1),f();else{const m=u.getMissing(t,e);if(m!==null){r.push(u);const g=n.get(m)||{refs:[],i:0};if(g.refs.length===g.i)c(m,st(e,m)),f();else{u=g.refs[g.i++];continue}}else(p===0||p<u.length)&&(u.integrate(t,p),d.set(u.id.client,u.id.clock+u.length))}}if(r.length>0)u=r.pop();else if(s!==null&&s.i<s.refs.length)u=s.refs[s.i++];else{if(s=o(),s===null)break;u=s.refs[s.i++]}}if(a.clients.size>0){const h=new bo;return eg(h,a,new Map),ne(h.restEncoder,0),{missing:l,update:h.toUint8Array()}}return null},Lue=(t,e)=>eg(t,e.doc.store,e.beforeState),Iue=(t,e,n,r=new Fs(t))=>Ve(e,i=>{i.local=!1;let o=!1;const s=i.doc,a=s.store,l=Nue(r,s),c=$ue(i,a,l),u=a.pendingStructs;if(u){for(const[f,h]of u.missing)if(h<st(a,f)){o=!0;break}if(c){for(const[f,h]of c.missing){const p=u.missing.get(f);(p==null||p>h)&&u.missing.set(f,h)}u.update=fu([u.update,c.update])}}else a.pendingStructs=c;const d=Ky(r,i,a);if(a.pendingDs){const f=new Fs(Li(a.pendingDs));ue(f.restDecoder);const h=Ky(f,i,a);d&&h?a.pendingDs=fu([d,h]):a.pendingDs=d||h}else a.pendingDs=d;if(o){const f=a.pendingStructs.update;a.pendingStructs=null,ox(i.doc,f)}},n,!1),ox=(t,e,n,r=Fs)=>{const i=Li(e);Iue(i,t,n,new r(i))},sx=(t,e,n)=>ox(t,e,n,nx),Rue=(t,e,n=new Map)=>{eg(t,e.store,n),Ps(t,ZD(e.store))},Bue=(t,e=new Uint8Array([0]),n=new bo)=>{const r=lx(e);Rue(n,t,r);const i=[n.toUint8Array()];if(t.store.pendingDs&&i.push(t.store.pendingDs),t.store.pendingStructs&&i.push(rde(t.store.pendingStructs.update,e)),i.length>1){if(n.constructor===Ml)return tde(i.map((o,s)=>s===0?o:ode(o)));if(n.constructor===bo)return fu(i)}return i[0]},ax=(t,e)=>Bue(t,e,new Ml),Pue=t=>{const e=new Map,n=ue(t.restDecoder);for(let r=0;r<n;r++){const i=ue(t.restDecoder),o=ue(t.restDecoder);e.set(i,o)}return e},lx=t=>Pue(new tx(Li(t))),cx=(t,e)=>(ne(t.restEncoder,e.size),Array.from(e.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{ne(t.restEncoder,n),ne(t.restEncoder,r)}),t),jue=(t,e)=>cx(t,Ol(e.store)),zue=(t,e=new ix)=>(t instanceof Map?cx(e,t):jue(e,t),e.toUint8Array()),Vue=t=>zue(t,new rx);class que{constructor(){this.l=[]}}const Jy=()=>new que,Yy=(t,e)=>t.l.push(e),Xy=(t,e)=>{const n=t.l,r=n.length;t.l=n.filter(i=>e!==i),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},ux=(t,e,n)=>Bm(t.l,[e,n]);class is{constructor(e,n){this.client=e,this.clock=n}}const Wo=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,he=(t,e)=>new is(t,e),qa=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw jn()},Ua=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class Wa{constructor(e,n,r,i=0){this.type=e,this.tname=n,this.item=r,this.assoc=i}}const ka=t=>new Wa(t.type==null?null:he(t.type.client,t.type.clock),t.tname||null,t.item==null?null:he(t.item.client,t.item.clock),t.assoc==null?0:t.assoc);class Uue{constructor(e,n,r=0){this.type=e,this.index=n,this.assoc=r}}const Wue=(t,e,n=0)=>new Uue(t,e,n),Zl=(t,e,n)=>{let r=null,i=null;return t._item===null?i=qa(t):r=he(t._item.id.client,t._item.id.clock),new Wa(r,i,e,n)},Nh=(t,e,n=0)=>{let r=t._start;if(n<0){if(e===0)return Zl(t,null,n);e--}for(;r!==null;){if(!r.deleted&&r.countable){if(r.length>e)return Zl(t,he(r.id.client,r.id.clock+e),n);e-=r.length}if(r.right===null&&n<0)return Zl(t,r.lastId,n);r=r.right}return Zl(t,null,n)},Hue=(t,e)=>{const n=e.store,r=t.item,i=t.type,o=t.tname,s=t.assoc;let a=null,l=0;if(r!==null){if(st(n,r.client)<=r.clock)return null;const c=bp(n,r),u=c.item;if(!(u instanceof Re))return null;if(a=u.parent,a._item===null||!a._item.deleted){l=u.deleted||!u.countable?0:c.diff+(s>=0?0:1);let d=u.left;for(;d!==null;)!d.deleted&&d.countable&&(l+=d.length),d=d.left}}else{if(o!==null)a=e.get(o);else if(i!==null){if(st(n,i.client)<=i.clock)return null;const{item:c}=bp(n,i);if(c instanceof Re&&c.content instanceof tr)a=c.content.type;else return null}else throw jn();s>=0?l=a._length:l=0}return Wue(a,l,t.assoc)},Qy=(t,e)=>t===e||t!==null&&e!==null&&t.tname===e.tname&&Wo(t.item,e.item)&&Wo(t.type,e.type)&&t.assoc===e.assoc;class tg{constructor(e,n){this.ds=e,this.sv=n}}const ng=(t,e)=>new tg(t,e);ng(Qm(),new Map);const Gue=t=>ng(ZD(t.store),Ol(t.store)),Ro=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Tl(e.ds,t.id),pp=(t,e)=>{const n=Sr(t.meta,pp,Es),r=t.doc.store;n.has(e)||(e.sv.forEach((i,o)=>{i<st(r,o)&&cn(t,he(o,i))}),Wr(t,e.ds,i=>{}),n.add(e))};class dx{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Ol=t=>{const e=new Map;return t.clients.forEach((n,r)=>{const i=n[n.length-1];e.set(r,i.id.clock+i.length)}),e},st=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},hx=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw jn()}n.push(e)},Cr=(t,e)=>{let n=0,r=t.length-1,i=t[r],o=i.id.clock;if(o===e)return r;let s=xr(e/(o+i.length-1)*r);for(;n<=r;){if(i=t[s],o=i.id.clock,o<=e){if(e<o+i.length)return s;n=s+1}else r=s-1;s=xr((n+r)/2)}throw jn()},Kue=(t,e)=>{const n=t.clients.get(e.client);return n[Cr(n,e.clock)]},jc=Kue,mp=(t,e,n)=>{const r=Cr(e,n),i=e[r];return i.id.clock<n&&i instanceof Re?(e.splice(r+1,0,yu(t,i,n-i.id.clock)),r+1):r},cn=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[mp(t,n,e.clock)]},Zy=(t,e,n)=>{const r=e.clients.get(n.client),i=Cr(r,n.clock),o=r[i];return n.clock!==o.id.clock+o.length-1&&o.constructor!==Ln&&r.splice(i+1,0,yu(t,o,n.clock-o.id.clock+1)),o},Jue=(t,e,n)=>{const r=t.clients.get(e.id.client);r[Cr(r,e.id.clock)]=n},fx=(t,e,n,r,i)=>{if(r===0)return;const o=n+r;let s=mp(t,e,n),a;do a=e[s++],o<a.id.clock+a.length&&mp(t,e,o),i(a);while(s<e.length&&e[s].id.clock<o)};class Yue{constructor(e,n,r){this.doc=e,this.deleteSet=new Bs,this.beforeState=Ol(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const ew=(t,e)=>e.deleteSet.clients.size===0&&!bce(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(Xm(e.deleteSet),Lue(t,e),Ps(t,e.deleteSet),!0),tw=(t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&Sr(t.changed,e,Es).add(n)},zc=(t,e)=>{const n=t[e-1],r=t[e];n.deleted===r.deleted&&n.constructor===r.constructor&&n.mergeWith(r)&&(t.splice(e,1),r instanceof Re&&r.parentSub!==null&&r.parent._map.get(r.parentSub)===r&&r.parent._map.set(r.parentSub,n))},Xue=(t,e,n)=>{for(const[r,i]of t.clients.entries()){const o=e.clients.get(r);for(let s=i.length-1;s>=0;s--){const a=i[s],l=a.clock+a.len;for(let c=Cr(o,a.clock),u=o[c];c<o.length&&u.id.clock<l;u=o[++c]){const d=o[c];if(a.clock+a.len<=d.id.clock)break;d instanceof Re&&d.deleted&&!d.keep&&n(d)&&d.gc(e,!1)}}}},Que=(t,e)=>{t.clients.forEach((n,r)=>{const i=e.clients.get(r);for(let o=n.length-1;o>=0;o--){const s=n[o],a=_i(i.length-1,1+Cr(i,s.clock+s.len-1));for(let l=a,c=i[l];l>0&&c.id.clock>=s.clock;c=i[--l])zc(i,l)}})},px=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,i=r.store,o=n.deleteSet,s=n._mergeStructs;try{Xm(o),n.afterState=Ol(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const a=[];n.changed.forEach((l,c)=>a.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,l)})),a.push(()=>{n.changedParentTypes.forEach((l,c)=>a.push(()=>{(c._item===null||!c._item.deleted)&&(l=l.filter(u=>u.target._item===null||!u.target._item.deleted),l.forEach(u=>{u.currentTarget=c}),l.sort((u,d)=>u.path.length-d.path.length),ux(c._dEH,l,n))})),a.push(()=>r.emit("afterTransaction",[n,r]))}),Bm(a,[])}finally{r.gc&&Xue(o,i,r.gcFilter),Que(o,i),n.afterState.forEach((u,d)=>{const f=n.beforeState.get(d)||0;if(f!==u){const h=i.clients.get(d),p=Ur(Cr(h,f),1);for(let m=h.length-1;m>=p;m--)zc(h,m)}});for(let u=0;u<s.length;u++){const{client:d,clock:f}=s[u].id,h=i.clients.get(d),p=Cr(h,f);p+1<h.length&&zc(h,p+1),p>0&&zc(h,p)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(Eue(Jm,Hm,"[yjs] ",Gm,Km,"Changed the client-id because another client seems to be using it."),r.clientID=ex()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const u=new Ml;ew(u,n)&&r.emit("update",[u.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const u=new bo;ew(u,n)&&r.emit("updateV2",[u.toUint8Array(),n.origin,r,n])}const{subdocsAdded:a,subdocsLoaded:l,subdocsRemoved:c}=n;(a.size>0||c.size>0||l.size>0)&&(a.forEach(u=>{u.clientID=r.clientID,u.collectionid==null&&(u.collectionid=r.collectionid),r.subdocs.add(u)}),c.forEach(u=>r.subdocs.delete(u)),r.emit("subdocs",[{loaded:l,added:a,removed:c},r,n]),c.forEach(u=>u.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):px(t,e+1)}}},Ve=(t,e,n=null,r=!0)=>{const i=t._transactionCleanups;let o=!1;t._transaction===null&&(o=!0,t._transaction=new Yue(t,n,r),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{e(t._transaction)}finally{if(o){const s=t._transaction===i[0];t._transaction=null,s&&px(i,0)}}};class Zue{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const nw=(t,e,n)=>{Wr(t,n.deletions,r=>{r instanceof Re&&e.scope.some(i=>Ua(i,r))&&ug(r,!1)})},rw=(t,e,n)=>{let r=null,i=null;const o=t.doc,s=t.scope;if(Ve(o,a=>{for(;e.length>0&&r===null;){const l=o.store,c=e.pop(),u=new Set,d=[];let f=!1;Wr(a,c.insertions,h=>{if(h instanceof Re){if(h.redone!==null){let{item:p,diff:m}=bp(l,h.id);m>0&&(p=cn(a,he(p.id.client,p.id.clock+m))),h=p}!h.deleted&&s.some(p=>Ua(p,h))&&d.push(h)}}),Wr(a,c.deletions,h=>{h instanceof Re&&s.some(p=>Ua(p,h))&&!Tl(c.insertions,h.id)&&u.add(h)}),u.forEach(h=>{f=$x(a,h,u,c.insertions,t.ignoreRemoteMapChanges)!==null||f});for(let h=d.length-1;h>=0;h--){const p=d[h];t.deleteFilter(p)&&(p.delete(a),f=!0)}r=f?c:null}a.changed.forEach((l,c)=>{l.has(null)&&c._searchMarker&&(c._searchMarker.length=0)}),i=a},t),r!=null){const a=i.changedParentTypes;t.emit("stack-item-popped",[{stackItem:r,type:n,changedParentTypes:a},t])}return r};class mx extends ad{constructor(e,{captureTimeout:n=500,captureTransaction:r=l=>!0,deleteFilter:i=()=>!0,trackedOrigins:o=new Set([null]),ignoreRemoteMapChanges:s=!1,doc:a=Iy(e)?e[0].doc:e.doc}={}){super(),this.scope=[],this.addToScope(e),this.deleteFilter=i,o.add(this),this.trackedOrigins=o,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.doc=a,this.lastChange=0,this.ignoreRemoteMapChanges=s,this.captureTimeout=n,this.afterTransactionHandler=l=>{if(!this.captureTransaction(l)||!this.scope.some(g=>l.changedParentTypes.has(g))||!this.trackedOrigins.has(l.origin)&&(!l.origin||!this.trackedOrigins.has(l.origin.constructor)))return;const c=this.undoing,u=this.redoing,d=c?this.redoStack:this.undoStack;c?this.stopCapturing():u||this.clear(!1,!0);const f=new Bs;l.afterState.forEach((g,b)=>{const _=l.beforeState.get(b)||0,w=g-_;w>0&&Va(f,b,_,w)});const h=Fi();let p=!1;if(this.lastChange>0&&h-this.lastChange<this.captureTimeout&&d.length>0&&!c&&!u){const g=d[d.length-1];g.deletions=fp([g.deletions,l.deleteSet]),g.insertions=fp([g.insertions,f])}else d.push(new Zue(l.deleteSet,f)),p=!0;!c&&!u&&(this.lastChange=h),Wr(l,l.deleteSet,g=>{g instanceof Re&&this.scope.some(b=>Ua(b,g))&&ug(g,!0)});const m=[{stackItem:d[d.length-1],origin:l.origin,type:c?"redo":"undo",changedParentTypes:l.changedParentTypes},this];p?this.emit("stack-item-added",m):this.emit("stack-item-updated",m)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=Iy(e)?e:[e],e.forEach(n=>{this.scope.every(r=>r!==n)&&this.scope.push(n)})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(r=>{e&&(this.undoStack.forEach(i=>nw(r,this,i)),this.undoStack=[]),n&&(this.redoStack.forEach(i=>nw(r,this,i)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=rw(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=rw(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*ede(t){const e=ue(t.restDecoder);for(let n=0;n<e;n++){const r=ue(t.restDecoder),i=t.readClient();let o=ue(t.restDecoder);for(let s=0;s<r;s++){const a=t.readInfo();if(a===10){const l=ue(t.restDecoder);yield new In(he(i,o),l),o+=l}else if((ld&a)!==0){const l=(a&(Vr|vn))===0,c=new Re(he(i,o),null,(a&vn)===vn?t.readLeftID():null,null,(a&Vr)===Vr?t.readRightID():null,l?t.readParentInfo()?t.readString():t.readLeftID():null,l&&(a&Pa)===Pa?t.readString():null,Lx(t,a));yield c,o+=c.length}else{const l=t.readLen();yield new Ln(he(i,o),l),o+=l}}}}class rg{constructor(e,n){this.gen=ede(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===In);return this.curr}}class ig{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const tde=t=>fu(t,nx,Ml),nde=(t,e)=>{if(t.constructor===Ln){const{client:n,clock:r}=t.id;return new Ln(he(n,r+e),t.length-e)}else if(t.constructor===In){const{client:n,clock:r}=t.id;return new In(he(n,r+e),t.length-e)}else{const n=t,{client:r,clock:i}=n.id;return new Re(he(r,i+e),null,he(r,i+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},fu=(t,e=Fs,n=bo)=>{if(t.length===1)return t[0];const r=t.map(u=>new e(Li(u)));let i=r.map(u=>new rg(u,!0)),o=null;const s=new n,a=new ig(s);for(;i=i.filter(f=>f.curr!==null),i.sort((f,h)=>{if(f.curr.id.client===h.curr.id.client){const p=f.curr.id.clock-h.curr.id.clock;return p===0?f.curr.constructor===h.curr.constructor?0:f.curr.constructor===In?1:-1:p}else return h.curr.id.client-f.curr.id.client}),i.length!==0;){const u=i[0],d=u.curr.id.client;if(o!==null){let f=u.curr,h=!1;for(;f!==null&&f.id.clock+f.length<=o.struct.id.clock+o.struct.length&&f.id.client>=o.struct.id.client;)f=u.next(),h=!0;if(f===null||f.id.client!==d||h&&f.id.clock>o.struct.id.clock+o.struct.length)continue;if(d!==o.struct.id.client)ai(a,o.struct,o.offset),o={struct:f,offset:0},u.next();else if(o.struct.id.clock+o.struct.length<f.id.clock)if(o.struct.constructor===In)o.struct.length=f.id.clock+f.length-o.struct.id.clock;else{ai(a,o.struct,o.offset);const p=f.id.clock-o.struct.id.clock-o.struct.length;o={struct:new In(he(d,o.struct.id.clock+o.struct.length),p),offset:0}}else{const p=o.struct.id.clock+o.struct.length-f.id.clock;p>0&&(o.struct.constructor===In?o.struct.length-=p:f=nde(f,p)),o.struct.mergeWith(f)||(ai(a,o.struct,o.offset),o={struct:f,offset:0},u.next())}}else o={struct:u.curr,offset:0},u.next();for(let f=u.curr;f!==null&&f.id.client===d&&f.id.clock===o.struct.id.clock+o.struct.length&&f.constructor!==In;f=u.next())ai(a,o.struct,o.offset),o={struct:f,offset:0}}o!==null&&(ai(a,o.struct,o.offset),o=null),og(a);const l=r.map(u=>Zm(u)),c=fp(l);return Ps(s,c),s.toUint8Array()},rde=(t,e,n=Fs,r=bo)=>{const i=lx(e),o=new r,s=new ig(o),a=new n(Li(t)),l=new rg(a,!1);for(;l.curr;){const u=l.curr,d=u.id.client,f=i.get(d)||0;if(l.curr.constructor===In){l.next();continue}if(u.id.clock+u.length>f)for(ai(s,u,Ur(f-u.id.clock,0)),l.next();l.curr&&l.curr.id.client===d;)ai(s,l.curr,0),l.next();else for(;l.curr&&l.curr.id.client===d&&l.curr.id.clock+l.curr.length<=f;)l.next()}og(s);const c=Zm(a);return Ps(o,c),o.toUint8Array()},gx=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:Ze(t.encoder.restEncoder)}),t.encoder.restEncoder=Vt(),t.written=0)},ai=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&gx(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),ne(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},og=t=>{gx(t);const e=t.encoder.restEncoder;ne(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];ne(e,r.written),ud(e,r.restEncoder)}},ide=(t,e,n)=>{const r=new e(Li(t)),i=new rg(r,!1),o=new n,s=new ig(o);for(let l=i.curr;l!==null;l=i.next())ai(s,l,0);og(s);const a=Zm(r);return Ps(o,a),o.toUint8Array()},ode=t=>ide(t,Fs,Ml);class dd{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null}get path(){return sde(this.currentTarget,this.target)}deletes(e){return Tl(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const o=n._map.get(i);let s,a;if(this.adds(o)){let l=o.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(o))if(l!==null&&this.deletes(l))s="delete",a=Eh(l.content.getContent());else return;else l!==null&&this.deletes(l)?(s="update",a=Eh(l.content.getContent())):(s="add",a=void 0)}else if(this.deletes(o))s="delete",a=Eh(o.content.getContent());else return;e.set(i,{action:s,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){const n=this.target,r=Es(),i=Es(),o=[];if(e={added:r,deleted:i,delta:o,keys:this.keys},this.transaction.changed.get(n).has(null)){let a=null;const l=()=>{a&&o.push(a)};for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((a===null||a.delete===void 0)&&(l(),a={delete:0}),a.delete+=c.length,i.add(c)):this.adds(c)?((a===null||a.insert===void 0)&&(l(),a={insert:[]}),a.insert=a.insert.concat(c.content.getContent()),r.add(c)):((a===null||a.retain===void 0)&&(l(),a={retain:0}),a.retain+=c.length);a!==null&&a.retain===void 0&&l()}this._changes=e}return e}}const sde=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)i.deleted||r++,i=i.right;n.unshift(r)}e=e._item.parent}return n},bx=80;let sg=0;class ade{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=sg++}}const lde=t=>{t.timestamp=sg++},yx=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=sg++},cde=(t,e,n)=>{if(t.length>=bx){const r=t.reduce((i,o)=>i.timestamp<o.timestamp?i:o);return yx(r,e,n),r}else{const r=new ade(e,n);return t.push(r),r}},hd=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((o,s)=>Rc(e-o.index)<Rc(e-s.index)?o:s);let r=t._start,i=0;for(n!==null&&(r=n.p,i=n.index,lde(n));r.right!==null&&i<e;){if(!r.deleted&&r.countable){if(e<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>e;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&Rc(n.index-i)<r.parent.length/bx?(yx(n,r,i),n):cde(t._searchMarker,r,i)},Ha=(t,e,n)=>{for(let r=t.length-1;r>=0;r--){const i=t[r];if(n>0){let o=i.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)o=o.left,o&&!o.deleted&&o.countable&&(i.index-=o.length);if(o===null||o.marker===!0){t.splice(r,1);continue}i.p=o,o.marker=!0}(e<i.index||n>0&&e===i.index)&&(i.index=Ur(e,i.index+n))}},fd=(t,e,n)=>{const r=t,i=e.changedParentTypes;for(;Sr(i,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;ux(r._eH,n,e)};class Ot{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Jy(),this._dEH=Jy(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw Yn()}clone(){throw Yn()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Yy(this._eH,e)}observeDeep(e){Yy(this._dEH,e)}unobserve(e){Xy(this._eH,e)}unobserveDeep(e){Xy(this._dEH,e)}toJSON(){}}const wx=(t,e,n)=>{e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const i=[];let o=t._start;for(;o!==null&&r>0;){if(o.countable&&!o.deleted){const s=o.content.getContent();if(s.length<=e)e-=s.length;else{for(let a=e;a<s.length&&r>0;a++)i.push(s[a]),r--;e=0}}o=o.right}return i},kx=t=>{const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)e.push(r[i])}n=n.right}return e},_x=(t,e)=>{const n=[];let r=t._start;for(;r!==null;){if(r.countable&&Ro(r,e)){const i=r.content.getContent();for(let o=0;o<i.length;o++)n.push(i[o])}r=r.right}return n},Ga=(t,e)=>{let n=0,r=t._start;for(;r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let o=0;o<i.length;o++)e(i[o],n++,t)}r=r.right}},Dx=(t,e)=>{const n=[];return Ga(t,(r,i)=>{n.push(e(r,i,t))}),n},ude=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}}}},xx=(t,e)=>{const n=hd(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},pu=(t,e,n,r)=>{let i=n;const o=t.doc,s=o.clientID,a=o.store,l=n===null?e._start:n.right;let c=[];const u=()=>{c.length>0&&(i=new Re(he(s,st(a,s)),i,i&&i.lastId,l,l&&l.id,e,null,new wo(c)),i.integrate(t,0),c=[])};r.forEach(d=>{if(d===null)c.push(d);else switch(d.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(d);break;default:switch(u(),d.constructor){case Uint8Array:case ArrayBuffer:i=new Re(he(s,st(a,s)),i,i&&i.lastId,l,l&&l.id,e,null,new Nl(new Uint8Array(d))),i.integrate(t,0);break;case ko:i=new Re(he(s,st(a,s)),i,i&&i.lastId,l,l&&l.id,e,null,new $l(d)),i.integrate(t,0);break;default:if(d instanceof Ot)i=new Re(he(s,st(a,s)),i,i&&i.lastId,l,l&&l.id,e,null,new tr(d)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),u()},Cx=Rs("Length exceeded!"),vx=(t,e,n,r)=>{if(n>e._length)throw Cx;if(n===0)return e._searchMarker&&Ha(e._searchMarker,n,r.length),pu(t,e,null,r);const i=n,o=hd(e,n);let s=e._start;for(o!==null&&(s=o.p,n-=o.index,n===0&&(s=s.prev,n+=s&&s.countable&&!s.deleted?s.length:0));s!==null;s=s.right)if(!s.deleted&&s.countable){if(n<=s.length){n<s.length&&cn(t,he(s.id.client,s.id.clock+n));break}n-=s.length}return e._searchMarker&&Ha(e._searchMarker,i,r.length),pu(t,e,s,r)},dde=(t,e,n)=>{let i=(e._searchMarker||[]).reduce((o,s)=>s.index>o.index?s:o,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return pu(t,e,i,n)},Sx=(t,e,n,r)=>{if(r===0)return;const i=n,o=r,s=hd(e,n);let a=e._start;for(s!==null&&(a=s.p,n-=s.index);a!==null&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&cn(t,he(a.id.client,a.id.clock+n)),n-=a.length);for(;r>0&&a!==null;)a.deleted||(r<a.length&&cn(t,he(a.id.client,a.id.clock+r)),a.delete(t),r-=a.length),a=a.right;if(r>0)throw Cx;e._searchMarker&&Ha(e._searchMarker,i,-o+r)},mu=(t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},ag=(t,e,n,r)=>{const i=e._map.get(n)||null,o=t.doc,s=o.clientID;let a;if(r==null)a=new wo([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:a=new wo([r]);break;case Uint8Array:a=new Nl(r);break;case ko:a=new $l(r);break;default:if(r instanceof Ot)a=new tr(r);else throw new Error("Unexpected content type")}new Re(he(s,st(o.store,s)),i,i&&i.lastId,null,null,e,n,a).integrate(t,0)},lg=(t,e)=>{const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},Ex=t=>{const e={};return t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},Ax=(t,e)=>{const n=t._map.get(e);return n!==void 0&&!n.deleted},ec=t=>Fue(t.entries(),e=>!e[1].deleted);class hde extends dd{constructor(e,n){super(e,n),this._transaction=n}}class ss extends Ot{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new ss;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ss}clone(){const e=new ss;return e.insert(0,this.toArray().map(n=>n instanceof Ot?n.clone():n)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,n){super._callObserver(e,n),fd(this,e,new hde(this,e))}insert(e,n){this.doc!==null?Ve(this.doc,r=>{vx(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?Ve(this.doc,n=>{dde(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?Ve(this.doc,r=>{Sx(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return xx(this,e)}toArray(){return kx(this)}slice(e=0,n=this.length){return wx(this,e,n)}toJSON(){return this.map(e=>e instanceof Ot?e.toJSON():e)}map(e){return Dx(this,e)}forEach(e){Ga(this,e)}[Symbol.iterator](){return ude(this)}_write(e){e.writeTypeRef(Lde)}}const fde=t=>new ss;class pde extends dd{constructor(e,n,r){super(e,n),this.keysChanged=r}}class Ts extends Ot{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new Ts}clone(){const e=new Ts;return this.forEach((n,r)=>{e.set(r,n instanceof Ot?n.clone():n)}),e}_callObserver(e,n){fd(this,e,new pde(this,e,n))}toJSON(){const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];e[r]=i instanceof Ot?i.toJSON():i}}),e}get size(){return[...ec(this._map)].length}keys(){return Oh(ec(this._map),e=>e[0])}values(){return Oh(ec(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Oh(ec(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?Ve(this.doc,n=>{mu(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?Ve(this.doc,r=>{ag(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return lg(this,e)}has(e){return Ax(this,e)}clear(){this.doc!==null?Ve(this.doc,e=>{this.forEach(function(n,r,i){mu(e,i,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(Ide)}}const mde=t=>new Ts,fi=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&Oce(t,e);class gp{constructor(e,n,r,i){this.left=e,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&jn(),this.right.content.constructor){case ft:this.right.deleted||js(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const iw=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case ft:e.right.deleted||js(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&cn(t,he(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},tc=(t,e,n)=>{const r=new Map,i=hd(e,n);if(i){const o=new gp(i.p.left,i.p,i.index,r);return iw(t,o,n-i.index)}else{const o=new gp(null,e._start,0,r);return iw(t,o,n)}},Fx=(t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===ft&&fi(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=t.doc,o=i.clientID;r.forEach((s,a)=>{const l=n.left,c=n.right,u=new Re(he(o,st(i.store,o)),l,l&&l.lastId,c,c&&c.id,e,null,new ft(a,s));u.integrate(t,0),n.right=u,n.forward()})},js=(t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},Tx=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===ft&&fi(e[t.right.content.key]||null,t.right.content.value)))break;t.forward()}},Mx=(t,e,n,r)=>{const i=t.doc,o=i.clientID,s=new Map;for(const a in r){const l=r[a],c=n.currentAttributes.get(a)||null;if(!fi(c,l)){s.set(a,c);const{left:u,right:d}=n;n.right=new Re(he(o,st(i.store,o)),u,u&&u.lastId,d,d&&d.id,e,null,new ft(a,l)),n.right.integrate(t,0),n.forward()}}return s},$h=(t,e,n,r,i)=>{n.currentAttributes.forEach((f,h)=>{i[h]===void 0&&(i[h]=null)});const o=t.doc,s=o.clientID;Tx(n,i);const a=Mx(t,e,n,i),l=r.constructor===String?new Zn(r):r instanceof Ot?new tr(r):new _o(r);let{left:c,right:u,index:d}=n;e._searchMarker&&Ha(e._searchMarker,n.index,l.getLength()),u=new Re(he(s,st(o.store,s)),c,c&&c.lastId,u,u&&u.id,e,null,l),u.integrate(t,0),n.right=u,n.index=d,n.forward(),Fx(t,e,n,a)},ow=(t,e,n,r,i)=>{const o=t.doc,s=o.clientID;Tx(n,i);const a=Mx(t,e,n,i);e:for(;n.right!==null&&(r>0||a.size>0&&(n.right.deleted||n.right.content.constructor===ft));){if(!n.right.deleted)switch(n.right.content.constructor){case ft:{const{key:l,value:c}=n.right.content,u=i[l];if(u!==void 0){if(fi(u,c))a.delete(l);else{if(r===0)break e;a.set(l,c)}n.right.delete(t)}else n.currentAttributes.set(l,c);break}default:r<n.right.length&&cn(t,he(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let l="";for(;r>0;r--)l+=`
`;n.right=new Re(he(s,st(o.store,s)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new Zn(l)),n.right.integrate(t,0),n.forward()}Fx(t,e,n,a)},Ox=(t,e,n,r,i)=>{let o=n;const s=uu(i);for(;o&&(!o.countable||o.deleted);)!o.deleted&&o.content.constructor===ft&&js(s,o.content),o=o.right;let a=0,l=!1;for(;e!==o;){if(n===e&&(l=!0),!e.deleted){const c=e.content;switch(c.constructor){case ft:{const{key:u,value:d}=c;((s.get(u)||null)!==d||(r.get(u)||null)===d)&&(e.delete(t),a++,!l&&(i.get(u)||null)===d&&(r.get(u)||null)!==d&&i.delete(u));break}}}e=e.right}return a},gde=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===ft){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},bde=t=>{let e=0;return Ve(t.doc,n=>{let r=t._start,i=t._start,o=Jn();const s=uu(o);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case ft:js(s,i.content);break;default:e+=Ox(n,r,i,o,s),o=uu(s),r=i;break}i=i.right}}),e},sw=(t,e,n)=>{const r=n,i=uu(e.currentAttributes),o=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case tr:case _o:case Zn:n<e.right.length&&cn(t,he(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}o&&Ox(t,o,e.right,i,e.currentAttributes);const s=(e.left||e.right).parent;return s._searchMarker&&Ha(s._searchMarker,e.index,-r+n),e};class yde extends dd{constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];Ve(e,r=>{const i=new Map,o=new Map;let s=this.target._start,a=null;const l={};let c="",u=0,d=0;const f=()=>{if(a!==null){let h;switch(a){case"delete":h={delete:d},d=0;break;case"insert":h={insert:c},i.size>0&&(h.attributes={},i.forEach((p,m)=>{p!==null&&(h.attributes[m]=p)})),c="";break;case"retain":if(h={retain:u},Object.keys(l).length>0){h.attributes={};for(const p in l)h.attributes[p]=l[p]}u=0;break}n.push(h),a=null}};for(;s!==null;){switch(s.content.constructor){case tr:case _o:this.adds(s)?this.deletes(s)||(f(),a="insert",c=s.content.getContent()[0],f()):this.deletes(s)?(a!=="delete"&&(f(),a="delete"),d+=1):s.deleted||(a!=="retain"&&(f(),a="retain"),u+=1);break;case Zn:this.adds(s)?this.deletes(s)||(a!=="insert"&&(f(),a="insert"),c+=s.content.str):this.deletes(s)?(a!=="delete"&&(f(),a="delete"),d+=s.length):s.deleted||(a!=="retain"&&(f(),a="retain"),u+=s.length);break;case ft:{const{key:h,value:p}=s.content;if(this.adds(s)){if(!this.deletes(s)){const m=i.get(h)||null;fi(m,p)?p!==null&&s.delete(r):(a==="retain"&&f(),fi(p,o.get(h)||null)?delete l[h]:l[h]=p)}}else if(this.deletes(s)){o.set(h,p);const m=i.get(h)||null;fi(m,p)||(a==="retain"&&f(),l[h]=m)}else if(!s.deleted){o.set(h,p);const m=l[h];m!==void 0&&(fi(m,p)?m!==null&&s.delete(r):(a==="retain"&&f(),p===null?delete l[h]:l[h]=p))}s.deleted||(a==="insert"&&f(),js(i,s.content));break}}s=s.right}for(f();n.length>0;){const h=n[n.length-1];if(h.retain!==void 0&&h.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class yo extends Ot{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new yo}clone(){const e=new yo;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new yde(this,e,n),i=e.doc;if(fd(this,e,r),!e.local){let o=!1;for(const[s,a]of e.afterState.entries()){const l=e.beforeState.get(s)||0;if(a!==l&&(fx(e,i.store.clients.get(s),l,a,c=>{!c.deleted&&c.content.constructor===ft&&(o=!0)}),o))break}o||Wr(e,e.deleteSet,s=>{s instanceof Ln||o||s.parent===this&&s.content.constructor===ft&&(o=!0)}),Ve(i,s=>{o?bde(this):Wr(s,s.deleteSet,a=>{a instanceof Ln||a.parent===this&&gde(s,a)})})}}toString(){let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===Zn&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?Ve(this.doc,r=>{const i=new gp(null,this._start,0,new Map);for(let o=0;o<e.length;o++){const s=e[o];if(s.insert!==void 0){const a=!n&&typeof s.insert=="string"&&o===e.length-1&&i.right===null&&s.insert.slice(-1)===`
`?s.insert.slice(0,-1):s.insert;(typeof a!="string"||a.length>0)&&$h(r,this,i,a,s.attributes||{})}else s.retain!==void 0?ow(r,this,i,s.retain,s.attributes||{}):s.delete!==void 0&&sw(r,i,s.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){const i=[],o=new Map,s=this.doc;let a="",l=this._start;function c(){if(a.length>0){const u={};let d=!1;o.forEach((h,p)=>{d=!0,u[p]=h});const f={insert:a};d&&(f.attributes=u),i.push(f),a=""}}return Ve(s,u=>{for(e&&pp(u,e),n&&pp(u,n);l!==null;){if(Ro(l,e)||n!==void 0&&Ro(l,n))switch(l.content.constructor){case Zn:{const d=o.get("ychange");e!==void 0&&!Ro(l,e)?(d===void 0||d.user!==l.id.client||d.type!=="removed")&&(c(),o.set("ychange",r?r("removed",l.id):{type:"removed"})):n!==void 0&&!Ro(l,n)?(d===void 0||d.user!==l.id.client||d.type!=="added")&&(c(),o.set("ychange",r?r("added",l.id):{type:"added"})):d!==void 0&&(c(),o.delete("ychange")),a+=l.content.str;break}case tr:case _o:{c();const d={insert:l.content.getContent()[0]};if(o.size>0){const f={};d.attributes=f,o.forEach((h,p)=>{f[p]=h})}i.push(d);break}case ft:Ro(l,e)&&(c(),js(o,l.content));break}l=l.right}c()},"cleanup"),i}insert(e,n,r){if(n.length<=0)return;const i=this.doc;i!==null?Ve(i,o=>{const s=tc(o,this,e);r||(r={},s.currentAttributes.forEach((a,l)=>{r[l]=a})),$h(o,this,s,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r={}){const i=this.doc;i!==null?Ve(i,o=>{const s=tc(o,this,e);$h(o,this,s,n,r)}):this._pending.push(()=>this.insertEmbed(e,n,r))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?Ve(r,i=>{sw(i,tc(i,this,e),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const i=this.doc;i!==null?Ve(i,o=>{const s=tc(o,this,e);s.right!==null&&ow(o,this,s,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?Ve(this.doc,n=>{mu(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?Ve(this.doc,r=>{ag(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return lg(this,e)}getAttributes(e){return Ex(this)}_write(e){e.writeTypeRef(Rde)}}const wde=t=>new yo;class Lh{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===dn||n.constructor===Hr)&&n._start!==null)e=n._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Hr extends Ot{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Hr}clone(){const e=new Hr;return e.insert(0,this.toArray().map(n=>n instanceof Ot?n.clone():n)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new Lh(this,e)}querySelector(e){e=e.toUpperCase();const r=new Lh(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),Array.from(new Lh(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){fd(this,e,new Dde(this,n,e))}toString(){return Dx(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const i=e.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),Ga(this,o=>{i.insertBefore(o.toDOM(e,n,r),null)}),i}insert(e,n){this.doc!==null?Ve(this.doc,r=>{vx(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)Ve(this.doc,r=>{const i=e&&e instanceof Ot?e._item:e;pu(r,this,i,n)});else{const r=this._prelimContent,i=e===null?0:r.findIndex(o=>o===e)+1;if(i===0&&e!==null)throw Rs("Reference item not found");r.splice(i,0,...n)}}delete(e,n=1){this.doc!==null?Ve(this.doc,r=>{Sx(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return kx(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return xx(this,e)}slice(e=0,n=this.length){return wx(this,e,n)}forEach(e){Ga(this,e)}_write(e){e.writeTypeRef(Pde)}}const kde=t=>new Hr;class dn extends Hr{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new dn(this.nodeName)}clone(){const e=new dn(this.nodeName),n=this.getAttributes();for(const r in n)e.setAttribute(r,n[r]);return e.insert(0,this.toArray().map(r=>r instanceof Ot?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const a in e)r.push(a);r.sort();const i=r.length;for(let a=0;a<i;a++){const l=r[a];n.push(l+'="'+e[l]+'"')}const o=this.nodeName.toLocaleLowerCase(),s=n.length>0?" "+n.join(" "):"";return`<${o}${s}>${super.toString()}</${o}>`}removeAttribute(e){this.doc!==null?Ve(this.doc,n=>{mu(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?Ve(this.doc,r=>{ag(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return lg(this,e)}hasAttribute(e){return Ax(this,e)}getAttributes(){return Ex(this)}toDOM(e=document,n={},r){const i=e.createElement(this.nodeName),o=this.getAttributes();for(const s in o)i.setAttribute(s,o[s]);return Ga(this,s=>{i.appendChild(s.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(e){e.writeTypeRef(Bde),e.writeKey(this.nodeName)}}const _de=t=>new dn(t.readKey());class Dde extends dd{constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class gu extends Ts{constructor(e){super(),this.hookName=e}_copy(){return new gu(this.hookName)}clone(){const e=new gu(this.hookName);return this.forEach((n,r)=>{e.set(r,n)}),e}toDOM(e=document,n={},r){const i=n[this.hookName];let o;return i!==void 0?o=i.createDom(this):o=document.createElement(this.hookName),o.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(o,this),o}_write(e){e.writeTypeRef(jde),e.writeKey(this.hookName)}}const xde=t=>new gu(t.readKey());class Sn extends yo{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new Sn}clone(){const e=new Sn;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,r){const i=e.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(e=>{const n=[];for(const i in e.attributes){const o=[];for(const s in e.attributes[i])o.push({key:s,value:e.attributes[i][s]});o.sort((s,a)=>s.key<a.key?-1:1),n.push({nodeName:i,attrs:o})}n.sort((i,o)=>i.nodeName<o.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){const o=n[i];r+=`<${o.nodeName}`;for(let s=0;s<o.attrs.length;s++){const a=o.attrs[s];r+=` ${a.key}="${a.value}"`}r+=">"}r+=e.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(zde)}}const Cde=t=>new Sn;class cg{constructor(e,n){this.id=e,this.length=n}get deleted(){throw Yn()}mergeWith(e){return!1}write(e,n,r){throw Yn()}integrate(e,n){throw Yn()}}const vde=0;class Ln extends cg{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),hx(e.doc.store,this)}write(e,n){e.writeInfo(vde),e.writeLen(this.length-n)}getMissing(e,n){return null}}class Nl{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Nl(this.content)}splice(e){throw Yn()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const Sde=t=>new Nl(t.readBuf());class Ka{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Ka(this.len)}splice(e){const n=new Ka(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){Va(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const Ede=t=>new Ka(t.readLen()),Nx=(t,e)=>new ko({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class $l{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new $l(Nx(this.doc.guid,this.opts))}splice(e){throw Yn()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const Ade=t=>new $l(Nx(t.readString(),t.readAny()));class _o{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new _o(this.embed)}splice(e){throw Yn()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const Fde=t=>new _o(t.readJSON());class ft{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new ft(this.key,this.value)}splice(e){throw Yn()}mergeWith(e){return!1}integrate(e,n){n.parent._searchMarker=null}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const Tde=t=>new ft(t.readKey(),t.readJSON());class bu{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new bu(this.arr)}splice(e){const n=new bu(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const o=this.arr[i];e.writeString(o===void 0?"undefined":JSON.stringify(o))}}getRef(){return 2}}const Mde=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const i=t.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new bu(n)};class wo{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new wo(this.arr)}splice(e){const n=new wo(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const o=this.arr[i];e.writeAny(o)}}getRef(){return 8}}const Ode=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new wo(n)};class Zn{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Zn(this.str)}splice(e){const n=new Zn(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"\uFFFD",n.str="\uFFFD"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const Nde=t=>new Zn(t.readString()),$de=[fde,mde,wde,_de,kde,xde,Cde],Lde=0,Ide=1,Rde=2,Bde=3,Pde=4,jde=5,zde=6;class tr{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new tr(this.type._copy())}splice(e){throw Yn()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const Vde=t=>new tr($de[t.readTypeRef()](t)),bp=(t,e)=>{let n=e,r=0,i;do r>0&&(n=he(n.client,n.clock+r)),i=jc(t,n),r=n.clock-i.id.clock,n=i.redone;while(n!==null&&i instanceof Re);return{item:i,diff:r}},ug=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},yu=(t,e,n)=>{const{client:r,clock:i}=e.id,o=new Re(he(r,i+n),e,he(r,i+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&o.markDeleted(),e.keep&&(o.keep=!0),e.redone!==null&&(o.redone=he(e.redone.client,e.redone.clock+n)),e.right=o,o.right!==null&&(o.right.left=o),t._mergeStructs.push(o),o.parentSub!==null&&o.right===null&&o.parent._map.set(o.parentSub,o),e.length=n,o},$x=(t,e,n,r,i)=>{const o=t.doc,s=o.store,a=o.clientID,l=e.redone;if(l!==null)return cn(t,l);let c=e.parent._item,u=null,d;if(c!==null&&c.deleted===!0){if(c.redone===null&&(!n.has(c)||$x(t,c,n,r,i)===null))return null;for(;c.redone!==null;)c=cn(t,c.redone)}const f=c===null?e.parent:c.content.type;if(e.parentSub===null){for(u=e.left,d=e;u!==null;){let g=u;for(;g!==null&&g.parent._item!==c;)g=g.redone===null?null:cn(t,g.redone);if(g!==null&&g.parent._item===c){u=g;break}u=u.left}for(;d!==null;){let g=d;for(;g!==null&&g.parent._item!==c;)g=g.redone===null?null:cn(t,g.redone);if(g!==null&&g.parent._item===c){d=g;break}d=d.right}}else if(d=null,e.right&&!i){for(u=e;u!==null&&u.right!==null&&Tl(r,u.right.id);)u=u.right;for(;u!==null&&u.redone!==null;)u=cn(t,u.redone);if(u&&u.right!==null)return null}else u=f._map.get(e.parentSub)||null;const h=st(s,a),p=he(a,h),m=new Re(p,u,u&&u.lastId,d,d&&d.id,f,e.parentSub,e.content.copy());return e.redone=p,ug(m,!0),m.integrate(t,0),m};class Re extends cg{constructor(e,n,r,i,o,s,a,l){super(e,l.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=o,this.parent=s,this.parentSub=a,this.redone=null,this.content=l,this.info=this.content.isCountable()?zy:0}set marker(e){(this.info&Fh)>0!==e&&(this.info^=Fh)}get marker(){return(this.info&Fh)>0}get keep(){return(this.info&jy)>0}set keep(e){this.keep!==e&&(this.info^=jy)}get countable(){return(this.info&zy)>0}get deleted(){return(this.info&Ah)>0}set deleted(e){this.deleted!==e&&(this.info^=Ah)}markDeleted(){this.info|=Ah}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=st(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=st(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===is&&this.id.client!==this.parent.client&&this.parent.clock>=st(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Zy(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=cn(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===Ln||this.right&&this.right.constructor===Ln)&&(this.parent=null),!this.parent)this.left&&this.left.constructor===Re&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Re&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===is){const r=jc(n,this.parent);r.constructor===Ln?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=Zy(e,e.doc.store,he(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const o=new Set,s=new Set;for(;i!==null&&i!==this.right;){if(s.add(i),o.add(i),Wo(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,o.clear();else if(Wo(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&s.has(jc(e.doc.store,i.origin)))o.has(jc(e.doc.store,i.origin))||(r=i,o.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),hx(e.doc.store,this),this.content.integrate(e,this),tw(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Ln(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:he(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Wo(e.origin,this.lastId)&&this.right===e&&Wo(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Va(e.deleteSet,this.id.client,this.id.clock,this.length),tw(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw jn();this.content.gc(e),n?Jue(e,this,new Ln(this.id,this.length)):this.content=new Ka(this.length)}write(e,n){const r=n>0?he(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,o=this.parentSub,s=this.content.getRef()&ld|(r===null?0:vn)|(i===null?0:Vr)|(o===null?0:Pa);if(e.writeInfo(s),r!==null&&e.writeLeftID(r),i!==null&&e.writeRightID(i),r===null&&i===null){const a=this.parent;if(a._item!==void 0){const l=a._item;if(l===null){const c=qa(a);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(l.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===is?(e.writeParentInfo(!1),e.writeLeftID(a)):jn();o!==null&&e.writeString(o)}this.content.write(e,n)}}const Lx=(t,e)=>qde[e&ld](t),qde=[()=>{jn()},Ede,Mde,Sde,Nde,Fde,Tde,Vde,Ode,Ade,()=>{jn()}],Ude=10;class In extends cg{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){jn()}write(e,n){e.writeInfo(Ude),ne(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const Ix=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},Rx="__ $YJS$ __";Ix[Rx]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");Ix[Rx]=!0;const Ih=3e4;class Wde extends ad{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const n=Fi();this.getLocalState()!==null&&Ih/2<=n-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const r=[];this.meta.forEach((i,o)=>{o!==this.clientID&&Ih<=n-i.lastUpdated&&this.states.has(o)&&r.push(o)}),r.length>0&&dg(this,r,"timeout")},xr(Ih/10)),e.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const n=this.clientID,r=this.meta.get(n),i=r===void 0?0:r.clock+1,o=this.states.get(n);e===null?this.states.delete(n):this.states.set(n,e),this.meta.set(n,{clock:i,lastUpdated:Fi()});const s=[],a=[],l=[],c=[];e===null?c.push(n):o==null?e!=null&&s.push(n):(a.push(n),wa(o,e)||l.push(n)),(s.length>0||l.length>0||c.length>0)&&this.emit("change",[{added:s,updated:l,removed:c},"local"]),this.emit("update",[{added:s,updated:a,removed:c},"local"])}setLocalStateField(e,n){const r=this.getLocalState();r!==null&&this.setLocalState({...r,[e]:n})}getStates(){return this.states}}const dg=(t,e,n)=>{const r=[];for(let i=0;i<e.length;i++){const o=e[i];if(t.states.has(o)){if(t.states.delete(o),o===t.clientID){const s=t.meta.get(o);t.meta.set(o,{clock:s.clock+1,lastUpdated:Fi()})}r.push(o)}}r.length>0&&(t.emit("change",[{added:[],updated:[],removed:r},n]),t.emit("update",[{added:[],updated:[],removed:r},n]))},_a=(t,e,n=t.states)=>{const r=e.length,i=Vt();ne(i,r);for(let o=0;o<r;o++){const s=e[o],a=n.get(s)||null,l=t.meta.get(s).clock;ne(i,s),ne(i,l),oo(i,JSON.stringify(a))}return Ze(i)},Hde=(t,e,n)=>{const r=Li(e),i=Fi(),o=[],s=[],a=[],l=[],c=ue(r);for(let u=0;u<c;u++){const d=ue(r);let f=ue(r);const h=JSON.parse(Di(r)),p=t.meta.get(d),m=t.states.get(d),g=p===void 0?0:p.clock;(g<f||g===f&&h===null&&t.states.has(d))&&(h===null?d===t.clientID&&t.getLocalState()!=null?f++:t.states.delete(d):t.states.set(d,h),t.meta.set(d,{clock:f,lastUpdated:i}),p===void 0&&h!==null?o.push(d):p!==void 0&&h===null?l.push(d):h!==null&&(wa(h,m)||a.push(d),s.push(d)))}(o.length>0||a.length>0||l.length>0)&&t.emit("change",[{added:o,updated:a,removed:l},n]),(o.length>0||s.length>0||l.length>0)&&t.emit("update",[{added:o,updated:s,removed:l},n])},Gde=()=>{let t=!0;return(e,n)=>{if(t){t=!1;try{e()}finally{t=!0}}else n!==void 0&&n()}},Kde=(t,e)=>{let n=0,r=0;for(;n<t.length&&n<e.length&&t[n]===e[n];)n++;for(;r+n<t.length&&r+n<e.length&&t[t.length-r-1]===e[e.length-r-1];)r++;return{index:n,remove:t.length-n-r,insert:e.slice(n,e.length-r)}},Jde=Kde,Ke=new Se("y-sync"),so=new Se("y-undo"),sa=new Se("yjs-cursor"),wu=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&e.sv.get(t.id.client)>t.id.clock&&!Tl(e.ds,t.id),Yde=[{light:"#ecd44433",dark:"#ecd444"}],Xde=(t,e,n)=>{if(!t.has(n)){if(t.size<e.length){const r=Es();t.forEach(i=>r.add(i)),e=e.filter(i=>!r.has(i))}t.set(n,pue(e))}return t.get(n)},Qde=(t,{colors:e=Yde,colorMapping:n=new Map,permanentUserData:r=null,onFirstRender:i=()=>{}}={})=>{let o=!1,s;const a=new De({props:{editable:l=>{const c=Ke.getState(l);return c.snapshot==null&&c.prevSnapshot==null}},key:Ke,state:{init:(l,c)=>({type:t,doc:t.doc,binding:null,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:e,colorMapping:n,permanentUserData:r}),apply:(l,c)=>{const u=l.getMeta(Ke);if(u!==void 0){c=Object.assign({},c);for(const d in u)c[d]=u[d]}return c.addToHistory=l.getMeta("addToHistory")!==!1,c.isChangeOrigin=u!==void 0&&!!u.isChangeOrigin,c.isUndoRedoOperation=u!==void 0&&!!u.isChangeOrigin&&!!u.isUndoRedoOperation,c.binding!==null&&u!==void 0&&(u.snapshot!=null||u.prevSnapshot!=null)&&hu(0,()=>{c.binding==null||c.binding.isDestroyed||(u.restore==null?c.binding._renderSnapshot(u.snapshot,u.prevSnapshot,c):(c.binding._renderSnapshot(u.snapshot,u.snapshot,c),delete c.restore,delete c.snapshot,delete c.prevSnapshot,c.binding.mux(()=>{c.binding._prosemirrorChanged(c.binding.prosemirrorView.state.doc)})))}),c}},view:l=>{const c=new ehe(t,l);return s!=null&&s.destroy(),s=hu(0,()=>{c._forceRerender(),l.dispatch(l.state.tr.setMeta(Ke,{binding:c})),i()}),{update:()=>{const u=a.getState(l.state);if(u.snapshot==null&&u.prevSnapshot==null&&(o||l.state.doc.content.findDiffStart(l.state.doc.type.createAndFill().content)!==null)){if(o=!0,u.addToHistory===!1&&!u.isChangeOrigin){const d=so.getState(l.state),f=d&&d.undoManager;f&&f.stopCapturing()}c.mux(()=>{u.doc.transact(d=>{d.meta.set("addToHistory",u.addToHistory),c._prosemirrorChanged(l.state.doc)},Ke)})}},destroy:()=>{s.destroy(),c.destroy()}}}});return a},Zde=(t,e,n)=>{if(e!==null&&e.anchor!==null&&e.head!==null){const r=Ya(n.doc,n.type,e.anchor,n.mapping),i=Ya(n.doc,n.type,e.head,n.mapping);r!==null&&i!==null&&(t=t.setSelection(le.create(t.doc,r,i)))}},yp=(t,e)=>({anchor:Du(e.selection.anchor,t.type,t.mapping),head:Du(e.selection.head,t.type,t.mapping)});class ehe{constructor(e,n){this.type=e,this.prosemirrorView=n,this.mux=Gde(),this.isDestroyed=!1,this.mapping=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&(this.beforeTransactionSelection=yp(this,n.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),e.observeDeep(this._observeFunction),this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(Pm&&this._domSelectionInView===null&&(hu(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const e=this.prosemirrorView._root.getSelection(),n=this.prosemirrorView._root.createRange();n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.getClientRects().length===0&&n.startContainer&&n.collapsed&&n.selectNodeContents(n.startContainer);const i=n.getBoundingClientRect(),o=Ii.documentElement;return i.bottom>=0&&i.right>=0&&i.left<=(window.innerWidth||o.clientWidth||0)&&i.top<=(window.innerHeight||o.clientHeight||0)}renderSnapshot(e,n){n||(n=ng(Qm(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(Ke,{snapshot:e,prevSnapshot:n}))}unrenderSnapshot(){this.mapping=new Map,this.mux(()=>{const e=this.type.toArray().map(r=>Vc(r,this.prosemirrorView.state.schema,this.mapping)).filter(r=>r!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new K(z.from(e),0,0));n.setMeta(Ke,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(n)})}_forceRerender(){this.mapping=new Map,this.mux(()=>{const e=this.type.toArray().map(r=>Vc(r,this.prosemirrorView.state.schema,this.mapping)).filter(r=>r!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new K(z.from(e),0,0));this.prosemirrorView.dispatch(n.setMeta(Ke,{isChangeOrigin:!0}))})}_renderSnapshot(e,n,r){e||(e=Gue(this.doc)),this.mapping=new Map,this.mux(()=>{this.doc.transact(i=>{const o=r.permanentUserData;o&&o.dss.forEach(c=>{Wr(i,c,u=>{})});const s=(c,u)=>{const d=c==="added"?o.getUserByClientId(u.client):o.getUserByDeletedId(u);return{user:d,type:c,color:Xde(r.colorMapping,r.colors,d)}},a=_x(this.type,new tg(n.ds,e.sv)).map(c=>!c._item.deleted||wu(c._item,e)||wu(c._item,n)?Vc(c,this.prosemirrorView.state.schema,new Map,e,n,s):null).filter(c=>c!==null),l=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new K(z.from(a),0,0));this.prosemirrorView.dispatch(l.setMeta(Ke,{isChangeOrigin:!0}))},Ke)})}_typeChanged(e,n){const r=Ke.getState(this.prosemirrorView.state);if(e.length===0||r.snapshot!=null||r.prevSnapshot!=null){this.renderSnapshot(r.snapshot,r.prevSnapshot);return}this.mux(()=>{const i=(a,l)=>this.mapping.delete(l);Wr(n,n.deleteSet,a=>a.constructor===Re&&this.mapping.delete(a.content.type)),n.changed.forEach(i),n.changedParentTypes.forEach(i);const o=this.type.toArray().map(a=>Bx(a,this.prosemirrorView.state.schema,this.mapping)).filter(a=>a!==null);let s=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new K(z.from(o),0,0));Zde(s,this.beforeTransactionSelection,this),s=s.setMeta(Ke,{isChangeOrigin:!0,isUndoRedoOperation:n.origin instanceof mx}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&s.scrollIntoView(),this.prosemirrorView.dispatch(s)})}_prosemirrorChanged(e){this.doc.transact(()=>{_u(this.doc,this.type,e,this.mapping),this.beforeTransactionSelection=yp(this,this.prosemirrorView.state)},Ke)}destroy(){this.isDestroyed=!0,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions)}}const Bx=(t,e,n,r,i,o)=>{const s=n.get(t);if(s===void 0){if(t instanceof dn)return Vc(t,e,n,r,i,o);throw Yn()}return s},Vc=(t,e,n,r,i,o)=>{const s=[],a=l=>{if(l.constructor===dn){const c=Bx(l,e,n,r,i,o);c!==null&&s.push(c)}else{const c=the(l,e,n,r,i,o);c!==null&&c.forEach(u=>{u!==null&&s.push(u)})}};r===void 0||i===void 0?t.toArray().forEach(a):_x(t,new tg(i.ds,r.sv)).forEach(a);try{const l=t.getAttributes(r);r!==void 0&&(wu(t._item,r)?wu(t._item,i)||(l.ychange=o?o("added",t._item.id):{type:"added"}):l.ychange=o?o("removed",t._item.id):{type:"removed"});const c=e.node(t.nodeName,l,s);return n.set(t,c),c}catch{return t.doc.transact(c=>{t._item.delete(c)},Ke),n.delete(t),null}},the=(t,e,n,r,i,o)=>{const s=[],a=t.toDelta(r,i,o);try{for(let l=0;l<a.length;l++){const c=a[l],u=[];for(const d in c.attributes)u.push(e.mark(d,c.attributes[d]));s.push(e.text(c.insert,u))}}catch{return t.doc.transact(c=>{t._item.delete(c)},Ke),null}return s},nhe=(t,e)=>{const n=new Sn,r=t.map(i=>({insert:i.text,attributes:jx(i.marks)}));return n.applyDelta(r),e.set(n,t),n},rhe=(t,e)=>{const n=new dn(t.type.name);for(const r in t.attrs){const i=t.attrs[r];i!==null&&r!=="ychange"&&n.setAttribute(r,i)}return n.insert(0,pd(t).map(r=>wp(r,e))),e.set(n,t),n},wp=(t,e)=>t instanceof Array?nhe(t,e):rhe(t,e),aw=t=>typeof t=="object"&&t!==null,hg=(t,e)=>{const n=Object.keys(t).filter(i=>t[i]!==null);let r=n.length===Object.keys(e).filter(i=>e[i]!==null).length;for(let i=0;i<n.length&&r;i++){const o=n[i],s=t[o],a=e[o];r=o==="ychange"||s===a||aw(s)&&aw(a)&&hg(s,a)}return r},pd=t=>{const e=t.content.content,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(i.isText){const o=[];for(let s=e[r];r<e.length&&s.isText;s=e[++r])o.push(s);r--,n.push(o)}else n.push(i)}return n},Px=(t,e)=>{const n=t.toDelta();return n.length===e.length&&n.every((r,i)=>r.insert===e[i].text&&PD(r.attributes||{}).length===e[i].marks.length&&e[i].marks.every(o=>hg(r.attributes[o.type.name]||{},o.attrs)))},Ja=(t,e)=>{if(t instanceof dn&&!(e instanceof Array)&&kp(t,e)){const n=pd(e);return t._length===n.length&&hg(t.getAttributes(),e.attrs)&&t.toArray().every((r,i)=>Ja(r,n[i]))}return t instanceof Sn&&e instanceof Array&&Px(t,e)},ku=(t,e)=>t===e||t instanceof Array&&e instanceof Array&&t.length===e.length&&t.every((n,r)=>e[r]===n),lw=(t,e,n)=>{const r=t.toArray(),i=pd(e),o=i.length,s=r.length,a=_i(s,o);let l=0,c=0,u=!1;for(;l<a;l++){const d=r[l],f=i[l];if(ku(n.get(d),f))u=!0;else if(!Ja(d,f))break}for(;l+c<a;c++){const d=r[s-c-1],f=i[o-c-1];if(ku(n.get(d),f))u=!0;else if(!Ja(d,f))break}return{equalityFactor:l+c,foundMappedChild:u}},ihe=t=>{let e="",n=t._start;const r={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof Zn?e+=n.content.str:n.content instanceof ft&&(r[n.content.key]=null)),n=n.right;return{str:e,nAttrs:r}},ohe=(t,e,n)=>{n.set(t,e);const{nAttrs:r,str:i}=ihe(t),o=e.map(c=>({insert:c.text,attributes:Object.assign({},r,jx(c.marks))})),{insert:s,remove:a,index:l}=Jde(i,o.map(c=>c.insert).join(""));t.delete(l,a),t.insert(l,s),t.applyDelta(o.map(c=>({retain:c.insert.length,attributes:c.attributes})))},jx=t=>{const e={};return t.forEach(n=>{n.type.name!=="ychange"&&(e[n.type.name]=n.attrs)}),e},_u=(t,e,n,r)=>{if(e instanceof dn&&e.nodeName!==n.type.name)throw new Error("node name mismatch!");if(r.set(e,n),e instanceof dn){const d=e.getAttributes(),f=n.attrs;for(const h in f)f[h]!==null?d[h]!==f[h]&&h!=="ychange"&&e.setAttribute(h,f[h]):e.removeAttribute(h);for(const h in d)f[h]===void 0&&e.removeAttribute(h)}const i=pd(n),o=i.length,s=e.toArray(),a=s.length,l=_i(o,a);let c=0,u=0;for(;c<l;c++){const d=s[c],f=i[c];if(!ku(r.get(d),f))if(Ja(d,f))r.set(d,f);else break}for(;u+c+1<l;u++){const d=s[a-u-1],f=i[o-u-1];if(!ku(r.get(d),f))if(Ja(d,f))r.set(d,f);else break}t.transact(()=>{for(;a-c-u>0&&o-c-u>0;){const f=s[c],h=i[c],p=s[a-u-1],m=i[o-u-1];if(f instanceof Sn&&h instanceof Array)Px(f,h)||ohe(f,h,r),c+=1;else{let g=f instanceof dn&&kp(f,h),b=p instanceof dn&&kp(p,m);if(g&&b){const _=lw(f,h,r),w=lw(p,m,r);_.foundMappedChild&&!w.foundMappedChild?b=!1:!_.foundMappedChild&&w.foundMappedChild||_.equalityFactor<w.equalityFactor?g=!1:b=!1}g?(_u(t,f,h,r),c+=1):b?(_u(t,p,m,r),u+=1):(e.delete(c,1),e.insert(c,[wp(h,r)]),c+=1)}}const d=a-c-u;if(a===1&&o===0&&s[0]instanceof Sn?s[0].delete(0,s[0].length):d>0&&e.delete(c,d),c+u<o){const f=[];for(let h=c;h<o-u;h++)f.push(wp(i[h],r));e.insert(c,f)}},Ke)},kp=(t,e)=>!(e instanceof Array)&&t.nodeName===e.type.name;let Da=null;const she=()=>{const t=Da;Da=null,t.forEach((e,n)=>{const r=n.state.tr,i=Ke.getState(n.state);i&&i.binding&&!i.binding.isDestroyed&&(e.forEach((o,s)=>{r.setMeta(s,o)}),n.dispatch(r))})},ahe=(t,e,n)=>{Da||(Da=new Map,hu(0,she)),Sr(Da,t,Jn).set(e,n)},Du=(t,e,n)=>{if(t===0)return Nh(e,0);let r=e._first===null?null:e._first.content.type;for(;r!==null&&e!==r;){if(r instanceof Sn){if(r._length>=t)return Nh(r,t);if(t-=r._length,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{do r=r._item===null?null:r._item.parent,t--;while(r!==e&&r!==null&&r._item!==null&&r._item.next===null);r!==null&&r!==e&&(r=r._item===null?null:r._item.next.content.type)}}else{const i=(n.get(r)||{nodeSize:0}).nodeSize;if(r._first!==null&&t<i)r=r._first.content.type,t--;else{if(t===1&&r._length===0&&i>1)return new Wa(r._item===null?null:r._item.id,r._item===null?qa(r):null,null);if(t-=i,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{if(t===0)return r=r._item===null?r:r._item.parent,new Wa(r._item===null?null:r._item.id,r._item===null?qa(r):null,null);do r=r._item.parent,t--;while(r!==e&&r._item.next===null);r!==e&&(r=r._item.next.content.type)}}}if(r===null)throw jn();if(t===0&&r.constructor!==Sn&&r!==e)return lhe(r._item.parent,r._item)}return Nh(e,e._length)},lhe=(t,e)=>{let n=null,r=null;return t._item===null?r=qa(t):n=he(t._item.id.client,t._item.id.clock),new Wa(n,r,e.id)},Ya=(t,e,n,r)=>{const i=Hue(n,t);if(i===null||i.type!==e&&!Ua(e,i.type._item))return null;let o=i.type,s=0;if(o.constructor===Sn)s=i.index;else if(o._item===null||!o._item.deleted){let a=o._first,l=0;for(;l<o._length&&l<i.index&&a!==null;){if(!a.deleted){const c=a.content.type;l++,c instanceof Sn?s+=c._length:s+=r.get(c).nodeSize}a=a.right}s+=1}for(;o!==e&&o._item!==null;){const a=o._item.parent;if(a._item===null||!a._item.deleted){s+=1;let l=a._first;for(;l!==null;){const c=l.content.type;if(c===o)break;l.deleted||(c instanceof Sn?s+=c._length:s+=r.get(c).nodeSize),l=l.right}}o=a}return s-1};function che(t,e="prosemirror"){const n=new ko,r=n.get(e,Hr);return r.doc?(uhe(t,r),r.doc):n}function uhe(t,e){const n=e||new Hr,r=n.doc?n.doc:{transact:i=>i(void 0)};return _u(r,n,t,new Map),n}function dhe(t,e){const n=hhe(e);return fn.fromJSON(t,n)}function hhe(t,e="prosemirror"){return fhe(t.getXmlFragment(e))}function fhe(t){const e=t.toArray();function n(r){let i;if(!r.nodeName)i=r.toDelta().map(s=>{const a={type:"text",text:s.insert};return s.attributes&&(a.marks=Object.keys(s.attributes).map(l=>{const c=s.attributes[l],u={type:l};return Object.keys(c)&&(u.attrs=c),u})),a});else{i={type:r.nodeName};const o=r.getAttributes();Object.keys(o).length&&(i.attrs=o);const s=r.toArray();s.length&&(i.content=s.map(n).flat())}return i}return{type:"doc",content:e.map(n)}}const phe=t=>{const e=document.createElement("span");e.classList.add("ProseMirror-yjs-cursor"),e.setAttribute("style",`border-color: ${t.color}`);const n=document.createElement("div");n.setAttribute("style",`background-color: ${t.color}`),n.insertBefore(document.createTextNode(t.name),null);const r=document.createTextNode("\u2060"),i=document.createTextNode("\u2060");return e.insertBefore(r,null),e.insertBefore(n,null),e.insertBefore(i,null),e},mhe=t=>({style:`background-color: ${t.color}70`,class:"ProseMirror-yjs-selection"}),ghe=/^#[0-9a-fA-F]{6}$/,cw=(t,e,n,r)=>{const i=Ke.getState(t),o=i.doc,s=[];return i.snapshot!=null||i.prevSnapshot!=null||i.binding===null?Te.create(t.doc,[]):(e.getStates().forEach((a,l)=>{if(l!==o.clientID&&a.cursor!=null){const c=a.user||{};c.color==null?c.color="#ffa500":ghe.test(c.color)||console.warn("A user uses an unsupported color format",c),c.name==null&&(c.name=`User: ${l}`);let u=Ya(o,i.type,ka(a.cursor.anchor),i.binding.mapping),d=Ya(o,i.type,ka(a.cursor.head),i.binding.mapping);if(u!==null&&d!==null){const f=Ur(t.doc.content.size-1,0);u=_i(u,f),d=_i(d,f),s.push(tt.widget(d,()=>n(c),{key:l+"",side:10}));const h=_i(u,d),p=Ur(u,d);s.push(tt.inline(h,p,r(c),{inclusiveEnd:!0,inclusiveStart:!1}))}}}),Te.create(t.doc,s))},bhe=(t,{cursorBuilder:e=phe,selectionBuilder:n=mhe,getSelection:r=o=>o.selection}={},i="cursor")=>new De({key:sa,state:{init(o,s){return cw(s,t,e,n)},apply(o,s,a,l){const c=Ke.getState(l),u=o.getMeta(sa);return c&&c.isChangeOrigin||u&&u.awarenessUpdated?cw(l,t,e,n):s.map(o.mapping,o.doc)}},props:{decorations:o=>sa.getState(o)},view:o=>{const s=()=>{o.docView&&ahe(o,sa,{awarenessUpdated:!0})},a=()=>{const l=Ke.getState(o.state),c=t.getLocalState()||{};if(l.binding!=null)if(o.hasFocus()){const u=r(o.state),d=Du(u.anchor,l.type,l.binding.mapping),f=Du(u.head,l.type,l.binding.mapping);(c.cursor==null||!Qy(ka(c.cursor.anchor),d)||!Qy(ka(c.cursor.head),f))&&t.setLocalStateField(i,{anchor:d,head:f})}else c.cursor!=null&&Ya(l.doc,l.type,ka(c.cursor.anchor),l.binding.mapping)!==null&&t.setLocalStateField(i,null)};return t.on("change",s),o.dom.addEventListener("focusin",a),o.dom.addEventListener("focusout",a),{update:a,destroy:()=>{o.dom.removeEventListener("focusin",a),o.dom.removeEventListener("focusout",a),t.off("change",s),t.setLocalStateField(i,null)}}}}),yhe=t=>{const e=so.getState(t).undoManager;if(e!=null)return e.undo(),!0},uw=t=>{const e=so.getState(t).undoManager;if(e!=null)return e.redo(),!0},whe=new Set(["paragraph"]),khe=(t,e)=>!(t instanceof Re)||!(t.content instanceof tr)||!(t.content.type instanceof yo||t.content.type instanceof dn&&e.has(t.content.type.nodeName))||t.content.type._length===0,_he=({protectedNodes:t=whe,trackedOrigins:e=[],undoManager:n=null}={})=>new De({key:so,state:{init:(r,i)=>{const o=Ke.getState(i),s=n||new mx(o.type,{trackedOrigins:new Set([Ke].concat(e)),deleteFilter:a=>khe(a,t),captureTransaction:a=>a.meta.get("addToHistory")!==!1});return{undoManager:s,prevSel:null,hasUndoOps:s.undoStack.length>0,hasRedoOps:s.redoStack.length>0}},apply:(r,i,o,s)=>{const a=Ke.getState(s).binding,l=i.undoManager,c=l.undoStack.length>0,u=l.redoStack.length>0;return a?{undoManager:l,prevSel:yp(a,o),hasUndoOps:c,hasRedoOps:u}:c!==i.hasUndoOps||u!==i.hasRedoOps?Object.assign({},i,{hasUndoOps:l.undoStack.length>0,hasRedoOps:l.redoStack.length>0}):i}},view:r=>{const i=Ke.getState(r.state),o=so.getState(r.state).undoManager;return o.on("stack-item-added",({stackItem:s})=>{const a=i.binding;a&&s.meta.set(a,so.getState(r.state).prevSel)}),o.on("stack-item-popped",({stackItem:s})=>{const a=i.binding;a&&(a.beforeTransactionSelection=s.meta.get(a)||a.beforeTransactionSelection)}),{destroy:()=>{o.destroy()}}}});var fg=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ze=(t,e,n)=>(fg(t,e,"read from private field"),n?n.call(t):e.get(t)),Zr=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Co=(t,e,n,r)=>(fg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),nc=(t,e,n)=>(fg(t,e,"access private method"),n);const zx=new Se("MILKDOWN_COLLAB_KEYMAP"),Dhe=[zx,Ke,sa,so];var as,$r,xa,Et,Bo,_p,Vx,Dp,qx,qc,xp;class Ux{constructor(){Zr(this,_p),Zr(this,Dp),Zr(this,qc),Zr(this,as,{}),Zr(this,$r,null),Zr(this,xa,null),Zr(this,Et,null),Zr(this,Bo,!1)}bindCtx(e){return Co(this,Et,e),this}bindDoc(e){return Co(this,$r,e),this}setOptions(e){return Co(this,as,e),this}mergeOptions(e){return Object.assign(ze(this,as),e),this}setAwareness(e){return Co(this,xa,e),this}applyTemplate(e,n){if(!ze(this,Et))throw la();if(!ze(this,$r))throw Xw();const r=n||(a=>a.textContent.length===0),i=nc(this,_p,Vx).call(this,e),o=ze(this,Et).get(ht),s=dhe(o,ze(this,$r));if(i&&r(s,i)){const a=ze(this,$r).getXmlFragment("prosemirror");a.delete(0,a.length);const l=che(i),c=ax(l);sx(ze(this,$r),c),l.destroy()}return this}connect(){if(!ze(this,Et))throw la();if(ze(this,Bo))return;const e=ze(this,Et).get(Dt),n=nc(this,Dp,qx).call(this),r=e.concat(n);return nc(this,qc,xp).call(this,r),Co(this,Bo,!0),this}disconnect(){if(!ze(this,Et))throw la();if(!ze(this,Bo))return this;const e=ze(this,Et).get(Dt).filter(n=>!n.spec.key||!Dhe.includes(n.spec.key));return nc(this,qc,xp).call(this,e),Co(this,Bo,!1),this}}as=new WeakMap,$r=new WeakMap,xa=new WeakMap,Et=new WeakMap,Bo=new WeakMap,_p=new WeakSet,Vx=function(t){if(!ze(this,Et))throw la();const e=ze(this,Et).get(ht),n=ze(this,Et).get(wi);return F_(t,n,e)},Dp=new WeakSet,qx=function(){if(!ze(this,$r))throw Xw();const{ySyncOpts:t,yUndoOpts:e}=ze(this,as),n=ze(this,$r).getXmlFragment("prosemirror"),r=[Qde(n,t),_he(e),new De({key:zx,props:{handleKeyDown:td({"Mod-z":yhe,"Mod-y":uw,"Mod-Shift-z":uw})}})];if(ze(this,xa)){const{yCursorOpts:i,yCursorStateField:o}=ze(this,as);r.push(bhe(ze(this,xa),i,o))}return r},qc=new WeakSet,xp=function(t){if(!ze(this,Et))throw la();ze(this,Et).set(Dt,t);const e=ze(this,Et).get(Je),n=e.state.reconfigure({plugins:t});e.updateState(n),ze(this,Et).get(Fe).flush(ze(this,Et))};const xhe=(t,{injectGlobal:e})=>{const n=(i,o=1)=>t.get(qt,[i,o]),r=t.get(He,"lineWidth");e`
        .milkdown .paragraph {
            overflow: visible;
        }
        /* this is a rough fix for the first cursor position when the first paragraph is empty */
        .ProseMirror > .ProseMirror-yjs-cursor:first-child {
            margin-top: 1em;
        }
        .ProseMirror p:first-child,
        .ProseMirror h1:first-child,
        .ProseMirror h2:first-child,
        .ProseMirror h3:first-child,
        .ProseMirror h4:first-child,
        .ProseMirror h5:first-child,
        .ProseMirror h6:first-child {
            margin-top: 1em;
        }
        /* This gives the remote user caret. The colors are automatically overwritten*/
        .ProseMirror-yjs-cursor {
            position: relative;
            margin-left: -${r};
            margin-right: -${r};
            ${t.get(kt,"left")};
            ${t.get(kt,"right")};
            word-break: normal;
            pointer-events: none;
        }
        /* This renders the username above the caret */
        .ProseMirror-yjs-cursor > div {
            position: absolute;
            top: -1.05em;
            left: -${r};
            font-size: 13px;
            background-color: ${n("background")};
            font-family: serif;
            font-style: normal;
            font-weight: normal;
            line-height: normal;
            user-select: none;
            color: white;
            padding-left: 2px;
            padding-right: 2px;
            white-space: nowrap;
        }
    `},Wx=ie(new Ux,"collabServiceCtx"),dw=zn("CollabReady"),Che=t=>{const e=new Ux;return t.inject(Wx,e).record(dw),async n=>{await n.wait(es);const r=n.get(Fe),i=n.get(pi);r.onFlush(()=>{xhe(r,i)}),await n.wait(ro),e.bindCtx(n),n.done(dw)}},vhe=new Map;class She{constructor(e){this.room=e,this.onmessage=null,Fce(n=>n.key===e&&this.onmessage!==null&&this.onmessage({data:tue(n.newValue||"")}))}postMessage(e){BD.setItem(this.room,eue(Jce(e)))}}const Ehe=typeof BroadcastChannel>"u"?She:BroadcastChannel,pg=t=>Sr(vhe,t,()=>{const e=new Set,n=new Ehe(t);return n.onmessage=r=>e.forEach(i=>i(r.data,"broadcastchannel")),{bc:n,subs:e}}),Ahe=(t,e)=>pg(t).subs.add(e),Fhe=(t,e)=>pg(t).subs.delete(e),Po=(t,e,n=null)=>{const r=pg(t);r.bc.postMessage(e),r.subs.forEach(i=>i(e,n))},Hx=0,mg=1,Gx=2,Cp=(t,e)=>{ne(t,Hx);const n=Vue(e);ot(t,n)},Kx=(t,e,n)=>{ne(t,mg),ot(t,ax(e,n))},The=(t,e,n)=>Kx(e,n,zt(t)),Jx=(t,e,n)=>{try{sx(e,zt(t),n)}catch(r){console.error("Caught error while handling a Yjs update",r)}},Mhe=(t,e)=>{ne(t,Gx),ot(t,e)},Ohe=Jx,Nhe=(t,e,n,r)=>{const i=ue(t);switch(i){case Hx:The(t,e,n);break;case mg:Jx(t,n,r);break;case Gx:Ohe(t,n,r);break;default:throw new Error("Unknown message type")}return i},$he=0,Lhe=(t,e,n)=>{switch(ue(t)){case $he:n(e,Di(t))}},Ihe=t=>Tce(t,(e,n)=>`${encodeURIComponent(n)}=${encodeURIComponent(e)}`).join("&"),Gi=0,Yx=3,ls=1,Rhe=2,Ll=[];Ll[Gi]=(t,e,n,r,i)=>{ne(t,Gi);const o=Nhe(e,t,n.doc,n);r&&o===mg&&!n.synced&&(n.synced=!0)};Ll[Yx]=(t,e,n,r,i)=>{ne(t,ls),ot(t,_a(n.awareness,Array.from(n.awareness.getStates().keys())))};Ll[ls]=(t,e,n,r,i)=>{Hde(n.awareness,zt(e),n)};Ll[Rhe]=(t,e,n,r,i)=>{Lhe(e,n.doc,(o,s)=>Bhe(n,s))};const hw=3e4,Bhe=(t,e)=>console.warn(`Permission denied to access ${t.url}.
${e}`),Xx=(t,e,n)=>{const r=Li(e),i=Vt(),o=ue(r),s=t.messageHandlers[o];return s?s(i,r,t,n,o):console.error("Unable to compute message"),i},Qx=t=>{if(t.shouldConnect&&t.ws===null){const e=new t._WS(t.url);e.binaryType="arraybuffer",t.ws=e,t.wsconnecting=!0,t.wsconnected=!1,t.synced=!1,e.onmessage=n=>{t.wsLastMessageReceived=Fi();const r=Xx(t,new Uint8Array(n.data),!0);qm(r)>1&&e.send(Ze(r))},e.onerror=n=>{t.emit("connection-error",[n,t])},e.onclose=n=>{t.emit("connection-close",[n,t]),t.ws=null,t.wsconnecting=!1,t.wsconnected?(t.wsconnected=!1,t.synced=!1,dg(t.awareness,Array.from(t.awareness.getStates().keys()).filter(r=>r!==t.doc.clientID),t),t.emit("status",[{status:"disconnected"}])):t.wsUnsuccessfulReconnects++,setTimeout(Qx,_i(wce(2,t.wsUnsuccessfulReconnects)*100,t.maxBackoffTime),t)},e.onopen=()=>{t.wsLastMessageReceived=Fi(),t.wsconnecting=!1,t.wsconnected=!0,t.wsUnsuccessfulReconnects=0,t.emit("status",[{status:"connected"}]);const n=Vt();if(ne(n,Gi),Cp(n,t.doc),e.send(Ze(n)),t.awareness.getLocalState()!==null){const r=Vt();ne(r,ls),ot(r,_a(t.awareness,[t.doc.clientID])),e.send(Ze(r))}},t.emit("status",[{status:"connecting"}])}},Rh=(t,e)=>{t.wsconnected&&t.ws.send(e),t.bcconnected&&Po(t.bcChannel,e,t)};class Phe extends ad{constructor(e,n,r,{connect:i=!0,awareness:o=new Wde(r),params:s={},WebSocketPolyfill:a=WebSocket,resyncInterval:l=-1,maxBackoffTime:c=2500,disableBc:u=!1}={}){for(super();e[e.length-1]==="/";)e=e.slice(0,e.length-1);const d=Ihe(s);this.maxBackoffTime=c,this.bcChannel=e+"/"+n,this.url=e+"/"+n+(d.length===0?"":"?"+d),this.roomname=n,this.doc=r,this._WS=a,this.awareness=o,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=u,this.wsUnsuccessfulReconnects=0,this.messageHandlers=Ll.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=i,this._resyncInterval=0,l>0&&(this._resyncInterval=setInterval(()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const f=Vt();ne(f,Gi),Cp(f,r),this.ws.send(Ze(f))}},l)),this._bcSubscriber=(f,h)=>{if(h!==this){const p=Xx(this,new Uint8Array(f),!1);qm(p)>1&&Po(this.bcChannel,Ze(p),this)}},this._updateHandler=(f,h)=>{if(h!==this){const p=Vt();ne(p,Gi),Mhe(p,f),Rh(this,Ze(p))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:f,updated:h,removed:p},m)=>{const g=f.concat(h).concat(p),b=Vt();ne(b,ls),ot(b,_a(o,g)),Rh(this,Ze(b))},this._unloadHandler=()=>{dg(this.awareness,[r.clientID],"window unload")},typeof window<"u"?window.addEventListener("unload",this._unloadHandler):typeof process<"u"&&process.on("exit",this._unloadHandler),o.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&hw<Fi()-this.wsLastMessageReceived&&this.ws.close()},hw/10),i&&this.connect()}get synced(){return this._synced}set synced(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}destroy(){this._resyncInterval!==0&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),typeof window<"u"?window.removeEventListener("unload",this._unloadHandler):typeof process<"u"&&process.off("exit",this._unloadHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;this.bcconnected||(Ahe(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);const e=Vt();ne(e,Gi),Cp(e,this.doc),Po(this.bcChannel,Ze(e),this);const n=Vt();ne(n,Gi),Kx(n,this.doc),Po(this.bcChannel,Ze(n),this);const r=Vt();ne(r,Yx),Po(this.bcChannel,Ze(r),this);const i=Vt();ne(i,ls),ot(i,_a(this.awareness,[this.doc.clientID])),Po(this.bcChannel,Ze(i),this)}disconnectBc(){const e=Vt();ne(e,ls),ot(e,_a(this.awareness,[this.doc.clientID],new Map)),Rh(this,Ze(e)),this.bcconnected&&(Fhe(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),this.ws!==null&&this.ws.close()}connect(){this.shouldConnect=!0,!this.wsconnected&&this.ws===null&&(Qx(this),this.connectBc())}}const jhe=["#1aadff","#00bd6f","#1a62ff","#1ad6ff","#ff7a1a","#d0d32f","#ff1ab2","#811aff","#ff281a","#4127e8","#ff1a5e","#1cd1c6"],zhe=(t,e)=>{const n=t.filter(r=>!e.includes(r));return n.length?n[Math.floor(Math.random()*n.length)]:t[Math.floor(Math.random()*t.length)]},Vhe=()=>{const t=typeof useStrapiUser=="function"&&useStrapiUser();return de(t)||{username:"Anonymous"}},qhe=t=>{const e=Vhe().username;t.setLocalStateField("user",{name:e});const n=()=>{t.off("change",n);const r=Array.from(t.getStates().values()).map(o=>o.user.color).filter(Boolean),i=zhe(jhe,r);t.setLocalStateField("user",{name:e,color:i})};t.on("change",n)};let vo,zi;const fw=t=>e=>{const n=Kw().public.ywsUrl,r=e.get(Wx).bindCtx(e),{key:i,markdown:o}=de(t.content);r.disconnect(),vo==null||vo.destroy(),zi==null||zi.destroy(),vo=new ko,zi=new Phe(n,i,vo),qhe(zi.awareness),r.bindDoc(vo).setAwareness(zi.awareness),zi.once("synced",s=>{s&&(r.applyTemplate(o).connect(),N_(o)(e))})},Uhe=Che;function gg({id:t,schema:e,commands:n,view:r}){return Ct(()=>({id:t,schema:e,commands:n,view:i=>{const s=i.get(AD)(r)(i);return(a,l,c,u,d)=>{const f=s(a,l,c,u,d);return f.update=h=>{const p=a.attrs.skipUpdate;return delete a.attrs.skipUpdate,p||a.sameMarkup(h)},f.ignoreMutation=h=>h.type!=="selection"&&(!f.contentDOM||!f.contentDOM.contains(h.target)),f}}}))}const pw={adjustments:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4",duplicate:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2",trash:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},Whe={xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Hhe=["d"],Zx=nn({__name:"Icon",props:{name:{type:String,required:!0,validator:t=>Boolean(pw[t])}},setup(t){const e=t,n=mt(()=>pw[e.name]);return(r,i)=>(ge(),je("svg",Whe,[Tt("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:de(n)},null,8,Hhe)]))}}),eC=Qt(null),Ghe=M_(()=>new De({key:new Se("MDC_FOCUS"),view:t=>({update:({state:e})=>{const n=pl(xu)(e.selection);eC.value=n&&n.pos}})})),Khe=({node:t,view:e,getPos:n})=>{const r=e.state.tr;return r.insert(n()+t.nodeSize,t.copy(t.content)),r},tC=({node:t,view:e,getPos:n})=>{const r=e.state.tr,i=n();return r.replaceRangeWith(i,i+t.content.size,e.state.schema.nodes.paragraph.create()),r.setSelection(le.create(r.doc,i+1)),r};function bg(){const{view:t,getPos:e,...n}=AS(),r=de(n.node),i=Qt(!1);Lv(()=>{i.value=eC.value===e()});const o=(c,{skipUpdate:u}={skipUpdate:!1})=>{r.attrs.skipUpdate=u,i.value=!1,t.dispatch(c({node:t.state.doc.nodeAt(e()),view:t,getPos:e}))};return{node:r,isFocused:i,duplicate:()=>o(Khe),remove:()=>o(tC),updateAttributes:c=>o(({node:u,view:d,getPos:f})=>d.state.tr.setNodeMarkup(f(),void 0,{...u.attrs,...c({props:{...u.attrs.props}})}),{skipUpdate:!0})}}const Jhe={class:"flex items-center h-5"},Yhe=["id","name","required","value","disabled"],Xhe={key:0,class:"ml-3 text-sm"},Qhe=["for"],Zhe={name:"UCheckbox"},efe=nn({...Zhe,props:{value:{type:[String,Number,Boolean],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},wrapperClass:{type:String,default:()=>pe.checkbox.wrapper},baseClass:{type:String,default:()=>pe.checkbox.base},labelClass:{type:String,default:()=>pe.checkbox.label},requiredClass:{type:String,default:()=>pe.checkbox.required},helpClass:{type:String,default:()=>pe.checkbox.help},customClass:{type:String,default:null}},emits:["update:modelValue","focus","blur"],setup(t,{emit:e}){const n=t,r=mt({get(){return n.modelValue},set(o){e("update:modelValue",o)}}),i=mt(()=>Ca(n.baseClass,n.customClass));return(o,s)=>(ge(),je("div",{class:qe(t.wrapperClass)},[Tt("div",Jhe,[Jw(Tt("input",{id:t.name,"onUpdate:modelValue":s[0]||(s[0]=a=>of(r)?r.value=a:null),name:t.name,required:t.required,value:t.value,disabled:t.disabled,type:"checkbox",class:qe(de(i)),onFocus:s[1]||(s[1]=a=>o.$emit("focus",a)),onBlur:s[2]||(s[2]=a=>o.$emit("blur",a))},null,42,Yhe),[[Iv,de(r)]])]),t.label||o.$slots.label?(ge(),je("div",Xhe,[Tt("label",{for:t.name,class:qe(t.labelClass)},[Xi(o.$slots,"label",{},()=>[sf(pr(t.label),1)]),t.required?(ge(),je("span",{key:0,class:qe(t.requiredClass)},"*",2)):ln("",!0)],10,Qhe),t.help?(ge(),je("p",{key:0,class:qe(t.helpClass)},pr(t.help),3)):ln("",!0)])):ln("",!0)],2))}}),tfe=["id","name","value","required","disabled"],nfe=["value","label"],rfe=["value","selected","disabled","textContent"],ife=["value","selected","disabled","textContent"],ofe={name:"USelect"},sfe=nn({...ofe,props:{modelValue:{type:[String,Number,Object],default:""},name:{type:String,required:!0},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},size:{type:String,default:"md",validator(t){return Object.keys(pe.select.size).includes(t)}},wrapperClass:{type:String,default:()=>pe.select.wrapper},baseClass:{type:String,default:()=>pe.select.base},iconBaseClass:{type:String,default:()=>pe.select.icon.base},customClass:{type:String,default:null},appearance:{type:String,default:"default",validator(t){return Object.keys(pe.select.appearance).includes(t)}},textAttribute:{type:String,default:"text"},valueAttribute:{type:String,default:"value"},icon:{type:String,default:null}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=h=>{e("update:modelValue",h)},i=h=>Bl(h,n.valueAttribute,Bl(h,n.textAttribute)),o=h=>Bl(h,n.textAttribute,Bl(h,n.valueAttribute)),s=h=>["string","number","boolean"].includes(typeof h)?{[n.valueAttribute]:h,[n.textAttribute]:h}:{...h,[n.valueAttribute]:i(h),[n.textAttribute]:o(h)},a=mt(()=>n.options.map(h=>s(h))),l=mt(()=>n.placeholder?[{[n.valueAttribute]:"",[n.textAttribute]:n.placeholder,disabled:!0},...a.value]:a.value),c=mt(()=>{const h=s(n.modelValue),p=l.value.find(m=>m[n.valueAttribute]===h[n.valueAttribute]);return p?p[n.valueAttribute]:""}),u=mt(()=>Ca(n.baseClass,pe.select.size[n.size],pe.select.spacing[n.size],pe.select.appearance[n.appearance],!!n.icon&&pe.select.leading.spacing[n.size],pe.select.trailing.spacing[n.size],n.customClass)),d=mt(()=>Ca(n.iconBaseClass,pe.select.icon.size[n.size],!!n.icon&&pe.select.icon.leading.spacing[n.size])),f=pe.select.icon.leading.wrapper;return(h,p)=>(ge(),je("div",{class:qe(t.wrapperClass)},[Tt("select",{id:t.name,name:t.name,value:t.modelValue,required:t.required,disabled:t.disabled,class:qe(de(u)),onInput:p[0]||(p[0]=m=>r(m.target.value))},[(ge(!0),je(Ko,null,va(de(l),(m,g)=>(ge(),je(Ko,null,[m.children?(ge(),je("optgroup",{key:`${m[t.valueAttribute]}-optgroup-${g}`,value:m[t.valueAttribute],label:m[t.textAttribute]},[(ge(!0),je(Ko,null,va(m.children,(b,_)=>(ge(),je("option",{key:`${b[t.valueAttribute]}-${g}-${_}`,value:b[t.valueAttribute],selected:b[t.valueAttribute]===de(c),disabled:b.disabled,textContent:pr(b[t.textAttribute])},null,8,rfe))),128))],8,nfe)):(ge(),je("option",{key:`${m[t.valueAttribute]}-${g}`,value:m[t.valueAttribute],selected:m[t.valueAttribute]===de(c),disabled:m.disabled,textContent:pr(m[t.textAttribute])},null,8,ife))],64))),256))],42,tfe),t.icon?(ge(),je("div",{key:0,class:qe(de(f))},[Rn(af,{name:t.icon,class:qe(de(d))},null,8,["name","class"])],2)):ln("",!0)],2))}}),afe=["id","name","value","type","required","placeholder","disabled","readonly","autocomplete","spellcheck"],lfe={name:"UInput"},cfe=nn({...lfe,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},name:{type:String,required:!0},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autocomplete:{type:String,default:null},spellcheck:{type:Boolean,default:null},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>pe.input.icon.loading},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},size:{type:String,default:"md",validator(t){return Object.keys(pe.input.size).includes(t)}},wrapperClass:{type:String,default:()=>pe.input.wrapper},baseClass:{type:String,default:()=>pe.input.base},iconBaseClass:{type:String,default:()=>pe.input.icon.base},customClass:{type:String,default:null},appearance:{type:String,default:"default",validator(t){return Object.keys(pe.input.appearance).includes(t)}},loading:{type:Boolean,default:!1}},emits:["update:modelValue","focus","blur"],setup(t,{emit:e}){const n=t,r=Qt(null),i=()=>{var h;n.autofocus&&((h=r.value)==null||h.focus())},o=h=>{e("update:modelValue",h)};Gw(()=>{setTimeout(()=>{i()},100)});const s=mt(()=>n.icon&&n.leading||n.icon&&!n.trailing||n.loading&&!n.trailing),a=mt(()=>n.icon&&n.trailing||n.loading&&n.trailing),l=mt(()=>Ca(n.baseClass,pe.input.size[n.size],pe.input.spacing[n.size],pe.input.appearance[n.appearance],s.value&&pe.input.leading.spacing[n.size],a.value&&pe.input.trailing.spacing[n.size],n.customClass)),c=mt(()=>n.loading?n.loadingIcon:n.icon),u=mt(()=>Ca(n.iconBaseClass,pe.input.icon.size[n.size],s.value&&pe.input.icon.leading.spacing[n.size],a.value&&pe.input.icon.trailing.spacing[n.size],n.loading&&"animate-spin")),d=pe.input.icon.leading.wrapper,f=pe.input.icon.trailing.wrapper;return(h,p)=>(ge(),je("div",{class:qe(t.wrapperClass)},[Tt("input",{id:t.name,ref_key:"input",ref:r,name:t.name,value:t.modelValue,type:t.type,required:t.required,placeholder:t.placeholder,disabled:t.disabled,readonly:t.readonly,autocomplete:t.autocomplete,spellcheck:t.spellcheck,class:qe(de(l)),onInput:p[0]||(p[0]=m=>o(m.target.value)),onFocus:p[1]||(p[1]=m=>h.$emit("focus",m)),onBlur:p[2]||(p[2]=m=>h.$emit("blur",m))},null,42,afe),Xi(h.$slots,"default"),de(s)?(ge(),je("div",{key:0,class:qe(de(d))},[de(c)?(ge(),Ir(af,{key:0,name:de(c),class:qe(de(u))},null,8,["name","class"])):ln("",!0)],2)):ln("",!0),de(a)?(ge(),je("div",{key:1,class:qe(de(f))},[de(c)?(ge(),Ir(af,{key:0,name:de(c),class:qe(de(u))},null,8,["name","class"])):ln("",!0)],2)):ln("",!0)],2))}}),ufe=["for"],dfe={name:"UFormGroup"},hfe=nn({...dfe,props:{name:{type:String,default:null},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},hint:{type:String,default:null},wrapperClass:{type:String,default:()=>pe.formGroup.wrapper},containerClass:{type:String,default:()=>pe.formGroup.container},labelClass:{type:String,default:()=>pe.formGroup.label},labelWrapperClass:{type:String,default:()=>pe.formGroup.labelWrapper},descriptionClass:{type:String,default:()=>pe.formGroup.description},requiredClass:{type:String,default:()=>pe.formGroup.required},hintClass:{type:String,default:()=>pe.formGroup.hint},helpClass:{type:String,default:()=>pe.formGroup.help}},setup(t){return(e,n)=>(ge(),je("div",{class:qe(t.wrapperClass)},[t.label||e.$slots.label?(ge(),je("div",{key:0,class:qe(t.labelWrapperClass)},[Tt("label",{for:t.name,class:qe(t.labelClass)},[Xi(e.$slots,"label",{},()=>[sf(pr(t.label),1)]),t.required?(ge(),je("span",{key:0,class:qe(t.requiredClass)},"*",2)):ln("",!0)],10,ufe),e.$slots.hint||t.hint?(ge(),je("span",{key:0,class:qe(t.hintClass)},[Xi(e.$slots,"hint",{},()=>[sf(pr(t.hint),1)])],2)):ln("",!0)],2)):ln("",!0),t.description?(ge(),je("p",{key:1,class:qe(t.descriptionClass)},pr(t.description),3)):ln("",!0),Tt("div",{class:qe(!!t.label&&t.containerClass)},[Xi(e.$slots,"default"),t.help?(ge(),je("p",{key:0,class:qe(t.helpClass)},pr(t.help),3)):ln("",!0)],2)],2))}}),ffe=nn({__name:"MarkdownComponentPropField",props:{schema:{type:Object,required:!0},value:{type:[String,Boolean,Number],default:t=>typeof t.schema.default<"u"&&t.schema.default!==null?t.schema.default:void 0}},emits:["change"],setup(t,{emit:e}){const n=t,r=mt(()=>n.schema.name),i=mt(()=>n.schema.type),o=mt(()=>Rm(r.value)),s=a=>{e("change",a)};return(a,l)=>{const c=efe,u=sfe,d=cfe,f=hfe;return ge(),Ir(f,{name:de(r),label:de(o),"label-class":"text-xs font-medium u-text-gray-900"},{default:Rv(()=>[de(i)==="boolean"?(ge(),Ir(c,{key:0,name:de(r),"model-value":t.value,size:"xs","onUpdate:modelValue":s},null,8,["name","model-value"])):t.schema.values&&Array.isArray(t.schema.values)&&t.schema.values.length?(ge(),Ir(u,{key:1,name:de(r),"model-value":t.value,options:t.schema.values,size:"xs","onUpdate:modelValue":s},null,8,["name","model-value","options"])):(ge(),Ir(d,{key:2,name:de(r),type:de(i)==="number"?"number":"text","model-value":t.value,size:"xs","onUpdate:modelValue":s,onKeydown:l[0]||(l[0]=Ag(()=>{},["stop"])),onPaste:l[1]||(l[1]=Ag(()=>{},["stop"]))},null,8,["name","type","model-value"]))]),_:1},8,["name","label"])}}}),pfe=nn({components:{MarkdownComponentPropField:ffe},setup(){var o,s;const{node:t,updateAttributes:e}=bg(),n=({schema:{name:a,default:l,type:c},value:u})=>{e(({props:d})=>(typeof l<"u"&&l===u?(delete d[a],delete d[`:${a}`]):d[c==="string"?a:`:${a}`]=u,{props:d}))};return{schemas:((s=(o=t.attrs.schema)==null?void 0:o.props)!=null?s:[]).filter(({type:a})=>typeof a=="string"),props:t.attrs.props,updateProp:n}}}),mfe={class:"flex flex-wrap items-center gap-2 my-2","data-test":"props-panel"};function gfe(t,e,n,r,i,o){const s=Bv("MarkdownComponentPropField");return ge(),je("div",mfe,[(ge(!0),je(Ko,null,va(t.schemas,a=>(ge(),Ir(s,{key:a.name,schema:a,value:t.props[a.name]||t.props[`:${a.name}`],onChange:l=>t.updateProp({schema:a,value:l})},null,8,["schema","value","onChange"]))),128))])}const bfe=jv(pfe,[["render",gfe]]),yfe={class:"flex items-center justify-between h-6"},wfe={class:"text-xs font-semibold u-text-gray-900",contenteditable:"false"},kfe=["data-test","onClick"],nC=nn({__name:"MarkdownComponent",setup(t){const{node:e,isFocused:n,duplicate:r,remove:i}=bg(),o=e.attrs.schema,s=Rm(e.attrs.name),a=o&&o.props.length>0,l=Qt(!1),c=Qt(!0),u=[{icon:"trash",onClick:i},{icon:"duplicate",onClick:r}];return(d,f)=>(ge(),je("div",{class:qe(["px-4 py-3 my-4 border rounded-md u-bg-white",de(n)?"border-primary-500":"u-border-gray-200"]),"data-test":"markdown-component",onMouseenter:f[0]||(f[0]=h=>l.value=!0),onMouseleave:f[1]||(f[1]=h=>l.value=!1)},[Tt("div",yfe,[Tt("span",wfe,pr(de(s)),1),Tt("div",{class:qe(["flex flex-row items-center justify-center transition-opacity duration-200",{"opacity-0":!l.value}]),"data-test":"actions"},[(ge(),je(Ko,null,va(u,({icon:h,onClick:p})=>Tt("button",{key:h,class:"p-1 u-text-gray-500 hover:u-text-gray-700 focus:u-text-gray-700","data-test":h,onClick:p},[Rn(Zx,{name:h},null,8,["name"])],8,kfe)),64))],2)]),de(a)?Jw((ge(),Ir(bfe,{key:0},null,512)),[[Pv,c.value]]):ln("",!0),Tt("div",null,[Xi(d.$slots,"default")])],34))}}),rC=xe(),iC={name:{},props:{},propsInfo:{default:{inline:[],frontMatter:[]}},schema:{default:void 0}},oC=(t,e)=>({match:n=>n.type===e,runner:(n,r,i)=>{const o=r.data.hName,s=r.data.hProperties,a={inline:Object.keys(r.attributes),frontMatter:Object.keys(r.fmAttributes)},l=t.get(sd).find(c=>Wn(c.name)===Wn(o));n.openNode(i,{name:o,props:s,propsInfo:a,schema:l}),n.next(r.children),n.closeNode()}}),_fe=({props:t,propsInfo:{frontMatter:e}})=>{const n={},r={};for(const i in t)e.includes(i.startsWith(":")?i.slice(1):i)?r[i]=t[i]:n[i]=t[i];return{attributes:n,fmAttributes:r}},sC=t=>({match:e=>e.type.name===t,runner:(e,n)=>{e.openNode(t,void 0,{name:n.attrs.name,..._fe(n.attrs)}),n.content.size&&e.next(n.content),e.closeNode()}}),aC="containerComponent",Dfe=gg({id:aC,schema:t=>({group:"block",content:"block*",attrs:iC,parseDOM:[{tag:"div "}],toDOM:()=>["div"],parseMarkdown:oC(t,"containerComponent"),toMarkdown:sC("containerComponent")}),view:nC,commands:t=>[_e(rC,e=>e?br(t,{name:Wn(e.name),props:{},schema:e}):()=>!1)]}),lC="textComponent",xfe=gg({id:lC,schema:t=>({group:"inline",content:"inline*",inline:!0,attrs:iC,parseMarkdown:oC(t,"textComponent"),toMarkdown:sC("textComponent")}),view:nC}),Cfe={class:"flex items-center justify-between h-6"},vfe={class:"text-xs font-semibold u-text-gray-900"},Sfe=["data-test","onClick"],Efe=nn({__name:"MarkdownSlot",setup(t){const{node:e,isFocused:n,remove:r}=bg(),i=Rm(e.attrs.name),o=Qt(!1),s=[{icon:"trash",onClick:r}];return(a,l)=>(ge(),je("div",{class:qe(["px-4 py-2 my-2 border rounded-md u-bg-white",de(n)?"border-primary-500":"u-border-gray-200"]),"data-test":"markdown-slot",onMouseenter:l[0]||(l[0]=c=>o.value=!0),onMouseleave:l[1]||(l[1]=c=>o.value=!1)},[Tt("div",Cfe,[Tt("span",vfe,pr(de(i)),1),Tt("div",{class:qe(["flex flex-row items-center justify-center transition-opacity duration-200",{"opacity-0":!o.value}]),"data-test":"actions"},[(ge(),je(Ko,null,va(s,({icon:c,onClick:u})=>Tt("button",{key:c,class:"p-1 -mr-2 u-text-gray-500 hover:u-text-gray-700 focus:u-text-gray-700","data-test":c,onClick:u},[Rn(Zx,{name:c},null,8,["name"])],8,Sfe)),64))],2)]),Xi(a.$slots,"default")],34))}}),cC=xe(),vp="componentSlot",Afe=gg({id:vp,schema:()=>({group:"block",content:"block*",attrs:{name:{}},parseMarkdown:{match:({type:t})=>["componentContainerSection"].includes(t),runner:(t,e,n)=>{t.openNode(n,{name:e.name}),t.next(e.children),t.closeNode()}},toMarkdown:{match:({type:t})=>t.name===vp,runner:(t,e)=>{const{name:n}=e.attrs;t.openNode("componentContainerSection",void 0,{name:n}),t.next(e.content),t.closeNode()}}}),commands:t=>[_e(cC,e=>br(t,{name:Wn(e.name)}))],view:Efe}),Uc=t=>[aC,lC].includes(t.type.name),Sp=t=>t.type.name===vp,xu=t=>Uc(t)||Sp(t),Ffe=rn.create([Dfe(),xfe(),Afe()]),Tfe=M_(()=>po({Backspace:(t,e,n)=>{const{$from:r}=t.selection;if(r.parentOffset>0)return!1;const i=r.node(r.depth-1);return!i||i.firstChild!==r.parent||!xu(i)?!1:(e(tC({node:i,view:n,getPos:()=>r.pos-(i.nodeSize-i.content.size)})),!0)},Enter:(t,e,n)=>{const{$from:r}=t.selection;return r.parent.content.size>0||!xu(r.node(r.depth-1))?!1:ml(__,D_,x_)(t,e,n)}}));/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function uC(t){return typeof t>"u"||t===null}function Mfe(t){return typeof t=="object"&&t!==null}function Ofe(t){return Array.isArray(t)?t:uC(t)?[]:[t]}function Nfe(t,e){var n,r,i,o;if(e)for(o=Object.keys(e),n=0,r=o.length;n<r;n+=1)i=o[n],t[i]=e[i];return t}function $fe(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function Lfe(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var Ife=uC,Rfe=Mfe,Bfe=Ofe,Pfe=$fe,jfe=Lfe,zfe=Nfe,gt={isNothing:Ife,isObject:Rfe,toArray:Bfe,repeat:Pfe,isNegativeZero:jfe,extend:zfe};function dC(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function Xa(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=dC(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Xa.prototype=Object.create(Error.prototype);Xa.prototype.constructor=Xa;Xa.prototype.toString=function(e){return this.name+": "+dC(this,e)};var Xt=Xa;function Bh(t,e,n,r,i){var o="",s="",a=Math.floor(i/2)-1;return r-e>a&&(o=" ... ",e=r-a+o.length),n-r>a&&(s=" ...",n=r+a-s.length),{str:o+t.slice(e,n).replace(/\t/g,"\u2192")+s,pos:r-e+o.length}}function Ph(t,e){return gt.repeat(" ",e-t.length)+t}function Vfe(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],o,s=-1;o=n.exec(t.buffer);)i.push(o.index),r.push(o.index+o[0].length),t.position<=o.index&&s<0&&(s=r.length-2);s<0&&(s=r.length-1);var a="",l,c,u=Math.min(t.line+e.linesAfter,i.length).toString().length,d=e.maxLength-(e.indent+u+3);for(l=1;l<=e.linesBefore&&!(s-l<0);l++)c=Bh(t.buffer,r[s-l],i[s-l],t.position-(r[s]-r[s-l]),d),a=gt.repeat(" ",e.indent)+Ph((t.line-l+1).toString(),u)+" | "+c.str+`
`+a;for(c=Bh(t.buffer,r[s],i[s],t.position,d),a+=gt.repeat(" ",e.indent)+Ph((t.line+1).toString(),u)+" | "+c.str+`
`,a+=gt.repeat("-",e.indent+u+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(s+l>=i.length);l++)c=Bh(t.buffer,r[s+l],i[s+l],t.position-(r[s]-r[s+l]),d),a+=gt.repeat(" ",e.indent)+Ph((t.line+l+1).toString(),u)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var qfe=Vfe,Ufe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Wfe=["scalar","sequence","mapping"];function Hfe(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function Gfe(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(Ufe.indexOf(n)===-1)throw new Xt('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=Hfe(e.styleAliases||null),Wfe.indexOf(this.kind)===-1)throw new Xt('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Nt=Gfe;function mw(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(o,s){o.tag===r.tag&&o.kind===r.kind&&o.multi===r.multi&&(i=s)}),n[i]=r}),n}function Kfe(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function Ep(t){return this.extend(t)}Ep.prototype.extend=function(e){var n=[],r=[];if(e instanceof Nt)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new Xt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof Nt))throw new Xt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Xt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Xt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(o){if(!(o instanceof Nt))throw new Xt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Ep.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=mw(i,"implicit"),i.compiledExplicit=mw(i,"explicit"),i.compiledTypeMap=Kfe(i.compiledImplicit,i.compiledExplicit),i};var hC=Ep,fC=new Nt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),pC=new Nt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),mC=new Nt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),gC=new hC({explicit:[fC,pC,mC]});function Jfe(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function Yfe(){return null}function Xfe(t){return t===null}var bC=new Nt("tag:yaml.org,2002:null",{kind:"scalar",resolve:Jfe,construct:Yfe,predicate:Xfe,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Qfe(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function Zfe(t){return t==="true"||t==="True"||t==="TRUE"}function epe(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var yC=new Nt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Qfe,construct:Zfe,predicate:epe,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function tpe(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function npe(t){return 48<=t&&t<=55}function rpe(t){return 48<=t&&t<=57}function ipe(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!tpe(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!npe(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!rpe(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function ope(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function spe(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!gt.isNegativeZero(t)}var wC=new Nt("tag:yaml.org,2002:int",{kind:"scalar",resolve:ipe,construct:ope,predicate:spe,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),ape=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function lpe(t){return!(t===null||!ape.test(t)||t[t.length-1]==="_")}function cpe(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var upe=/^[-+]?[0-9]+e/;function dpe(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(gt.isNegativeZero(t))return"-0.0";return n=t.toString(10),upe.test(n)?n.replace("e",".e"):n}function hpe(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||gt.isNegativeZero(t))}var kC=new Nt("tag:yaml.org,2002:float",{kind:"scalar",resolve:lpe,construct:cpe,predicate:hpe,represent:dpe,defaultStyle:"lowercase"}),_C=gC.extend({implicit:[bC,yC,wC,kC]}),DC=_C,xC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),CC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function fpe(t){return t===null?!1:xC.exec(t)!==null||CC.exec(t)!==null}function ppe(t){var e,n,r,i,o,s,a,l=0,c=null,u,d,f;if(e=xC.exec(t),e===null&&(e=CC.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(o=+e[4],s=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(u=+e[10],d=+(e[11]||0),c=(u*60+d)*6e4,e[9]==="-"&&(c=-c)),f=new Date(Date.UTC(n,r,i,o,s,a,l)),c&&f.setTime(f.getTime()-c),f}function mpe(t){return t.toISOString()}var vC=new Nt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:fpe,construct:ppe,instanceOf:Date,represent:mpe});function gpe(t){return t==="<<"||t===null}var SC=new Nt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:gpe}),yg=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function bpe(t){if(t===null)return!1;var e,n,r=0,i=t.length,o=yg;for(n=0;n<i;n++)if(e=o.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function ype(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,o=yg,s=0,a=[];for(e=0;e<i;e++)e%4===0&&e&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(r.charAt(e));return n=i%4*6,n===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):n===18?(a.push(s>>10&255),a.push(s>>2&255)):n===12&&a.push(s>>4&255),new Uint8Array(a)}function wpe(t){var e="",n=0,r,i,o=t.length,s=yg;for(r=0;r<o;r++)r%3===0&&r&&(e+=s[n>>18&63],e+=s[n>>12&63],e+=s[n>>6&63],e+=s[n&63]),n=(n<<8)+t[r];return i=o%3,i===0?(e+=s[n>>18&63],e+=s[n>>12&63],e+=s[n>>6&63],e+=s[n&63]):i===2?(e+=s[n>>10&63],e+=s[n>>4&63],e+=s[n<<2&63],e+=s[64]):i===1&&(e+=s[n>>2&63],e+=s[n<<4&63],e+=s[64],e+=s[64]),e}function kpe(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var EC=new Nt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:bpe,construct:ype,predicate:kpe,represent:wpe}),_pe=Object.prototype.hasOwnProperty,Dpe=Object.prototype.toString;function xpe(t){if(t===null)return!0;var e=[],n,r,i,o,s,a=t;for(n=0,r=a.length;n<r;n+=1){if(i=a[n],s=!1,Dpe.call(i)!=="[object Object]")return!1;for(o in i)if(_pe.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(e.indexOf(o)===-1)e.push(o);else return!1}return!0}function Cpe(t){return t!==null?t:[]}var AC=new Nt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:xpe,construct:Cpe}),vpe=Object.prototype.toString;function Spe(t){if(t===null)return!0;var e,n,r,i,o,s=t;for(o=new Array(s.length),e=0,n=s.length;e<n;e+=1){if(r=s[e],vpe.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;o[e]=[i[0],r[i[0]]]}return!0}function Epe(t){if(t===null)return[];var e,n,r,i,o,s=t;for(o=new Array(s.length),e=0,n=s.length;e<n;e+=1)r=s[e],i=Object.keys(r),o[e]=[i[0],r[i[0]]];return o}var FC=new Nt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Spe,construct:Epe}),Ape=Object.prototype.hasOwnProperty;function Fpe(t){if(t===null)return!0;var e,n=t;for(e in n)if(Ape.call(n,e)&&n[e]!==null)return!1;return!0}function Tpe(t){return t!==null?t:{}}var TC=new Nt("tag:yaml.org,2002:set",{kind:"mapping",resolve:Fpe,construct:Tpe}),wg=DC.extend({implicit:[vC,SC],explicit:[EC,AC,FC,TC]}),Ti=Object.prototype.hasOwnProperty,Cu=1,MC=2,OC=3,vu=4,jh=1,Mpe=2,gw=3,Ope=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Npe=/[\x85\u2028\u2029]/,$pe=/[,\[\]\{\}]/,NC=/^(?:!|!!|![a-z\-]+!)$/i,$C=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function bw(t){return Object.prototype.toString.call(t)}function kr(t){return t===10||t===13}function ao(t){return t===9||t===32}function hn(t){return t===9||t===32||t===10||t===13}function Ho(t){return t===44||t===91||t===93||t===123||t===125}function Lpe(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function Ipe(t){return t===120?2:t===117?4:t===85?8:0}function Rpe(t){return 48<=t&&t<=57?t-48:-1}function yw(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function Bpe(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var LC=new Array(256),IC=new Array(256);for(var So=0;So<256;So++)LC[So]=yw(So)?1:0,IC[So]=yw(So);function Ppe(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||wg,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function RC(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=qfe(n),new Xt(e,n)}function te(t,e){throw RC(t,e)}function Su(t,e){t.onWarning&&t.onWarning.call(null,RC(t,e))}var ww={YAML:function(e,n,r){var i,o,s;e.version!==null&&te(e,"duplication of %YAML directive"),r.length!==1&&te(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&te(e,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&te(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=s<2,s!==1&&s!==2&&Su(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,o;r.length!==2&&te(e,"TAG directive accepts exactly two arguments"),i=r[0],o=r[1],NC.test(i)||te(e,"ill-formed tag handle (first argument) of the TAG directive"),Ti.call(e.tagMap,i)&&te(e,'there is a previously declared suffix for "'+i+'" tag handle'),$C.test(o)||te(e,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{te(e,"tag prefix is malformed: "+o)}e.tagMap[i]=o}};function xi(t,e,n,r){var i,o,s,a;if(e<n){if(a=t.input.slice(e,n),r)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||te(t,"expected valid JSON character");else Ope.test(a)&&te(t,"the stream contains non-printable characters");t.result+=a}}function kw(t,e,n,r){var i,o,s,a;for(gt.isObject(n)||te(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),s=0,a=i.length;s<a;s+=1)o=i[s],Ti.call(e,o)||(e[o]=n[o],r[o]=!0)}function Go(t,e,n,r,i,o,s,a,l){var c,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,u=i.length;c<u;c+=1)Array.isArray(i[c])&&te(t,"nested arrays are not supported inside keys"),typeof i=="object"&&bw(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&bw(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(c=0,u=o.length;c<u;c+=1)kw(t,e,o[c],n);else kw(t,e,o,n);else!t.json&&!Ti.call(n,i)&&Ti.call(e,i)&&(t.line=s||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,te(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):e[i]=o,delete n[i];return e}function kg(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):te(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function dt(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;ao(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(kr(i))for(kg(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&Su(t,"deficient indentation"),r}function md(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||hn(n)))}function _g(t,e){e===1?t.result+=" ":e>1&&(t.result+=gt.repeat(`
`,e-1))}function jpe(t,e,n){var r,i,o,s,a,l,c,u,d=t.kind,f=t.result,h;if(h=t.input.charCodeAt(t.position),hn(h)||Ho(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(i=t.input.charCodeAt(t.position+1),hn(i)||n&&Ho(i)))return!1;for(t.kind="scalar",t.result="",o=s=t.position,a=!1;h!==0;){if(h===58){if(i=t.input.charCodeAt(t.position+1),hn(i)||n&&Ho(i))break}else if(h===35){if(r=t.input.charCodeAt(t.position-1),hn(r))break}else{if(t.position===t.lineStart&&md(t)||n&&Ho(h))break;if(kr(h))if(l=t.line,c=t.lineStart,u=t.lineIndent,dt(t,!1,-1),t.lineIndent>=e){a=!0,h=t.input.charCodeAt(t.position);continue}else{t.position=s,t.line=l,t.lineStart=c,t.lineIndent=u;break}}a&&(xi(t,o,s,!1),_g(t,t.line-l),o=s=t.position,a=!1),ao(h)||(s=t.position+1),h=t.input.charCodeAt(++t.position)}return xi(t,o,s,!1),t.result?!0:(t.kind=d,t.result=f,!1)}function zpe(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(xi(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else kr(n)?(xi(t,r,i,!0),_g(t,dt(t,!1,e)),r=i=t.position):t.position===t.lineStart&&md(t)?te(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);te(t,"unexpected end of the stream within a single quoted scalar")}function Vpe(t,e){var n,r,i,o,s,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return xi(t,n,t.position,!0),t.position++,!0;if(a===92){if(xi(t,n,t.position,!0),a=t.input.charCodeAt(++t.position),kr(a))dt(t,!1,e);else if(a<256&&LC[a])t.result+=IC[a],t.position++;else if((s=Ipe(a))>0){for(i=s,o=0;i>0;i--)a=t.input.charCodeAt(++t.position),(s=Lpe(a))>=0?o=(o<<4)+s:te(t,"expected hexadecimal character");t.result+=Bpe(o),t.position++}else te(t,"unknown escape sequence");n=r=t.position}else kr(a)?(xi(t,n,r,!0),_g(t,dt(t,!1,e)),n=r=t.position):t.position===t.lineStart&&md(t)?te(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}te(t,"unexpected end of the stream within a double quoted scalar")}function qpe(t,e){var n=!0,r,i,o,s=t.tag,a,l=t.anchor,c,u,d,f,h,p=Object.create(null),m,g,b,_;if(_=t.input.charCodeAt(t.position),_===91)u=93,h=!1,a=[];else if(_===123)u=125,h=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),_=t.input.charCodeAt(++t.position);_!==0;){if(dt(t,!0,e),_=t.input.charCodeAt(t.position),_===u)return t.position++,t.tag=s,t.anchor=l,t.kind=h?"mapping":"sequence",t.result=a,!0;n?_===44&&te(t,"expected the node content, but found ','"):te(t,"missed comma between flow collection entries"),g=m=b=null,d=f=!1,_===63&&(c=t.input.charCodeAt(t.position+1),hn(c)&&(d=f=!0,t.position++,dt(t,!0,e))),r=t.line,i=t.lineStart,o=t.position,Ms(t,e,Cu,!1,!0),g=t.tag,m=t.result,dt(t,!0,e),_=t.input.charCodeAt(t.position),(f||t.line===r)&&_===58&&(d=!0,_=t.input.charCodeAt(++t.position),dt(t,!0,e),Ms(t,e,Cu,!1,!0),b=t.result),h?Go(t,a,p,g,m,b,r,i,o):d?a.push(Go(t,null,p,g,m,b,r,i,o)):a.push(m),dt(t,!0,e),_=t.input.charCodeAt(t.position),_===44?(n=!0,_=t.input.charCodeAt(++t.position)):n=!1}te(t,"unexpected end of the stream within a flow collection")}function Upe(t,e){var n,r,i=jh,o=!1,s=!1,a=e,l=0,c=!1,u,d;if(d=t.input.charCodeAt(t.position),d===124)r=!1;else if(d===62)r=!0;else return!1;for(t.kind="scalar",t.result="";d!==0;)if(d=t.input.charCodeAt(++t.position),d===43||d===45)jh===i?i=d===43?gw:Mpe:te(t,"repeat of a chomping mode identifier");else if((u=Rpe(d))>=0)u===0?te(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?te(t,"repeat of an indentation width identifier"):(a=e+u-1,s=!0);else break;if(ao(d)){do d=t.input.charCodeAt(++t.position);while(ao(d));if(d===35)do d=t.input.charCodeAt(++t.position);while(!kr(d)&&d!==0)}for(;d!==0;){for(kg(t),t.lineIndent=0,d=t.input.charCodeAt(t.position);(!s||t.lineIndent<a)&&d===32;)t.lineIndent++,d=t.input.charCodeAt(++t.position);if(!s&&t.lineIndent>a&&(a=t.lineIndent),kr(d)){l++;continue}if(t.lineIndent<a){i===gw?t.result+=gt.repeat(`
`,o?1+l:l):i===jh&&o&&(t.result+=`
`);break}for(r?ao(d)?(c=!0,t.result+=gt.repeat(`
`,o?1+l:l)):c?(c=!1,t.result+=gt.repeat(`
`,l+1)):l===0?o&&(t.result+=" "):t.result+=gt.repeat(`
`,l):t.result+=gt.repeat(`
`,o?1+l:l),o=!0,s=!0,l=0,n=t.position;!kr(d)&&d!==0;)d=t.input.charCodeAt(++t.position);xi(t,n,t.position,!1)}return!0}function _w(t,e){var n,r=t.tag,i=t.anchor,o=[],s,a=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,te(t,"tab characters must not be used in indentation")),!(l!==45||(s=t.input.charCodeAt(t.position+1),!hn(s))));){if(a=!0,t.position++,dt(t,!0,-1)&&t.lineIndent<=e){o.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,Ms(t,e,OC,!1,!0),o.push(t.result),dt(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)te(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=o,!0):!1}function Wpe(t,e,n){var r,i,o,s,a,l,c=t.tag,u=t.anchor,d={},f=Object.create(null),h=null,p=null,m=null,g=!1,b=!1,_;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=d),_=t.input.charCodeAt(t.position);_!==0;){if(!g&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,te(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),o=t.line,(_===63||_===58)&&hn(r))_===63?(g&&(Go(t,d,f,h,p,null,s,a,l),h=p=m=null),b=!0,g=!0,i=!0):g?(g=!1,i=!0):te(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,_=r;else{if(s=t.line,a=t.lineStart,l=t.position,!Ms(t,n,MC,!1,!0))break;if(t.line===o){for(_=t.input.charCodeAt(t.position);ao(_);)_=t.input.charCodeAt(++t.position);if(_===58)_=t.input.charCodeAt(++t.position),hn(_)||te(t,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(Go(t,d,f,h,p,null,s,a,l),h=p=m=null),b=!0,g=!1,i=!1,h=t.tag,p=t.result;else if(b)te(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=c,t.anchor=u,!0}else if(b)te(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=c,t.anchor=u,!0}if((t.line===o||t.lineIndent>e)&&(g&&(s=t.line,a=t.lineStart,l=t.position),Ms(t,e,vu,!0,i)&&(g?p=t.result:m=t.result),g||(Go(t,d,f,h,p,m,s,a,l),h=p=m=null),dt(t,!0,-1),_=t.input.charCodeAt(t.position)),(t.line===o||t.lineIndent>e)&&_!==0)te(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return g&&Go(t,d,f,h,p,null,s,a,l),b&&(t.tag=c,t.anchor=u,t.kind="mapping",t.result=d),b}function Hpe(t){var e,n=!1,r=!1,i,o,s;if(s=t.input.charCodeAt(t.position),s!==33)return!1;if(t.tag!==null&&te(t,"duplication of a tag property"),s=t.input.charCodeAt(++t.position),s===60?(n=!0,s=t.input.charCodeAt(++t.position)):s===33?(r=!0,i="!!",s=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do s=t.input.charCodeAt(++t.position);while(s!==0&&s!==62);t.position<t.length?(o=t.input.slice(e,t.position),s=t.input.charCodeAt(++t.position)):te(t,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!hn(s);)s===33&&(r?te(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),NC.test(i)||te(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),s=t.input.charCodeAt(++t.position);o=t.input.slice(e,t.position),$pe.test(o)&&te(t,"tag suffix cannot contain flow indicator characters")}o&&!$C.test(o)&&te(t,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{te(t,"tag name is malformed: "+o)}return n?t.tag=o:Ti.call(t.tagMap,i)?t.tag=t.tagMap[i]+o:i==="!"?t.tag="!"+o:i==="!!"?t.tag="tag:yaml.org,2002:"+o:te(t,'undeclared tag handle "'+i+'"'),!0}function Gpe(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&te(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!hn(n)&&!Ho(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&te(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function Kpe(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!hn(r)&&!Ho(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&te(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),Ti.call(t.anchorMap,n)||te(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],dt(t,!0,-1),!0}function Ms(t,e,n,r,i){var o,s,a,l=1,c=!1,u=!1,d,f,h,p,m,g;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=s=a=vu===n||OC===n,r&&dt(t,!0,-1)&&(c=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;Hpe(t)||Gpe(t);)dt(t,!0,-1)?(c=!0,a=o,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=c||i),(l===1||vu===n)&&(Cu===n||MC===n?m=e:m=e+1,g=t.position-t.lineStart,l===1?a&&(_w(t,g)||Wpe(t,g,m))||qpe(t,m)?u=!0:(s&&Upe(t,m)||zpe(t,m)||Vpe(t,m)?u=!0:Kpe(t)?(u=!0,(t.tag!==null||t.anchor!==null)&&te(t,"alias node should not have any properties")):jpe(t,m,Cu===n)&&(u=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(u=a&&_w(t,g))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&te(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),d=0,f=t.implicitTypes.length;d<f;d+=1)if(p=t.implicitTypes[d],p.resolve(t.result)){t.result=p.construct(t.result),t.tag=p.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Ti.call(t.typeMap[t.kind||"fallback"],t.tag))p=t.typeMap[t.kind||"fallback"][t.tag];else for(p=null,h=t.typeMap.multi[t.kind||"fallback"],d=0,f=h.length;d<f;d+=1)if(t.tag.slice(0,h[d].tag.length)===h[d].tag){p=h[d];break}p||te(t,"unknown tag !<"+t.tag+">"),t.result!==null&&p.kind!==t.kind&&te(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+p.kind+'", not "'+t.kind+'"'),p.resolve(t.result,t.tag)?(t.result=p.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):te(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||u}function Jpe(t){var e=t.position,n,r,i,o=!1,s;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(s=t.input.charCodeAt(t.position))!==0&&(dt(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||s!==37));){for(o=!0,s=t.input.charCodeAt(++t.position),n=t.position;s!==0&&!hn(s);)s=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&te(t,"directive name must not be less than one character in length");s!==0;){for(;ao(s);)s=t.input.charCodeAt(++t.position);if(s===35){do s=t.input.charCodeAt(++t.position);while(s!==0&&!kr(s));break}if(kr(s))break;for(n=t.position;s!==0&&!hn(s);)s=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}s!==0&&kg(t),Ti.call(ww,r)?ww[r](t,r,i):Su(t,'unknown document directive "'+r+'"')}if(dt(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,dt(t,!0,-1)):o&&te(t,"directives end mark is expected"),Ms(t,t.lineIndent-1,vu,!1,!0),dt(t,!0,-1),t.checkLineBreaks&&Npe.test(t.input.slice(e,t.position))&&Su(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&md(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,dt(t,!0,-1));return}if(t.position<t.length-1)te(t,"end of the stream or a document separator is expected");else return}function BC(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new Ppe(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,te(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Jpe(n);return n.documents}function Ype(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var r=BC(t,n);if(typeof e!="function")return r;for(var i=0,o=r.length;i<o;i+=1)e(r[i])}function Xpe(t,e){var n=BC(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new Xt("expected a single document in the stream, but found more")}}var Qpe=Ype,Zpe=Xpe,PC={loadAll:Qpe,load:Zpe},jC=Object.prototype.toString,zC=Object.prototype.hasOwnProperty,Dg=65279,eme=9,Qa=10,tme=13,nme=32,rme=33,ime=34,Ap=35,ome=37,sme=38,ame=39,lme=42,VC=44,cme=45,Eu=58,ume=61,dme=62,hme=63,fme=64,qC=91,UC=93,pme=96,WC=123,mme=124,HC=125,Kt={};Kt[0]="\\0";Kt[7]="\\a";Kt[8]="\\b";Kt[9]="\\t";Kt[10]="\\n";Kt[11]="\\v";Kt[12]="\\f";Kt[13]="\\r";Kt[27]="\\e";Kt[34]='\\"';Kt[92]="\\\\";Kt[133]="\\N";Kt[160]="\\_";Kt[8232]="\\L";Kt[8233]="\\P";var gme=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],bme=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function yme(t,e){var n,r,i,o,s,a,l;if(e===null)return{};for(n={},r=Object.keys(e),i=0,o=r.length;i<o;i+=1)s=r[i],a=String(e[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),l=t.compiledTypeMap.fallback[s],l&&zC.call(l.styleAliases,a)&&(a=l.styleAliases[a]),n[s]=a;return n}function wme(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new Xt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+gt.repeat("0",r-e.length)+e}var kme=1,Za=2;function _me(t){this.schema=t.schema||wg,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=gt.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=yme(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Za:kme,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Dw(t,e){for(var n=gt.repeat(" ",e),r=0,i=-1,o="",s,a=t.length;r<a;)i=t.indexOf(`
`,r),i===-1?(s=t.slice(r),r=a):(s=t.slice(r,i+1),r=i+1),s.length&&s!==`
`&&(o+=n),o+=s;return o}function Fp(t,e){return`
`+gt.repeat(" ",t.indent*e)}function Dme(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function Au(t){return t===nme||t===eme}function el(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==Dg||65536<=t&&t<=1114111}function xw(t){return el(t)&&t!==Dg&&t!==tme&&t!==Qa}function Cw(t,e,n){var r=xw(t),i=r&&!Au(t);return(n?r:r&&t!==VC&&t!==qC&&t!==UC&&t!==WC&&t!==HC)&&t!==Ap&&!(e===Eu&&!i)||xw(e)&&!Au(e)&&t===Ap||e===Eu&&i}function xme(t){return el(t)&&t!==Dg&&!Au(t)&&t!==cme&&t!==hme&&t!==Eu&&t!==VC&&t!==qC&&t!==UC&&t!==WC&&t!==HC&&t!==Ap&&t!==sme&&t!==lme&&t!==rme&&t!==mme&&t!==ume&&t!==dme&&t!==ame&&t!==ime&&t!==ome&&t!==fme&&t!==pme}function Cme(t){return!Au(t)&&t!==Eu}function aa(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function GC(t){var e=/^\n* /;return e.test(t)}var KC=1,Tp=2,JC=3,YC=4,jo=5;function vme(t,e,n,r,i,o,s,a){var l,c=0,u=null,d=!1,f=!1,h=r!==-1,p=-1,m=xme(aa(t,0))&&Cme(aa(t,t.length-1));if(e||s)for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=aa(t,l),!el(c))return jo;m=m&&Cw(c,u,a),u=c}else{for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=aa(t,l),c===Qa)d=!0,h&&(f=f||l-p-1>r&&t[p+1]!==" ",p=l);else if(!el(c))return jo;m=m&&Cw(c,u,a),u=c}f=f||h&&l-p-1>r&&t[p+1]!==" "}return!d&&!f?m&&!s&&!i(t)?KC:o===Za?jo:Tp:n>9&&GC(t)?jo:s?o===Za?jo:Tp:f?YC:JC}function Sme(t,e,n,r,i){t.dump=function(){if(e.length===0)return t.quotingType===Za?'""':"''";if(!t.noCompatMode&&(gme.indexOf(e)!==-1||bme.test(e)))return t.quotingType===Za?'"'+e+'"':"'"+e+"'";var o=t.indent*Math.max(1,n),s=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-o),a=r||t.flowLevel>-1&&n>=t.flowLevel;function l(c){return Dme(t,c)}switch(vme(e,a,t.indent,s,l,t.quotingType,t.forceQuotes&&!r,i)){case KC:return e;case Tp:return"'"+e.replace(/'/g,"''")+"'";case JC:return"|"+vw(e,t.indent)+Sw(Dw(e,o));case YC:return">"+vw(e,t.indent)+Sw(Dw(Eme(e,s),o));case jo:return'"'+Ame(e)+'"';default:throw new Xt("impossible error: invalid scalar style")}}()}function vw(t,e){var n=GC(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),o=i?"+":r?"":"-";return n+o+`
`}function Sw(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function Eme(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var c=t.indexOf(`
`);return c=c!==-1?c:t.length,n.lastIndex=c,Ew(t.slice(0,c),e)}(),i=t[0]===`
`||t[0]===" ",o,s;s=n.exec(t);){var a=s[1],l=s[2];o=l[0]===" ",r+=a+(!i&&!o&&l!==""?`
`:"")+Ew(l,e),i=o}return r}function Ew(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,o,s=0,a=0,l="";r=n.exec(t);)a=r.index,a-i>e&&(o=s>i?s:a,l+=`
`+t.slice(i,o),i=o+1),s=a;return l+=`
`,t.length-i>e&&s>i?l+=t.slice(i,s)+`
`+t.slice(s+1):l+=t.slice(i),l.slice(1)}function Ame(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=aa(t,i),r=Kt[n],!r&&el(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||wme(n);return e}function Fme(t,e,n){var r="",i=t.tag,o,s,a;for(o=0,s=n.length;o<s;o+=1)a=n[o],t.replacer&&(a=t.replacer.call(n,String(o),a)),(Gr(t,e,a,!1,!1)||typeof a>"u"&&Gr(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}function Aw(t,e,n,r){var i="",o=t.tag,s,a,l;for(s=0,a=n.length;s<a;s+=1)l=n[s],t.replacer&&(l=t.replacer.call(n,String(s),l)),(Gr(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&Gr(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=Fp(t,e)),t.dump&&Qa===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=o,t.dump=i||"[]"}function Tme(t,e,n){var r="",i=t.tag,o=Object.keys(n),s,a,l,c,u;for(s=0,a=o.length;s<a;s+=1)u="",r!==""&&(u+=", "),t.condenseFlow&&(u+='"'),l=o[s],c=n[l],t.replacer&&(c=t.replacer.call(n,l,c)),Gr(t,e,l,!1,!1)&&(t.dump.length>1024&&(u+="? "),u+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Gr(t,e,c,!1,!1)&&(u+=t.dump,r+=u));t.tag=i,t.dump="{"+r+"}"}function Mme(t,e,n,r){var i="",o=t.tag,s=Object.keys(n),a,l,c,u,d,f;if(t.sortKeys===!0)s.sort();else if(typeof t.sortKeys=="function")s.sort(t.sortKeys);else if(t.sortKeys)throw new Xt("sortKeys must be a boolean or a function");for(a=0,l=s.length;a<l;a+=1)f="",(!r||i!=="")&&(f+=Fp(t,e)),c=s[a],u=n[c],t.replacer&&(u=t.replacer.call(n,c,u)),Gr(t,e+1,c,!0,!0,!0)&&(d=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,d&&(t.dump&&Qa===t.dump.charCodeAt(0)?f+="?":f+="? "),f+=t.dump,d&&(f+=Fp(t,e)),Gr(t,e+1,u,!0,d)&&(t.dump&&Qa===t.dump.charCodeAt(0)?f+=":":f+=": ",f+=t.dump,i+=f));t.tag=o,t.dump=i||"{}"}function Fw(t,e,n){var r,i,o,s,a,l;for(i=n?t.explicitTypes:t.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(n?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(l=t.styleMap[a.tag]||a.defaultStyle,jC.call(a.represent)==="[object Function]")r=a.represent(e,l);else if(zC.call(a.represent,l))r=a.represent[l](e,l);else throw new Xt("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}function Gr(t,e,n,r,i,o,s){t.tag=null,t.dump=n,Fw(t,n,!1)||Fw(t,n,!0);var a=jC.call(t.dump),l=r,c;r&&(r=t.flowLevel<0||t.flowLevel>e);var u=a==="[object Object]"||a==="[object Array]",d,f;if(u&&(d=t.duplicates.indexOf(n),f=d!==-1),(t.tag!==null&&t.tag!=="?"||f||t.indent!==2&&e>0)&&(i=!1),f&&t.usedDuplicates[d])t.dump="*ref_"+d;else{if(u&&f&&!t.usedDuplicates[d]&&(t.usedDuplicates[d]=!0),a==="[object Object]")r&&Object.keys(t.dump).length!==0?(Mme(t,e,t.dump,i),f&&(t.dump="&ref_"+d+t.dump)):(Tme(t,e,t.dump),f&&(t.dump="&ref_"+d+" "+t.dump));else if(a==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!s&&e>0?Aw(t,e-1,t.dump,i):Aw(t,e,t.dump,i),f&&(t.dump="&ref_"+d+t.dump)):(Fme(t,e,t.dump),f&&(t.dump="&ref_"+d+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&Sme(t,t.dump,e,o,l);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Xt("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(c=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",t.dump=c+" "+t.dump)}return!0}function Ome(t,e){var n=[],r=[],i,o;for(Mp(t,n,r),i=0,o=r.length;i<o;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(o)}function Mp(t,e,n){var r,i,o;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,o=t.length;i<o;i+=1)Mp(t[i],e,n);else for(r=Object.keys(t),i=0,o=r.length;i<o;i+=1)Mp(t[r[i]],e,n)}function Nme(t,e){e=e||{};var n=new _me(e);n.noRefs||Ome(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Gr(n,0,r,!0,!0)?n.dump+`
`:""}var $me=Nme,Lme={dump:$me};function xg(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var Ime=Nt,Rme=hC,Bme=gC,Pme=_C,jme=DC,zme=wg,Vme=PC.load,qme=PC.loadAll,Ume=Lme.dump,Wme=Xt,Hme={binary:EC,float:kC,map:mC,null:bC,pairs:FC,set:TC,timestamp:vC,bool:yC,int:wC,merge:SC,omap:AC,seq:pC,str:fC},Gme=xg("safeLoad","load"),Kme=xg("safeLoadAll","loadAll"),Jme=xg("safeDump","dump"),XC={Type:Ime,Schema:Rme,FAILSAFE_SCHEMA:Bme,JSON_SCHEMA:Pme,CORE_SCHEMA:jme,DEFAULT_SCHEMA:zme,load:Vme,loadAll:qme,dump:Ume,YAMLException:Wme,types:Hme,safeLoad:Gme,safeLoadAll:Kme,safeDump:Jme},QC=tl;tl.flatten=tl;tl.unflatten=tv;function ZC(t){return t&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function ev(t){return t}function tl(t,e){e=e||{};const n=e.delimiter||".",r=e.maxDepth,i=e.transformKey||ev,o={};function s(a,l,c){c=c||1,Object.keys(a).forEach(function(u){const d=a[u],f=e.safe&&Array.isArray(d),h=Object.prototype.toString.call(d),p=ZC(d),m=h==="[object Object]"||h==="[object Array]",g=l?l+n+i(u):i(u);if(!f&&!p&&m&&Object.keys(d).length&&(!e.maxDepth||c<r))return s(d,g,c+1);o[g]=d})}return s(t),o}function tv(t,e){e=e||{};const n=e.delimiter||".",r=e.overwrite||!1,i=e.transformKey||ev,o={};if(ZC(t)||Object.prototype.toString.call(t)!=="[object Object]")return t;function a(u){const d=Number(u);return isNaN(d)||u.indexOf(".")!==-1||e.object?u:d}function l(u,d,f){return Object.keys(f).reduce(function(h,p){return h[u+n+p]=f[p],h},d)}function c(u){const d=Object.prototype.toString.call(u),f=d==="[object Array]",h=d==="[object Object]";if(u){if(f)return!u.length;if(h)return!Object.keys(u).length}else return!0}return t=Object.keys(t).reduce(function(u,d){const f=Object.prototype.toString.call(t[d]);return!(f==="[object Object]"||f==="[object Array]")||c(t[d])?(u[d]=t[d],u):l(d,u,tl(t[d],e))},{}),Object.keys(t).forEach(function(u){const d=u.split(n).map(i);let f=a(d.shift()),h=a(d[0]),p=o;for(;h!==void 0;){if(f==="__proto__")return;const m=Object.prototype.toString.call(p[f]),g=m==="[object Object]"||m==="[object Array]";if(!r&&!g&&typeof p[f]<"u")return;(r&&!g||!r&&p[f]==null)&&(p[f]=typeof h=="number"&&!e.object?[]:{}),p=p[f],d.length>0&&(f=a(d.shift()),h=a(d[0]))}p[f]=tv(t[u],e)}),o}function Yme(t,e){if(t=t.replace(e.subset?Xme(e.subset):/["&'<>`]/g,r),e.subset||e.escapeOnly)return t;return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n).replace(/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,r);function n(i,o,s){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,s.charCodeAt(o+2),e)}function r(i,o,s){return e.format(i.charCodeAt(0),s.charCodeAt(o+1),e)}}function Xme(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const Qme=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"];function Zme(t){return"&#x"+t.toString(16).toUpperCase()+";"}function ege(t,e){return Yme(t,Object.assign({format:Zme},e))}const Tw={0:"\uFFFD",128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"};function nv(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}function tge(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}function nge(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}function Mw(t){return nge(t)||nv(t)}const Eo=String.fromCharCode,rge=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function Cg(t,e={}){const n=typeof e.additional=="string"?e.additional.charCodeAt(0):e.additional,r=[];let i=0,o=-1,s="",a,l;e.position&&("start"in e.position||"indent"in e.position?(l=e.position.indent,a=e.position.start):a=e.position);let c=(a?a.line:0)||1,u=(a?a.column:0)||1,d=h(),f;for(i--;++i<=t.length;)if(f===10&&(u=(l?l[o]:0)||1),f=t.charCodeAt(i),f===38){const g=t.charCodeAt(i+1);if(g===9||g===10||g===12||g===32||g===38||g===60||Number.isNaN(g)||n&&g===n){s+=Eo(f),u++;continue}const b=i+1;let _=b,w=b,x;if(g===35){w=++_;const N=t.charCodeAt(w);N===88||N===120?(x="hexadecimal",w=++_):x="decimal"}else x="named";let k="",y="",D="";const S=x==="named"?Mw:x==="decimal"?nv:tge;for(w--;++w<=t.length;){const N=t.charCodeAt(w);if(!S(N))break;D+=Eo(N),x==="named"&&Qme.includes(D)&&(k=D,y=Ma(D))}let F=t.charCodeAt(w)===59;if(F){w++;const N=x==="named"?Ma(D):!1;N&&(k=D,y=N)}let O=1+w-b,E="";if(!(!F&&e.nonTerminated===!1))if(!D)x!=="named"&&p(4,O);else if(x==="named"){if(F&&!y)p(5,1);else if(k!==D&&(w=_+k.length,O=1+w-_,F=!1),!F){const N=k?1:3;if(e.attribute){const I=t.charCodeAt(w);I===61?(p(N,O),y=""):Mw(I)?y="":p(N,O)}else p(N,O)}E=y}else{F||p(2,O);let N=Number.parseInt(D,x==="hexadecimal"?16:10);if(ige(N))p(7,O),E=Eo(65533);else if(N in Tw)p(6,O),E=Tw[N];else{let I="";oge(N)&&p(6,O),N>65535&&(N-=65536,I+=Eo(N>>>10|55296),N=56320|N&1023),E=I+Eo(N)}}if(E){m(),d=h(),i=w-1,u+=w-b+1,r.push(E);const N=h();N.offset++,e.reference&&e.reference.call(e.referenceContext,E,{start:d,end:N},t.slice(b-1,w)),d=N}else D=t.slice(b-1,w),s+=D,u+=D.length,i=w-1}else f===10&&(c++,o++,u=0),Number.isNaN(f)?m():(s+=Eo(f),u++);return r.join("");function h(){return{line:c,column:u,offset:i+((a?a.offset:0)||0)}}function p(g,b){let _;e.warning&&(_=h(),_.column+=b,_.offset+=b,e.warning.call(e.warningContext,rge[g],_,g))}function m(){s&&(r.push(s),e.text&&e.text.call(e.textContext,s,{start:d,end:h()}),s="")}}function ige(t){return t>=55296&&t<=57343||t>1114111}function oge(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}const Fu="---";function sge(t,e=""){return t=QC.flatten(t,{safe:!0}),Object.keys(t).length?[Fu,XC.dump(t,{lineWidth:-1}).trim(),Fu,e].join(`
`):""}function age(t){let e={};if(t.startsWith(Fu)){const n=t.indexOf(`
`+Fu);if(n!==-1){const r=t.slice(4,n);r&&(e=XC.load(r),t=t.slice(n+4))}}return{content:t,data:QC.unflatten(e||{},{})}}function Op(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,o=n.column||1;return{move:l,current:s,shift:a};function s(){return{now:{line:i,column:o},lineShift:r}}function a(c){r+=c}function l(c=""){const u=c.split(/\r?\n|\r/g),d=u[u.length-1];return i+=u.length-1,o=u.length===1?o+d.length:1+d.length+r,c}}function lge(t,e,n={}){const r=e.indexStack,i=t.children||[],o=Op(n),s=[];let a=-1;for(r.push(-1);++a<i.length;){const c=i[a];r[r.length-1]=a,s.push(o.move(e.handle(c,t,e,{before:`
`,after:`
`,...o.current()}))),c.type!=="list"&&(e.bulletLastUsed=void 0),a<i.length-1&&s.push(o.move(l(c,i[a+1])))}return r.pop(),s.join("");function l(c,u){let d=e.join.length;for(;d--;){const f=e.join[d](c,u,t,e);if(f===!0||f===1)break;if(typeof f=="number")return`
`.repeat(1+f);if(f===!1)return`

<!---->

`}return`

`}}function cge(t,e,n){const r=e.indexStack,i=t.children||[],o=[];let s=-1,a=n.before;r.push(-1);let l=Op(n);for(;++s<i.length;){const c=i[s];let u;if(r[r.length-1]=s,s+1<i.length){let d=e.handle.handlers[i[s+1].type];d&&d.peek&&(d=d.peek),u=d?d(i[s+1],t,e,{before:"",after:"",...l.current()}).charAt(0):""}else u=n.after;o.length>0&&(a==="\r"||a===`
`)&&c.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),a=" ",l=Op(n),l.move(o.join(""))),o.push(l.move(e.handle(c,t,e,{...l.current(),before:a,after:u}))),a=o[o.length-1].slice(-1)}return r.pop(),o.join("")}function uge(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}const dge={}.hasOwnProperty,Ow=/^[^\t\n\r "#'.<=>`}]+$/,hge=2,fge={unsafe:[{character:"\r",inConstruct:["leafComponentLabel","containerComponentLabel"]},{character:`
`,inConstruct:["leafComponentLabel","containerComponentLabel"]},{before:"[^:]",character:":",after:"[A-Za-z]",inConstruct:["phrasing"]},{atBreak:!0,character:":",after:":"}],handlers:{containerComponent:rv,textComponent:mge,componentContainerSection:pge,image:(t,e,n,r)=>No.image(t,e,n,r)+li(t,n),link:(t,e,n,r)=>No.link(t,e,n,r)+li(t,n),strong:(t,e,n,r)=>No.strong(t,e,n,r)+li(t,n),inlineCode:(t,e,n)=>No.inlineCode(t,e,n)+li(t,n),emphasis:(t,e,n,r)=>No.emphasis(t,e,n,r)+li(t,n)}};function pge(t,e,n){return n.indexStack=n.stack,`#${t.name}
${vg(t,n)}`.trim()}function mge(t,e,n){let r;n.indexStack=n.stack;const i=n.enter(t.type);return t.name==="span"?r=`[${vg(t,n)}]${li(t,n)}`:r=":"+(t.name||"")+iv(t,n)+li(t,n),i(),r}let rc=0;function rv(t,e,n){n.indexStack=n.stack;const r=":".repeat(hge+rc);rc+=1;const i=n.enter(t.type);let o=r+(t.name||"")+iv(t,n)+li(t,n),s;t.fmAttributes&&Object.keys(t.fmAttributes).length>0&&(o+=`
`+sge(t.fmAttributes).trim());const a=t.children.filter(c=>c.type!=="componentContainerSection"),l=t.children.filter(c=>c.type==="componentContainerSection");return t.children=[...a,...l],t.type==="containerComponent"&&(s=vg(t,n),s&&(o+=`
`+s),o+=`
`+r,rc>1&&(o=o.split(`
`).map(c=>"  "+c).join(`
`))),rc-=1,i(),o}rv.peek=function(){return":"};function iv(t,e){let n=t;if(t.type==="containerComponent"){if(!ov(t))return"";n=t.children[0]}const r=e.enter("label"),i=e.enter(t.type+"Label"),o=cge(n,e,{before:"[",after:"]"});return i(),r(),o?"["+o+"]":""}function li(t,e){const n=uge(e),r=t.type==="textComponent"?[n]:[n,`
`,"\r"],i=t.attributes||{},o=[];let s,a="",l="",c,u,d;for(u in i)if(dge.call(i,u)&&i[u]!=null)if(c=String(i[u]),u==="id")s=Ow.test(c)?"#"+c:f("id",c);else if(u==="class"){for(c=c.split(/[\t\n\r ]+/g),a=[],l=[],d=-1;++d<c.length;)(Ow.test(c[d])?l:a).push(c[d]);a=a.length?f("class",a.join(" ")):"",l=l.length?"."+l.join("."):""}else u.startsWith(":")&&c==="true"?o.push(u.slice(1)):o.push(f(u,c));return a&&o.unshift(a),l&&o.unshift(l),s&&o.unshift(s),o.length?"{"+o.join(" ")+"}":"";function f(h,p){return h+"="+n+ege(p,{subset:r})+n}}function vg(t,e){const n=ov(t)?Object.assign({},t,{children:t.children.slice(1)}):t;return lge(n,e)}function ov(t){return t.children&&t.children[0]&&t.children[0].data&&t.children[0].data.componentLabel}const gge=["textComponent"],bge={componentContainer:_ge,componentContainerSection:xge,componentContainerDataSection:Cge,componentContainerAttributes:Vh,componentContainerLabel:Mge,bindingContent:wge,componentLeaf:Age,componentLeafAttributes:Vh,componentText:Tge,textSpan:Fge,componentTextAttributes:Vh},yge={bindingContent:kge,componentContainerSectionTitle:Ege,listUnordered:Jh,listOrdered:Jh,listItem:Jh,componentContainerSection:vge,componentContainerDataSection:Sge,componentContainer:Dge,componentContainerAttributeClassValue:Uh,componentContainerAttributeIdValue:qh,componentContainerAttributeName:Hh,componentContainerAttributeValue:Wh,componentContainerAttributes:Gh,componentContainerLabel:Oge,componentContainerName:zh,componentContainerAttributeInitializerMarker(){const t=this.getData("componentAttributes");t[t.length-1][1]=""},componentLeaf:Kh,componentLeafAttributeClassValue:Uh,componentLeafAttributeIdValue:qh,componentLeafAttributeName:Hh,componentLeafAttributeValue:Wh,componentLeafAttributes:Gh,componentLeafName:zh,componentText:Kh,textSpan:Kh,componentTextAttributeClassValue:Uh,componentTextAttributeIdValue:qh,componentTextAttributeName:Hh,componentTextAttributeValue:Wh,componentTextAttributes:Gh,componentTextName:zh};function wge(t){this.enter({type:"textComponent",name:"binding",attributes:{value:this.sliceSerialize(t).trim()}},t)}function kge(t){this.exit(t)}function _ge(t){Il.call(this,"containerComponent",t)}function Dge(t){const e=this.stack[this.stack.length-1];if(e.children.length>1){const n=e.children.find(r=>r.rawData);e.rawData=n==null?void 0:n.rawData}e.children=e.children.flatMap(n=>n.rawData?[]:n.name==="default"||!n.name?n.children:(n.data={hName:"component-slot",hProperties:{...n.attributes,[`v-slot:${n.name}`]:""}},n)),this.exit(t)}function xge(t){Il.call(this,"componentContainerSection",t)}function Cge(t){Il.call(this,"componentContainerDataSection",t)}function vge(t){const e=this.stack[this.stack.length-1];sv.call(this,e),this.exit(t)}function Sge(t){let e=this.stack[this.stack.length-1];e=sv.call(this,e),e.type==="componentContainerDataSection"&&(e.rawData=this.sliceSerialize(t),this.exit(t))}function Ege(t){var e;this.stack[this.stack.length-1].name=(e=this.sliceSerialize(t))==null?void 0:e.trim()}function Age(t){Il.call(this,"leafComponent",t)}function Fge(t){this.enter({type:"textComponent",name:"span",attributes:{},children:[]},t)}function Tge(t){Il.call(this,"textComponent",t)}function Il(t,e){this.enter({type:t,name:"",attributes:{},children:[]},e)}function zh(t){this.stack[this.stack.length-1].name=this.sliceSerialize(t)}function Mge(t){this.enter({type:"paragraph",data:{componentLabel:!0},children:[]},t)}function Oge(t){this.exit(t)}function Vh(){this.setData("componentAttributes",[]),this.buffer()}function qh(t){this.getData("componentAttributes").push(["id",Cg(this.sliceSerialize(t))])}function Uh(t){this.getData("componentAttributes").push(["class",Cg(this.sliceSerialize(t))])}function Wh(t){const e=this.getData("componentAttributes");e[e.length-1][1]=Cg(this.sliceSerialize(t))}function Hh(t){this.getData("componentAttributes").push([this.sliceSerialize(t),!0])}function Gh(){const t=this.getData("componentAttributes"),e={};let n=-1,r;for(;++n<t.length;){r=t[n];const o=Wn(r[0]);o==="class"&&e.class?e.class+=" "+r[1]:e[o]=r[1]}this.setData("componentAttributes"),this.resume();let i=this.stack[this.stack.length-1];i.type==="paragraph"&&(i=i.children[i.children.length-1]),i.type==="fragment"&&(i=i.children[i.children.length-1]),i.attributes=e}function Kh(t){this.exit(t)}function Jh(t){const[e]=this.tokenStack[this.tokenStack.length-1];e.type===t.type&&this.exit(t)}function sv(t){for(;t.type==="listItem"||t.type==="list";){const[e]=this.tokenStack[this.tokenStack.length-1];this.exit(e),t=this.stack[this.stack.length-1]}return t}const Nge={canContainEols:gge,enter:bge,exit:yge},$ge=2,Lge=3,Nw=35,Ige=1,P={EOF:null,space:32,quotationMark:34,hash:35,apostrophe:39,openingParentheses:40,closingParentheses:41,star:42,comma:44,dash:45,dot:46,colon:58,LessThan:60,equals:61,greaterThan:62,uppercaseX:88,openingSquareBracket:91,backSlash:92,closingSquareBracket:93,underscore:95,backTick:96,lowercaseX:120,openingCurlyBracket:123,closingCurlyBracket:125};function Sg(t,e,n,r,i,o,s){let a=0,l=0;return c;function c(m){if(m!==P.openingSquareBracket)throw new Error("expected `[`");return t.enter(r),t.enter(i),t.consume(m),t.exit(i),u}function u(m){return m===P.closingSquareBracket?(t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):(t.enter(o),d(m))}function d(m){return m===P.EOF||a>999?n(m):m===P.closingSquareBracket&&!l--?h(m):X(m)?s?n(m):(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),d):(t.enter("chunkText",{contentType:"text"}),f(m))}function f(m){return m===P.EOF||X(m)||a>999?(t.exit("chunkText"),d(m)):m===P.openingSquareBracket&&++l>3?n(m):m===P.closingSquareBracket&&!l--?(t.exit("chunkText"),h(m)):(t.consume(m),m===P.backSlash?p:f)}function h(m){return t.exit(o),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e}function p(m){return m===P.openingSquareBracket||m===P.backSlash||m===P.closingSquareBracket?(t.consume(m),a++,f):f(m)}}function gd(t,e,n,r,i,o,s,a,l,c,u,d,f,h,p){let m,g;return b;function b(L){return t.enter(r),t.enter(i),t.consume(L),t.exit(i),_}function _(L){return L===P.hash?(m=s,w(L)):L===P.dot?(m=a,w(L)):L===P.colon||L===P.underscore||Yt(L)?(t.enter(o),t.enter(l),t.consume(L),L===P.colon?y:S):p&&ye(L)?se(t,_,"whitespace")(L):!p&&Ie(L)?dr(t,_)(L):$(L)}function w(L){return t.enter(o),t.enter(m),t.enter(m+"Marker"),t.consume(L),t.exit(m+"Marker"),x}function x(L){return L===P.EOF||L===P.quotationMark||L===P.hash||L===P.apostrophe||L===P.dot||L===P.LessThan||L===P.equals||L===P.greaterThan||L===P.backTick||L===P.closingCurlyBracket||Ie(L)?n(L):(t.enter(m+"Value"),t.consume(L),k)}function k(L){return L===P.EOF||L===P.quotationMark||L===P.apostrophe||L===P.LessThan||L===P.equals||L===P.greaterThan||L===P.backTick?n(L):L===P.hash||L===P.dot||L===P.closingCurlyBracket||Ie(L)?(t.exit(m+"Value"),t.exit(m),t.exit(o),_(L)):(t.consume(L),k)}function y(L){return L===P.dash||Wt(L)?(t.consume(L),y):(t.exit(l),p&&ye(L)?se(t,D,"whitespace")(L):!p&&Ie(L)?dr(t,D)(L):D(L))}function D(L){return L===P.equals?(t.enter(c),t.consume(L),t.exit(c),O):(t.exit(o),n(L))}function S(L){return L===P.dash||L===P.dot||L===P.colon||L===P.underscore||Wt(L)?(t.consume(L),S):(t.exit(l),p&&ye(L)?se(t,F,"whitespace")(L):!p&&Ie(L)?dr(t,F)(L):F(L))}function F(L){return L===P.equals?(t.enter(c),t.consume(L),t.exit(c),O):(t.exit(o),_(L))}function O(L){return L===P.EOF||L===P.LessThan||L===P.equals||L===P.greaterThan||L===P.backTick||L===P.closingCurlyBracket||p&&X(L)?n(L):L===P.quotationMark||L===P.apostrophe?(t.enter(u),t.enter(f),t.consume(L),t.exit(f),g=L,N):p&&ye(L)?se(t,O,"whitespace")(L):!p&&Ie(L)?dr(t,O)(L):(t.enter(d),t.enter(h),t.consume(L),g=void 0,E)}function E(L){return L===P.EOF||L===P.quotationMark||L===P.apostrophe||L===P.LessThan||L===P.equals||L===P.greaterThan||L===P.backTick?n(L):L===P.closingCurlyBracket||Ie(L)?(t.exit(h),t.exit(d),t.exit(o),_(L)):(t.consume(L),E)}function N(L){return L===g?(t.enter(f),t.consume(L),t.exit(f),t.exit(u),t.exit(o),Q):(t.enter(d),I(L))}function I(L){return L===g?(t.exit(d),N(L)):L===P.EOF?n(L):X(L)?p?n(L):dr(t,I)(L):(t.enter(h),t.consume(L),H)}function H(L){return L===g||L===P.EOF||X(L)?(t.exit(h),I(L)):(t.consume(L),H)}function Q(L){return L===P.closingCurlyBracket||Ie(L)?_(L):$(L)}function $(L){return L===P.closingCurlyBracket?(t.enter(i),t.consume(L),t.exit(i),t.exit(r),e):n(L)}}const Rge={tokenize:Vge,partial:!0},Bge={tokenize:Uge,partial:!0},Pge={tokenize:Wge,partial:!0},jge={tokenize:Hge,partial:!0};function zge(t,e,n){const r=this;return i;function i(l){if(l!==P.openingSquareBracket)throw new Error("expected `[`");return r.previous===P.EOF&&r._gfmTasklistFirstContentOfListItem?t.check(Bge,n,o)(l):r.previous===P.openingSquareBracket?n(l):t.check(Pge,n,o)(l)}function o(l){return t.enter("textSpan"),t.attempt(Rge,s,n)(l)}function s(l){return l===P.openingParentheses||l===P.openingSquareBracket?n(l):l===P.openingCurlyBracket?t.attempt(jge,a,a)(l):a(l)}function a(l){return t.exit("textSpan"),e(l)}}function Vge(t,e,n){return Sg(t,e,n,"componentTextLabel","componentTextLabelMarker","componentTextLabelString")}const qge={tokenize:zge};function Uge(t,e,n){return r;function r(o){return t.enter("formGfmTaskCheckbox"),t.consume(o),i}function i(o){return ye(o)||o===P.uppercaseX||o===P.lowercaseX?(t.consume(o),i):o===P.closingSquareBracket?(t.exit("formGfmTaskCheckbox"),e(o)):n(o)}}function Wge(t,e,n){return r;function r(o){return t.enter("doubleBracket"),t.consume(o),i}function i(o){return o!==P.openingSquareBracket?n(o):(t.exit("doubleBracket"),e(o))}}function Hge(t,e,n){return gd(t,e,n,"componentTextAttributes","componentTextAttributesMarker","componentTextAttribute","componentTextAttributeId","componentTextAttributeClass","componentTextAttributeName","componentTextAttributeInitializerMarker","componentTextAttributeValueLiteral","componentTextAttributeValue","componentTextAttributeValueMarker","componentTextAttributeValueData")}const Gge={tokenize:Yge,partial:!0},Kge=["textSpan","attentionSequence","codeText","link","image"];function Jge(t,e,n){const r=this;return i;function i(o){if(o!==P.openingCurlyBracket)throw new Error("expected `{`");const s=r.events[r.events.length-1];return X(r.previous)||!s||!Kge.includes(s[1].type)?n(o):t.attempt(Gge,e,n)(o)}}function Yge(t,e,n){return gd(t,e,n,"componentTextAttributes","componentTextAttributesMarker","componentTextAttribute","componentTextAttributeId","componentTextAttributeClass","componentTextAttributeName","componentTextAttributeInitializerMarker","componentTextAttributeValueLiteral","componentTextAttributeValue","componentTextAttributeValueMarker","componentTextAttributeValueData")}const Xge={tokenize:Jge};function Qge(t,e,n){return r;function r(o){return o!==P.closingCurlyBracket?n(o):(t.exit("bindingContent"),t.enter("bindingFence"),t.consume(o),i)}function i(o){return o!==P.closingCurlyBracket?n(o):(t.consume(o),t.exit("bindingFence"),e)}}function Zge(t,e,n){return r;function r(a){if(a!==P.openingCurlyBracket)throw new Error("expected `{`");return t.enter("bindingFence"),t.consume(a),i}function i(a){return a!==P.openingCurlyBracket?n(a):(t.consume(a),t.exit("bindingFence"),t.enter("bindingContent"),o)}function o(a){return a===P.closingCurlyBracket?t.attempt({tokenize:Qge,partial:!0},s,l=>(t.consume(l),o))(a):(t.consume(a),o)}function s(a){return e(a)}}const e0e={tokenize:Zge};function av(t,e,n,r){const i=this;return o;function o(a){return Yt(a)?(t.enter(r),t.consume(a),s):n(a)}function s(a){return a===P.dash||a===P.underscore||Wt(a)?(t.consume(a),s):(t.exit(r),i.previous===P.underscore?n(a):e(a))}}const $w={tokenize:n0e,partial:!0},Lw={tokenize:r0e,partial:!0};function lv(t){return t!==P.colon||this.events[this.events.length-1][1].type==="characterEscape"}function t0e(t,e,n){const r=this;return i;function i(c){if(c!==P.colon)throw new Error("expected `:`");if(r.previous!==null&&!Ie(r.previous)&&![P.openingSquareBracket,P.star,P.underscore].includes(r.previous))return n(c);if(!lv.call(r,r.previous))throw new Error("expected correct previous");return t.enter("componentText"),t.enter("componentTextMarker"),t.consume(c),t.exit("componentTextMarker"),av.call(r,t,o,n,"componentTextName")}function o(c){return c===P.colon?n(c):c===P.openingSquareBracket?t.attempt($w,a,a)(c):c===P.openingCurlyBracket?t.attempt(Lw,s,s)(c):l(c)}function s(c){return c===P.openingSquareBracket?t.attempt($w,a,a)(c):l(c)}function a(c){return c===P.openingCurlyBracket?t.attempt(Lw,l,l)(c):l(c)}function l(c){return t.exit("componentText"),e(c)}}function n0e(t,e,n){return Sg(t,e,n,"componentTextLabel","componentTextLabelMarker","componentTextLabelString")}function r0e(t,e,n){return gd(t,e,n,"componentTextAttributes","componentTextAttributesMarker","componentTextAttribute","componentTextAttributeId","componentTextAttributeClass","componentTextAttributeName","componentTextAttributeInitializerMarker","componentTextAttributeValueLiteral","componentTextAttributeValue","componentTextAttributeValueMarker","componentTextAttributeValueData")}const cv={tokenize:t0e,previous:lv};function uv(t){let e=-1,n=0;for(;++e<t.length;)n+=typeof t[e]=="string"?t[e].length:1;return n}function i0e(t,e){const n=t[t.length-1];return!n||n[1].type!==e?0:uv(n[2].sliceStream(n[1]))}function Np(t){let e=0,n=t.length-1,r=t[n];for(;n>=0&&r&&r[1].type==="linePrefix"&&r[0]==="exit";)e+=uv(r[2].sliceStream(r[1])),n-=1,r=t[n];return e}const o0e=t=>{const e={isOpen:!1,enter:n=>{const r=e.isOpen;return e.exit(n),n.enter(t),e.isOpen=!0,()=>{e.isOpen=r}},enterOnce:n=>{const r=e.isOpen;return e.isOpen||(n.enter(t),e.isOpen=!0),()=>{e.isOpen=r}},exit:n=>{const r=e.isOpen;return e.isOpen&&(n.exit(t),e.isOpen=!1),()=>{e.isOpen=r}}};return e},s0e={tokenize:a0e,partial:!0};function a0e(t,e,n){let r=0;return i;function i(s){return t.enter("codeFenced"),o(s)}function o(s){return s===P.backTick?(r++,t.consume(s),o):(t.exit("codeFenced"),r>=3?e(s):n(s))}}function l0e(t,e,n,r,i){let o;return t.attempt({tokenize:s,partial:!0},a,r);function s(d,f,h){const p=this;let m=0,g=0;return _;function b(x){return ye(x)?(d.consume(x),g+=1,b):(d.exit("space"),_(x))}function _(x){return ye(x)?(d.enter("space"),b(x)):(g===0&&(g=Np(p.events)),d.enter("componentContainerSectionSequence"),w(x))}function w(x){return x===P.dash||ye(x)?(d.consume(x),m++,w):m<Lge||g!==i||!X(x)?h(x):(d.exit("componentContainerSectionSequence"),se(d,f,"whitespace")(x))}}function a(d){return t.enter("componentContainerDataSection"),t.attempt({tokenize:s,partial:!0},u,l)(d)}function l(d){if(d===null)return t.exit("componentContainerDataSection"),t.exit("componentContainer"),e(d);const f=t.enter("chunkDocument",{contentType:"document",previous:o});return o&&(o.next=f),o=f,c(d)}function c(d){return d===null?(t.exit("chunkDocument"),t.exit("componentContainerDataSection"),t.exit("componentContainer"),e(d)):X(d)?(t.consume(d),t.exit("chunkDocument"),t.attempt({tokenize:s,partial:!0},u,l)):(t.consume(d),c)}function u(d){return t.exit("componentContainerDataSection"),se(t,r,"whitespace")(d)}}const c0e={tokenize:h0e,partial:!0},u0e={tokenize:f0e,partial:!0};function d0e(t,e,n){const r=this,i=Np(this.events);let o=0,s;const a=[];let l=!0,c=!1;const u=o0e("componentContainerSection");return d;function d(E){if(E!==P.colon)throw new Error("expected `:`");return t.enter("componentContainer"),t.enter("componentContainerFence"),t.enter("componentContainerSequence"),m(E)}function f(E,N,I){let H=0,Q=0,$;return L;function L(A){return Q=Np(r.events),$=u.exit(E),E.enter("componentContainerSectionSequence"),T(A)}function T(A){return A===Nw?(E.consume(A),H++,T):H!==Ige||Q!==i||!Yt(A)?($(),I(A)):(E.exit("componentContainerSectionSequence"),se(E,N,"whitespace")(A))}}function h(E){return u.enter(t),X(E)?se(t,y,"whitespace")(E):(t.enter("componentContainerSectionTitle"),p(E))}function p(E){return X(E)?(t.exit("componentContainerSectionTitle"),se(t,y,"linePrefix",4)(E)):(t.consume(E),p)}function m(E){return E===P.colon?(t.consume(E),o++,m):o<$ge?n(E):(t.exit("componentContainerSequence"),av.call(r,t,g,n,"componentContainerName")(E))}function g(E){return E===P.openingSquareBracket?t.attempt(c0e,b,b)(E):b(E)}function b(E){return E===P.openingCurlyBracket?t.attempt(u0e,_,_)(E):_(E)}function _(E){return se(t,w,"whitespace")(E)}function w(E){return t.exit("componentContainerFence"),E===null?(t.exit("componentContainer"),e(E)):X(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),r.interrupt?e:x):n(E)}function x(E){return E===null?(t.exit("componentContainer"),e(E)):l&&(E===P.dash||ye(E))?(l=!1,l0e(t,e,n,x,i)(E)):(t.enter("componentContainerContent"),y(E))}function k(E){return E===null?F(E):E===P.backTick?t.check(s0e,N=>(c=!c,D(N)),D)(E):c?D(E):!a.length&&(E===Nw||E===P.space)?t.attempt({tokenize:f,partial:!0},h,D)(E):E===P.colon?t.attempt({tokenize:O,partial:!0},F,D)(E):D(E)}function y(E){return E===null?F(E):i?se(t,k,"linePrefix",i+1)(E):k(E)}function D(E){if(E===null)return F(E);u.enterOnce(t);const N=t.enter("chunkDocument",{contentType:"document",previous:s});return s&&(s.next=N),s=N,S(E)}function S(E){return E===null?(t.exit("chunkDocument"),F(E)):X(E)?(t.consume(E),t.exit("chunkDocument"),y):(t.consume(E),S)}function F(E){return u.exit(t),t.exit("componentContainerContent"),t.exit("componentContainer"),e(E)}function O(E,N,I){let H=0;return se(E,Q,"linePrefix",4);function Q(T){return E.enter("componentContainerFence"),E.enter("componentContainerSequence"),$(T)}function $(T){return T===P.colon?(E.consume(T),H++,$):a.length?(H===a[a.length-1]&&a.pop(),I(T)):H!==o?I(T):(E.exit("componentContainerSequence"),se(E,L,"whitespace")(T))}function L(T){return T===null||X(T)?(E.exit("componentContainerFence"),N(T)):(a.push(H),I(T))}}}function h0e(t,e,n){return Sg(t,e,n,"componentContainerLabel","componentContainerLabelMarker","componentContainerLabelString",!0)}function f0e(t,e,n){return gd(t,e,n,"componentContainerAttributes","componentContainerAttributesMarker","componentContainerAttribute","componentContainerAttributeId","componentContainerAttributeClass","componentContainerAttributeName","componentContainerAttributeInitializerMarker","componentContainerAttributeValueLiteral","componentContainerAttributeValue","componentContainerAttributeValueMarker","componentContainerAttributeValueData",!0)}const dv={tokenize:d0e,concrete:!0};function p0e(t,e,n){const r=this;return se(t,i,"linePrefix");function i(o){if(i0e(r.events,"linePrefix")<4)return n(o);switch(o){case P.backTick:return wf.tokenize.call(r,t,e,n)(o);case P.colon:return dv.tokenize.call(r,t,e,n)(o);default:return n(o)}}}const Yh={tokenize:p0e};function m0e(t,e,n){const r=this,i=cv.tokenize.call(r,t,se(t,s,"linePrefix"),n);return se(t,o,"linePrefix");function o(a){return a===P.colon?i(a):n(a)}function s(a){return X(a)||a===P.EOF?e(a):n(a)}}const g0e={tokenize:m0e};function b0e(){return{text:{[P.colon]:cv,[P.openingSquareBracket]:[qge],[P.openingCurlyBracket]:[e0e,Xge]},flow:{[P.colon]:[dv,g0e]},flowInitial:{"-2":Yh,"-1":Yh,[P.space]:Yh}}}const y0e=t=>`---
${t}
---`,w0e=function({components:t=[]}={}){const e=this.data();n("micromarkExtensions",b0e()),n("fromMarkdownExtensions",Nge),n("toMarkdownExtensions",fge);function n(r,i){e[r]||(e[r]=[]),e[r].push(i)}return t.length?async(r,{data:i})=>{const o=[];return co(r,["textComponent","leafComponent","containerComponent"],s=>{Iw(s);const{instance:a,options:l}=t.find(c=>c.name===s.name)||{};a&&o.push(a(l)(s,i))}),await Promise.all(o),r}:r=>{co(r,["textComponent","leafComponent","containerComponent"],i=>{Iw(i)})}};function Iw(t){const e=t.data||(t.data={});t.fmAttributes=k0e(t),e.hName=Wn(t.name),e.hProperties=_0e({...t.attributes,...t.fmAttributes})}function k0e(t){if(!t.rawData)return{};const e=t.rawData.replace(/\s-+$/,""),{data:n}=age(y0e(e));return n}function _0e(t){const e=Object.entries(t).map(([n,r])=>n.startsWith(":")?[n,r]:typeof r=="string"?[n,r]:[`:${n}`,JSON.stringify(r)]);return Object.fromEntries(e)}const D0e=xe(),hv=vO(()=>_e(D0e,()=>(t,e)=>{if(!e)return!1;const n=pl(xu)(t.selection);if(!n)return!1;const{node:r,pos:i}=n,{content:o}=r,s=o.content,a=s[s.length-1],l=i+(r.nodeSize-o.size),c=l+o.size-(a.nodeSize-a.content.size);return e(t.tr.setSelection(le.create(t.doc,l,c))),!0})),x0e=SO(()=>({"Mod-a":()=>hv.run()})),C0e=rn.create([hv,x0e]),v0e=rn.create([O_(()=>w0e),...Ffe,Ghe,C0e].flat());var fv=typeof globalThis<"u"?globalThis:typeof{}<"u"?{}:typeof global<"u"?global:typeof self<"u"?self:{},Wc={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(fv,function(){return n={770:function(i,o,s){var a=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(o,"__esModule",{value:!0}),o.setDefaultDebugCall=o.createOnigScanner=o.createOnigString=o.loadWASM=o.OnigScanner=o.OnigString=void 0;const l=a(s(418));let c=null,u=!1;class d{constructor(b){const _=b.length,w=d._utf8ByteLength(b),x=w!==_,k=x?new Uint32Array(_+1):null;x&&(k[_]=w);const y=x?new Uint32Array(w+1):null;x&&(y[w]=_);const D=new Uint8Array(w);let S=0;for(let F=0;F<_;F++){const O=b.charCodeAt(F);let E=O,N=!1;if(O>=55296&&O<=56319&&F+1<_){const I=b.charCodeAt(F+1);I>=56320&&I<=57343&&(E=65536+(O-55296<<10)|I-56320,N=!0)}x&&(k[F]=S,N&&(k[F+1]=S),E<=127?y[S+0]=F:E<=2047?(y[S+0]=F,y[S+1]=F):E<=65535?(y[S+0]=F,y[S+1]=F,y[S+2]=F):(y[S+0]=F,y[S+1]=F,y[S+2]=F,y[S+3]=F)),E<=127?D[S++]=E:E<=2047?(D[S++]=192|(1984&E)>>>6,D[S++]=128|(63&E)>>>0):E<=65535?(D[S++]=224|(61440&E)>>>12,D[S++]=128|(4032&E)>>>6,D[S++]=128|(63&E)>>>0):(D[S++]=240|(1835008&E)>>>18,D[S++]=128|(258048&E)>>>12,D[S++]=128|(4032&E)>>>6,D[S++]=128|(63&E)>>>0),N&&F++}this.utf16Length=_,this.utf8Length=w,this.utf16Value=b,this.utf8Value=D,this.utf16OffsetToUtf8=k,this.utf8OffsetToUtf16=y}static _utf8ByteLength(b){let _=0;for(let w=0,x=b.length;w<x;w++){const k=b.charCodeAt(w);let y=k,D=!1;if(k>=55296&&k<=56319&&w+1<x){const S=b.charCodeAt(w+1);S>=56320&&S<=57343&&(y=65536+(k-55296<<10)|S-56320,D=!0)}_+=y<=127?1:y<=2047?2:y<=65535?3:4,D&&w++}return _}createString(b){const _=b._omalloc(this.utf8Length);return b.HEAPU8.set(this.utf8Value,_),_}}class f{constructor(b){if(this.id=++f.LAST_ID,!c)throw new Error("Must invoke loadWASM first.");this._onigBinding=c,this.content=b;const _=new d(b);this.utf16Length=_.utf16Length,this.utf8Length=_.utf8Length,this.utf16OffsetToUtf8=_.utf16OffsetToUtf8,this.utf8OffsetToUtf16=_.utf8OffsetToUtf16,this.utf8Length<1e4&&!f._sharedPtrInUse?(f._sharedPtr||(f._sharedPtr=c._omalloc(1e4)),f._sharedPtrInUse=!0,c.HEAPU8.set(_.utf8Value,f._sharedPtr),this.ptr=f._sharedPtr):this.ptr=_.createString(c)}convertUtf8OffsetToUtf16(b){return this.utf8OffsetToUtf16?b<0?0:b>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[b]:b}convertUtf16OffsetToUtf8(b){return this.utf16OffsetToUtf8?b<0?0:b>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[b]:b}dispose(){this.ptr===f._sharedPtr?f._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}o.OnigString=f,f.LAST_ID=0,f._sharedPtr=0,f._sharedPtrInUse=!1;class h{constructor(b){if(!c)throw new Error("Must invoke loadWASM first.");const _=[],w=[];for(let D=0,S=b.length;D<S;D++){const F=new d(b[D]);_[D]=F.createString(c),w[D]=F.utf8Length}const x=c._omalloc(4*b.length);c.HEAPU32.set(_,x/4);const k=c._omalloc(4*b.length);c.HEAPU32.set(w,k/4);const y=c._createOnigScanner(x,k,b.length);for(let D=0,S=b.length;D<S;D++)c._ofree(_[D]);c._ofree(k),c._ofree(x),y===0&&function(D){throw new Error(D.UTF8ToString(D._getLastOnigError()))}(c),this._onigBinding=c,this._ptr=y}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(b,_,w){let x=u,k=0;if(typeof w=="number"?(8&w&&(x=!0),k=w):typeof w=="boolean"&&(x=w),typeof b=="string"){b=new f(b);const y=this._findNextMatchSync(b,_,x,k);return b.dispose(),y}return this._findNextMatchSync(b,_,x,k)}_findNextMatchSync(b,_,w,x){const k=this._onigBinding;let y;if(y=w?k._findNextOnigScannerMatchDbg(this._ptr,b.id,b.ptr,b.utf8Length,b.convertUtf16OffsetToUtf8(_),x):k._findNextOnigScannerMatch(this._ptr,b.id,b.ptr,b.utf8Length,b.convertUtf16OffsetToUtf8(_),x),y===0)return null;const D=k.HEAPU32;let S=y/4;const F=D[S++],O=D[S++];let E=[];for(let N=0;N<O;N++){const I=b.convertUtf8OffsetToUtf16(D[S++]),H=b.convertUtf8OffsetToUtf16(D[S++]);E[N]={start:I,end:H,length:H-I}}return{index:F,captureIndices:E}}}o.OnigScanner=h;let p=!1,m=null;o.loadWASM=function(g){if(p)return m;let b,_,w,x;if(p=!0,function(k){return typeof k.instantiator=="function"}(g))b=g.instantiator,_=g.print;else{let k;g instanceof ArrayBuffer||g instanceof Response?k=g:(k=g.data,_=g.print),b=k instanceof ArrayBuffer?function(y){return D=>WebAssembly.instantiate(y,D)}(k):k instanceof Response&&typeof WebAssembly.instantiateStreaming=="function"?function(y){return D=>WebAssembly.instantiateStreaming(y,D)}(k):function(y){return async D=>{const S=await y.arrayBuffer();return WebAssembly.instantiate(S,D)}}(k)}return m=new Promise((k,y)=>{w=k,x=y}),function(k,y,D,S){l.default({print:y,instantiateWasm:(F,O)=>{if(typeof performance>"u"){const E=()=>Date.now();F.env.emscripten_get_now=E,F.wasi_snapshot_preview1.emscripten_get_now=E}return k(F).then(E=>O(E.instance),S),{}}}).then(F=>{c=F,D()})}(b,_,w,x),m},o.createOnigString=function(g){return new f(g)},o.createOnigScanner=function(g){return new h(g)},o.setDefaultDebugCall=function(g){u=g}},418:i=>{var o=(typeof document<"u"&&document.currentScript&&document.currentScript.src,function(s){var a,l,c=(s=s||{})!==void 0?s:{};c.ready=new Promise(function(R,U){a=R,l=U});var u,d={};for(u in c)c.hasOwnProperty(u)&&(d[u]=c[u]);var f,h=!1,p="";function m(R){return c.locateFile?c.locateFile(R,p):p+R}f=function(R){var U;return typeof readbuffer=="function"?new Uint8Array(readbuffer(R)):(k(typeof(U=read(R,"binary"))=="object"),U)},typeof scriptArgs<"u"&&scriptArgs,typeof onig_print<"u"&&(typeof console>"u"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr<"u"?printErr:onig_print);var g=c.print||console.log.bind(console),b=c.printErr||console.warn.bind(console);for(u in d)d.hasOwnProperty(u)&&(c[u]=d[u]);d=null,c.arguments&&c.arguments,c.thisProgram&&c.thisProgram,c.quit&&c.quit;var _,w;c.wasmBinary&&(_=c.wasmBinary),c.noExitRuntime,typeof WebAssembly!="object"&&ee("no native wasm support detected");var x=!1;function k(R,U){R||ee("Assertion failed: "+U)}var y,D,S,F=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function O(R,U,Ce){for(var It=U+Ce,oe=U;R[oe]&&!(oe>=It);)++oe;if(oe-U>16&&R.subarray&&F)return F.decode(R.subarray(U,oe));for(var be="";U<oe;){var it=R[U++];if(128&it){var Tn=63&R[U++];if((224&it)!=192){var Pe=63&R[U++];if((it=(240&it)==224?(15&it)<<12|Tn<<6|Pe:(7&it)<<18|Tn<<12|Pe<<6|63&R[U++])<65536)be+=String.fromCharCode(it);else{var Do=it-65536;be+=String.fromCharCode(55296|Do>>10,56320|1023&Do)}}else be+=String.fromCharCode((31&it)<<6|Tn)}else be+=String.fromCharCode(it)}return be}function E(R,U){return R?O(D,R,U):""}function N(R,U){return R%U>0&&(R+=U-R%U),R}function I(R){y=R,c.HEAP8=new Int8Array(R),c.HEAP16=new Int16Array(R),c.HEAP32=S=new Int32Array(R),c.HEAPU8=D=new Uint8Array(R),c.HEAPU16=new Uint16Array(R),c.HEAPU32=new Uint32Array(R),c.HEAPF32=new Float32Array(R),c.HEAPF64=new Float64Array(R)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le"),c.INITIAL_MEMORY;var H,Q=[],$=[],L=[],T=[];function A(){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)V(c.preRun.shift());$e(Q)}function M(){$e($)}function v(){$e(L)}function C(){if(c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;)Y(c.postRun.shift());$e(T)}function V(R){Q.unshift(R)}function Y(R){T.unshift(R)}$.push({func:function(){B()}});var J=0,q=null;function W(R){J++,c.monitorRunDependencies&&c.monitorRunDependencies(J)}function ce(R){if(J--,c.monitorRunDependencies&&c.monitorRunDependencies(J),J==0&&q){var U=q;q=null,U()}}function ee(R){c.onAbort&&c.onAbort(R),b(R+=""),x=!0,R="abort("+R+"). Build with -s ASSERTIONS=1 for more info.";var U=new WebAssembly.RuntimeError(R);throw l(U),U}function j(R,U){return String.prototype.startsWith?R.startsWith(U):R.indexOf(U)===0}c.preloadedImages={},c.preloadedAudios={};var Z="data:application/octet-stream;base64,";function we(R){return j(R,Z)}var ke,Ne="onig.wasm";function at(R){try{if(R==Ne&&_)return new Uint8Array(_);if(f)return f(R);throw"both async and sync fetching of the wasm failed"}catch(U){ee(U)}}function Xe(){return _||!h||typeof fetch!="function"?Promise.resolve().then(function(){return at(Ne)}):fetch(Ne,{credentials:"same-origin"}).then(function(R){if(!R.ok)throw"failed to load wasm binary file at '"+Ne+"'";return R.arrayBuffer()}).catch(function(){return at(Ne)})}function nt(){var R={env:Rl,wasi_snapshot_preview1:Rl};function U(oe,be){var it=oe.exports;c.asm=it,I((w=c.asm.memory).buffer),H=c.asm.__indirect_function_table,ce()}function Ce(oe){U(oe.instance)}function It(oe){return Xe().then(function(be){return WebAssembly.instantiate(be,R)}).then(oe,function(be){b("failed to asynchronously prepare wasm: "+be),ee(be)})}if(W(),c.instantiateWasm)try{return c.instantiateWasm(R,U)}catch(oe){return b("Module.instantiateWasm callback failed with error: "+oe),!1}return(_||typeof WebAssembly.instantiateStreaming!="function"||we(Ne)||typeof fetch!="function"?It(Ce):fetch(Ne,{credentials:"same-origin"}).then(function(oe){return WebAssembly.instantiateStreaming(oe,R).then(Ce,function(be){return b("wasm streaming compile failed: "+be),b("falling back to ArrayBuffer instantiation"),It(Ce)})})).catch(l),{}}function $e(R){for(;R.length>0;){var U=R.shift();if(typeof U!="function"){var Ce=U.func;typeof Ce=="number"?U.arg===void 0?H.get(Ce)():H.get(Ce)(U.arg):Ce(U.arg===void 0?null:U.arg)}else U(c)}}function lt(R,U,Ce){D.copyWithin(R,U,U+Ce)}function Me(){return D.length}function Lt(R){try{return w.grow(R-y.byteLength+65535>>>16),I(w.buffer),1}catch{}}function rt(R){var U=Me(),Ce=2147483648;if(R>Ce)return!1;for(var It=1;It<=4;It*=2){var oe=U*(1+.2/It);if(oe=Math.min(oe,R+100663296),Lt(Math.min(Ce,N(Math.max(R,oe),65536))))return!0}return!1}we(Ne)||(Ne=m(Ne)),ke=typeof dateNow<"u"?dateNow:function(){return performance.now()};var on={mappings:{},buffers:[null,[],[]],printChar:function(R,U){var Ce=on.buffers[R];U===0||U===10?((R===1?g:b)(O(Ce,0)),Ce.length=0):Ce.push(U)},varargs:void 0,get:function(){return on.varargs+=4,S[on.varargs-4>>2]},getStr:function(R){return E(R)},get64:function(R,U){return R}};function Ri(R,U,Ce,It){for(var oe=0,be=0;be<Ce;be++){for(var it=S[U+8*be>>2],Tn=S[U+(8*be+4)>>2],Pe=0;Pe<Tn;Pe++)on.printChar(R,D[it+Pe]);oe+=Tn}return S[It>>2]=oe,0}function Xr(R){}var Er,Rl={emscripten_get_now:ke,emscripten_memcpy_big:lt,emscripten_resize_heap:rt,fd_write:Ri,setTempRet0:Xr},B=(nt(),c.___wasm_call_ctors=function(){return(B=c.___wasm_call_ctors=c.asm.__wasm_call_ctors).apply(null,arguments)});function G(R){function U(){Er||(Er=!0,c.calledRun=!0,x||(M(),v(),a(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),C()))}J>0||(A(),J>0||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),U()},1)):U()))}if(c.___errno_location=function(){return(c.___errno_location=c.asm.__errno_location).apply(null,arguments)},c._omalloc=function(){return(c._omalloc=c.asm.omalloc).apply(null,arguments)},c._ofree=function(){return(c._ofree=c.asm.ofree).apply(null,arguments)},c._getLastOnigError=function(){return(c._getLastOnigError=c.asm.getLastOnigError).apply(null,arguments)},c._createOnigScanner=function(){return(c._createOnigScanner=c.asm.createOnigScanner).apply(null,arguments)},c._freeOnigScanner=function(){return(c._freeOnigScanner=c.asm.freeOnigScanner).apply(null,arguments)},c._findNextOnigScannerMatch=function(){return(c._findNextOnigScannerMatch=c.asm.findNextOnigScannerMatch).apply(null,arguments)},c._findNextOnigScannerMatchDbg=function(){return(c._findNextOnigScannerMatchDbg=c.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},c.stackSave=function(){return(c.stackSave=c.asm.stackSave).apply(null,arguments)},c.stackRestore=function(){return(c.stackRestore=c.asm.stackRestore).apply(null,arguments)},c.stackAlloc=function(){return(c.stackAlloc=c.asm.stackAlloc).apply(null,arguments)},c.dynCall_jiji=function(){return(c.dynCall_jiji=c.asm.dynCall_jiji).apply(null,arguments)},c.UTF8ToString=E,q=function R(){Er||G(),Er||(q=R)},c.run=G,c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();return G(),s.ready});i.exports=o}},r={},function i(o){var s=r[o];if(s!==void 0)return s.exports;var a=r[o]={exports:{}};return n[o].call(a.exports,a,a.exports,i),a.exports}(770);var n,r})})(Wc);var Eg={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(fv,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,function(c){return o[c]}.bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=3)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(5),a=i(6),l=i(2),c=typeof performance>"u"?function(){return Date.now()}:function(){return performance.now()};r.createGrammar=function(T,A,M,v,C,V){return new k(T,A,M,v,C,V)};var u=function(T){this.scopeName=T};r.FullScopeDependency=u;var d=function(){function T(A,M){this.scopeName=A,this.include=M}return T.prototype.toKey=function(){return this.scopeName+"#"+this.include},T}();r.PartialScopeDependency=d;var f=function(){function T(){this.full=[],this.partial=[],this.visitedRule=new Set,this._seenFull=new Set,this._seenPartial=new Set}return T.prototype.add=function(A){A instanceof u?this._seenFull.has(A.scopeName)||(this._seenFull.add(A.scopeName),this.full.push(A)):this._seenPartial.has(A.toKey())||(this._seenPartial.add(A.toKey()),this.partial.push(A))},T}();function h(T,A,M,v,C){for(var V=0,Y=v;V<Y.length;V++){var J=Y[V];if(!T.visitedRule.has(J)){T.visitedRule.add(J);var q=J.repository?o.mergeObjects({},C,J.repository):C;Array.isArray(J.patterns)&&h(T,A,M,J.patterns,q);var W=J.include;if(W)if(W==="$base"||W===A.scopeName)m(T,A,A);else if(W==="$self"||W===M.scopeName)m(T,A,M);else if(W.charAt(0)==="#")p(T,A,M,W.substring(1),q);else{var ce=W.indexOf("#");if(ce>=0){var ee=W.substring(0,ce),j=W.substring(ce+1);ee===A.scopeName?p(T,A,A,j,q):ee===M.scopeName?p(T,A,M,j,q):T.add(new d(ee,W.substring(ce+1)))}else T.add(new u(W))}}}}function p(T,A,M,v,C){C===void 0&&(C=M.repository),C&&C[v]&&h(T,A,M,[C[v]],C)}function m(T,A,M){if(M.patterns&&Array.isArray(M.patterns)&&h(T,A,M,M.patterns,M.repository),M.injections){var v=[];for(var C in M.injections)v.push(M.injections[C]);h(T,A,M,v,M.repository)}}function g(T,A){if(!T)return!1;if(T===A)return!0;var M=A.length;return T.length>M&&T.substr(0,M)===A&&T[M]==="."}function b(T,A){if(A.length<T.length)return!1;var M=0;return T.every(function(v){for(var C=M;C<A.length;C++)if(g(A[C],v))return M=C+1,!0;return!1})}function _(T,A,M,v,C){for(var V=a.createMatchers(A,b),Y=s.RuleFactory.getCompiledRuleId(M,v,C.repository),J=0,q=V;J<q.length;J++){var W=q[J];T.push({matcher:W.matcher,ruleId:Y,grammar:C,priority:W.priority})}}r.ScopeDependencyCollector=f,r.collectSpecificDependencies=p,r.collectDependencies=m;var w=function(T,A,M,v){this.scopeName=T,this.languageId=A,this.tokenType=M,this.themeData=v};r.ScopeMetadata=w;var x=function(){function T(A,M,v){if(this._initialLanguage=A,this._themeProvider=M,this._cache=new Map,this._defaultMetaData=new w("",this._initialLanguage,0,[this._themeProvider.getDefaults()]),this._embeddedLanguages=Object.create(null),v)for(var C=Object.keys(v),V=0,Y=C.length;V<Y;V++){var J=C[V],q=v[J];typeof q=="number"&&q!==0?this._embeddedLanguages[J]=q:console.warn("Invalid embedded language found at scope "+J+": <<"+q+">>")}var W=Object.keys(this._embeddedLanguages).map(function(ce){return T._escapeRegExpCharacters(ce)});W.length===0?this._embeddedLanguagesRegex=null:(W.sort(),W.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+W.join(")|(")+"))($|\\.)",""))}return T.prototype.onDidChangeTheme=function(){this._cache=new Map,this._defaultMetaData=new w("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},T.prototype.getDefaultMetadata=function(){return this._defaultMetaData},T._escapeRegExpCharacters=function(A){return A.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},T.prototype.getMetadataForScope=function(A){if(A===null)return T._NULL_SCOPE_METADATA;var M=this._cache.get(A);return M||(M=this._doGetMetadataForScope(A),this._cache.set(A,M),M)},T.prototype._doGetMetadataForScope=function(A){var M=this._scopeToLanguage(A),v=this._toStandardTokenType(A),C=this._themeProvider.themeMatch(A);return new w(A,M,v,C)},T.prototype._scopeToLanguage=function(A){if(!A||!this._embeddedLanguagesRegex)return 0;var M=A.match(this._embeddedLanguagesRegex);if(!M)return 0;var v=this._embeddedLanguages[M[1]]||0;return v||0},T.prototype._toStandardTokenType=function(A){var M=A.match(T.STANDARD_TOKEN_TYPE_REGEXP);if(!M)return 0;switch(M[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},T._NULL_SCOPE_METADATA=new w("",0,0,null),T.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,T}(),k=function(){function T(A,M,v,C,V,Y){if(this._scopeMetadataProvider=new x(M,V,v),this._onigLib=Y,this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=V,this._grammar=D(A,null),this._injections=null,this._tokenTypeMatchers=[],C)for(var J=0,q=Object.keys(C);J<q.length;J++)for(var W=q[J],ce=0,ee=a.createMatchers(W,b);ce<ee.length;ce++){var j=ee[ce];this._tokenTypeMatchers.push({matcher:j.matcher,type:C[W]})}}return T.prototype.dispose=function(){for(var A=0,M=this._ruleId2desc;A<M.length;A++){var v=M[A];v&&v.dispose()}},T.prototype.createOnigScanner=function(A){return this._onigLib.createOnigScanner(A)},T.prototype.createOnigString=function(A){return this._onigLib.createOnigString(A)},T.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},T.prototype.getMetadataForScope=function(A){return this._scopeMetadataProvider.getMetadataForScope(A)},T.prototype.getInjections=function(){var A=this;if(this._injections===null){this._injections=[];var M=this._grammar.injections;if(M)for(var v in M)_(this._injections,v,M[v],this,this._grammar);if(this._grammarRepository){var C=this._grammarRepository.injections(this._grammar.scopeName);C&&C.forEach(function(V){var Y=A.getExternalGrammar(V);if(Y){var J=Y.injectionSelector;J&&_(A._injections,J,Y,A,Y)}})}this._injections.sort(function(V,Y){return V.priority-Y.priority})}return this._injections},T.prototype.registerRule=function(A){var M=++this._lastRuleId,v=A(M);return this._ruleId2desc[M]=v,v},T.prototype.getRule=function(A){return this._ruleId2desc[A]},T.prototype.getExternalGrammar=function(A,M){if(this._includedGrammars[A])return this._includedGrammars[A];if(this._grammarRepository){var v=this._grammarRepository.lookup(A);if(v)return this._includedGrammars[A]=D(v,M&&M.$base),this._includedGrammars[A]}return null},T.prototype.tokenizeLine=function(A,M){var v=this._tokenize(A,M,!1);return{tokens:v.lineTokens.getResult(v.ruleStack,v.lineLength),ruleStack:v.ruleStack}},T.prototype.tokenizeLine2=function(A,M){var v=this._tokenize(A,M,!0);return{tokens:v.lineTokens.getBinaryResult(v.ruleStack,v.lineLength),ruleStack:v.ruleStack}},T.prototype._tokenize=function(A,M,v){var C;if(this._rootId===-1&&(this._rootId=s.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),M&&M!==H.NULL)C=!1,M.reset();else{C=!0;var V=this._scopeMetadataProvider.getDefaultMetadata(),Y=V.themeData[0],J=N.set(0,V.languageId,V.tokenType,Y.fontStyle,Y.foreground,Y.background),q=this.getRule(this._rootId).getName(null,null),W=this._scopeMetadataProvider.getMetadataForScope(q),ce=I.mergeMetadata(J,null,W),ee=new I(null,q===null?"unknown":q,ce);M=new H(null,this._rootId,-1,-1,!1,null,ee,ee)}A+=`
`;var j=this.createOnigString(A),Z=j.content.length,we=new $(v,A,this._tokenTypeMatchers),ke=E(this,j,C,0,M,we,!0);return y(j),{lineLength:Z,lineTokens:we,ruleStack:ke}},T}();function y(T){typeof T.dispose=="function"&&T.dispose()}function D(T,A){return(T=o.clone(T)).repository=T.repository||{},T.repository.$self={$vscodeTextmateLocation:T.$vscodeTextmateLocation,patterns:T.patterns,name:T.scopeName},T.repository.$base=A||T.repository.$self,T}function S(T,A,M,v,C,V,Y){if(V.length!==0){for(var J=A.content,q=Math.min(V.length,Y.length),W=[],ce=Y[0].end,ee=0;ee<q;ee++){var j=V[ee];if(j!==null){var Z=Y[ee];if(Z.length!==0){if(Z.start>ce)break;for(;W.length>0&&W[W.length-1].endPos<=Z.start;)C.produceFromScopes(W[W.length-1].scopes,W[W.length-1].endPos),W.pop();if(W.length>0?C.produceFromScopes(W[W.length-1].scopes,Z.start):C.produce(v,Z.start),j.retokenizeCapturedWithRuleId){var we=j.getName(J,Y),ke=v.contentNameScopesList.push(T,we),Ne=j.getContentName(J,Y),at=ke.push(T,Ne),Xe=v.push(j.retokenizeCapturedWithRuleId,Z.start,-1,!1,null,ke,at),nt=T.createOnigString(J.substring(0,Z.end));E(T,nt,M&&Z.start===0,Z.start,Xe,C,!1),y(nt)}else{var $e=j.getName(J,Y);if($e!==null){var lt=(W.length>0?W[W.length-1].scopes:v.contentNameScopesList).push(T,$e);W.push(new Q(lt,Z.end))}}}}}for(;W.length>0;)C.produceFromScopes(W[W.length-1].scopes,W[W.length-1].endPos),W.pop()}}function F(T){for(var A=[],M=0,v=T.rules.length;M<v;M++)A.push("   - "+T.rules[M]+": "+T.debugRegExps[M]);return A.join(`
`)}function O(T,A,M,v,C,V){var Y=function(ee,j,Z,we,ke,Ne){var at=ke.getRule(ee),Xe=at.compile(ee,ke.endRule,Z,we===Ne),nt=0;l.DebugFlags.InDebugMode&&(nt=c());var $e=Xe.scanner.findNextMatchSync(j,we);if(l.DebugFlags.InDebugMode){var lt=c()-nt;lt>5&&console.warn("Rule "+at.debugName+" ("+at.id+") matching took "+lt+" against '"+j+"'"),$e&&console.log("matched rule id: "+Xe.rules[$e.index]+" from "+$e.captureIndices[0].start+" to "+$e.captureIndices[0].end)}return $e?{captureIndices:$e.captureIndices,matchedRuleId:Xe.rules[$e.index]}:null}(T,A,M,v,C,V),J=T.getInjections();if(J.length===0)return Y;var q=function(ee,j,Z,we,ke,Ne,at){for(var Xe,nt=Number.MAX_VALUE,$e=null,lt=0,Me=Ne.contentNameScopesList.generateScopes(),Lt=0,rt=ee.length;Lt<rt;Lt++){var on=ee[Lt];if(on.matcher(Me)){var Ri=j.getRule(on.ruleId).compile(j,null,we,ke===at),Xr=Ri.scanner.findNextMatchSync(Z,ke);if(l.DebugFlags.InDebugMode&&(console.log("  scanning for injections"),console.log(F(Ri))),Xr){var Er=Xr.captureIndices[0].start;if(!(Er>=nt)&&(nt=Er,$e=Xr.captureIndices,Xe=Ri.rules[Xr.index],lt=on.priority,nt===ke))break}}}return $e?{priorityMatch:lt===-1,captureIndices:$e,matchedRuleId:Xe}:null}(J,T,A,M,v,C,V);if(!q)return Y;if(!Y)return q;var W=Y.captureIndices[0].start,ce=q.captureIndices[0].start;return ce<W||q.priorityMatch&&ce===W?q:Y}function E(T,A,M,v,C,V,Y){var J=A.content.length,q=!1,W=-1;if(Y){var ce=function(j,Z,we,ke,Ne,at){for(var Xe=Ne.beginRuleCapturedEOL?0:-1,nt=[],$e=Ne;$e;$e=$e.pop()){var lt=$e.getRule(j);lt instanceof s.BeginWhileRule&&nt.push({rule:lt,stack:$e})}for(var Me=nt.pop();Me;Me=nt.pop()){var Lt=Me.rule.compileWhile(j,Me.stack.endRule,we,Xe===ke),rt=Lt.scanner.findNextMatchSync(Z,ke);if(l.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(F(Lt))),!rt){l.DebugFlags.InDebugMode&&console.log("  popping "+Me.rule.debugName+" - "+Me.rule.debugWhileRegExp),Ne=Me.stack.pop();break}if(Lt.rules[rt.index]!==-2){Ne=Me.stack.pop();break}rt.captureIndices&&rt.captureIndices.length&&(at.produce(Me.stack,rt.captureIndices[0].start),S(j,Z,we,Me.stack,at,Me.rule.whileCaptures,rt.captureIndices),at.produce(Me.stack,rt.captureIndices[0].end),Xe=rt.captureIndices[0].end,rt.captureIndices[0].end>ke&&(ke=rt.captureIndices[0].end,we=!1))}return{stack:Ne,linePos:ke,anchorPosition:Xe,isFirstLine:we}}(T,A,M,v,C,V);C=ce.stack,v=ce.linePos,M=ce.isFirstLine,W=ce.anchorPosition}for(;!q;)ee();function ee(){l.DebugFlags.InDebugMode&&(console.log(""),console.log("@@scanNext "+v+": |"+A.content.substr(v).replace(/\n$/,"\\n")+"|"));var j=O(T,A,M,v,C,W);if(!j)return l.DebugFlags.InDebugMode&&console.log("  no more matches."),V.produce(C,J),void(q=!0);var Z=j.captureIndices,we=j.matchedRuleId,ke=!!(Z&&Z.length>0)&&Z[0].end>v;if(we===-1){var Ne=C.getRule(T);l.DebugFlags.InDebugMode&&console.log("  popping "+Ne.debugName+" - "+Ne.debugEndRegExp),V.produce(C,Z[0].start),C=C.setContentNameScopesList(C.nameScopesList),S(T,A,M,C,V,Ne.endCaptures,Z),V.produce(C,Z[0].end);var at=C;if(C=C.pop(),W=at.getAnchorPos(),!ke&&at.getEnterPos()===v)return l.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),C=at,V.produce(C,J),void(q=!0)}else{var Xe=T.getRule(we);V.produce(C,Z[0].start);var nt=C,$e=Xe.getName(A.content,Z),lt=C.contentNameScopesList.push(T,$e);if(C=C.push(we,v,W,Z[0].end===J,null,lt,lt),Xe instanceof s.BeginEndRule){var Me=Xe;l.DebugFlags.InDebugMode&&console.log("  pushing "+Me.debugName+" - "+Me.debugBeginRegExp),S(T,A,M,C,V,Me.beginCaptures,Z),V.produce(C,Z[0].end),W=Z[0].end;var Lt=Me.getContentName(A.content,Z),rt=lt.push(T,Lt);if(C=C.setContentNameScopesList(rt),Me.endHasBackReferences&&(C=C.setEndRule(Me.getEndWithResolvedBackReferences(A.content,Z))),!ke&&nt.hasSameRuleAs(C))return l.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),C=C.pop(),V.produce(C,J),void(q=!0)}else if(Xe instanceof s.BeginWhileRule){if(Me=Xe,l.DebugFlags.InDebugMode&&console.log("  pushing "+Me.debugName),S(T,A,M,C,V,Me.beginCaptures,Z),V.produce(C,Z[0].end),W=Z[0].end,Lt=Me.getContentName(A.content,Z),rt=lt.push(T,Lt),C=C.setContentNameScopesList(rt),Me.whileHasBackReferences&&(C=C.setEndRule(Me.getWhileWithResolvedBackReferences(A.content,Z))),!ke&&nt.hasSameRuleAs(C))return l.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),C=C.pop(),V.produce(C,J),void(q=!0)}else{var on=Xe;if(l.DebugFlags.InDebugMode&&console.log("  matched "+on.debugName+" - "+on.debugMatchRegExp),S(T,A,M,C,V,on.captures,Z),V.produce(C,Z[0].end),C=C.pop(),!ke)return l.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),C=C.safePop(),V.produce(C,J),void(q=!0)}}Z[0].end>v&&(v=Z[0].end,M=!1)}return C}r.Grammar=k;var N=function(){function T(){}return T.toBinaryStr=function(A){for(var M=A.toString(2);M.length<32;)M="0"+M;return M},T.printMetadata=function(A){var M=T.getLanguageId(A),v=T.getTokenType(A),C=T.getFontStyle(A),V=T.getForeground(A),Y=T.getBackground(A);console.log({languageId:M,tokenType:v,fontStyle:C,foreground:V,background:Y})},T.getLanguageId=function(A){return(255&A)>>>0},T.getTokenType=function(A){return(1792&A)>>>8},T.getFontStyle=function(A){return(14336&A)>>>11},T.getForeground=function(A){return(8372224&A)>>>14},T.getBackground=function(A){return(4286578688&A)>>>23},T.set=function(A,M,v,C,V,Y){var J=T.getLanguageId(A),q=T.getTokenType(A),W=T.getFontStyle(A),ce=T.getForeground(A),ee=T.getBackground(A);return M!==0&&(J=M),v!==0&&(q=v===8?0:v),C!==-1&&(W=C),V!==0&&(ce=V),Y!==0&&(ee=Y),(J<<0|q<<8|W<<11|ce<<14|ee<<23)>>>0},T}();r.StackElementMetadata=N;var I=function(){function T(A,M,v){this.parent=A,this.scope=M,this.metadata=v}return T._equals=function(A,M){for(;;){if(A===M||!A&&!M)return!0;if(!A||!M||A.scope!==M.scope||A.metadata!==M.metadata)return!1;A=A.parent,M=M.parent}},T.prototype.equals=function(A){return T._equals(this,A)},T._matchesScope=function(A,M,v){return M===A||A.substring(0,v.length)===v},T._matches=function(A,M){if(M===null)return!0;for(var v=M.length,C=0,V=M[C],Y=V+".";A;){if(this._matchesScope(A.scope,V,Y)){if(++C===v)return!0;Y=(V=M[C])+"."}A=A.parent}return!1},T.mergeMetadata=function(A,M,v){if(v===null)return A;var C=-1,V=0,Y=0;if(v.themeData!==null)for(var J=0,q=v.themeData.length;J<q;J++){var W=v.themeData[J];if(this._matches(M,W.parentScopes)){C=W.fontStyle,V=W.foreground,Y=W.background;break}}return N.set(A,v.languageId,v.tokenType,C,V,Y)},T._push=function(A,M,v){for(var C=0,V=v.length;C<V;C++){var Y=v[C],J=M.getMetadataForScope(Y),q=T.mergeMetadata(A.metadata,A,J);A=new T(A,Y,q)}return A},T.prototype.push=function(A,M){return M===null?this:M.indexOf(" ")>=0?T._push(this,A,M.split(/ /g)):T._push(this,A,[M])},T._generateScopes=function(A){for(var M=[],v=0;A;)M[v++]=A.scope,A=A.parent;return M.reverse(),M},T.prototype.generateScopes=function(){return T._generateScopes(this)},T}();r.ScopeListElement=I;var H=function(){function T(A,M,v,C,V,Y,J,q){this.parent=A,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=M,this._enterPos=v,this._anchorPos=C,this.beginRuleCapturedEOL=V,this.endRule=Y,this.nameScopesList=J,this.contentNameScopesList=q}return T._structuralEquals=function(A,M){for(;;){if(A===M||!A&&!M)return!0;if(!A||!M||A.depth!==M.depth||A.ruleId!==M.ruleId||A.endRule!==M.endRule)return!1;A=A.parent,M=M.parent}},T._equals=function(A,M){return A===M||!!this._structuralEquals(A,M)&&A.contentNameScopesList.equals(M.contentNameScopesList)},T.prototype.clone=function(){return this},T.prototype.equals=function(A){return A!==null&&T._equals(this,A)},T._reset=function(A){for(;A;)A._enterPos=-1,A._anchorPos=-1,A=A.parent},T.prototype.reset=function(){T._reset(this)},T.prototype.pop=function(){return this.parent},T.prototype.safePop=function(){return this.parent?this.parent:this},T.prototype.push=function(A,M,v,C,V,Y,J){return new T(this,A,M,v,C,V,Y,J)},T.prototype.getEnterPos=function(){return this._enterPos},T.prototype.getAnchorPos=function(){return this._anchorPos},T.prototype.getRule=function(A){return A.getRule(this.ruleId)},T.prototype._writeString=function(A,M){return this.parent&&(M=this.parent._writeString(A,M)),A[M++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",M},T.prototype.toString=function(){var A=[];return this._writeString(A,0),"["+A.join(",")+"]"},T.prototype.setContentNameScopesList=function(A){return this.contentNameScopesList===A?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,A)},T.prototype.setEndRule=function(A){return this.endRule===A?this:new T(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,A,this.nameScopesList,this.contentNameScopesList)},T.prototype.hasSameRuleAs=function(A){return this.ruleId===A.ruleId},T.NULL=new T(null,0,0,0,!1,null,null,null),T}();r.StackElement=H;var Q=function(T,A){this.scopes=T,this.endPos=A};r.LocalStackElement=Q;var $=function(){function T(A,M,v){this._emitBinaryTokens=A,this._tokenTypeOverrides=v,l.DebugFlags.InDebugMode?this._lineText=M:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}return T.prototype.produce=function(A,M){this.produceFromScopes(A.contentNameScopesList,M)},T.prototype.produceFromScopes=function(A,M){if(!(this._lastTokenEndIndex>=M)){if(this._emitBinaryTokens){for(var v=A.metadata,C=0,V=this._tokenTypeOverrides;C<V.length;C++){var Y=V[C];Y.matcher(A.generateScopes())&&(v=N.set(v,0,L(Y.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===v||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(v)),void(this._lastTokenEndIndex=M)}var J=A.generateScopes();if(l.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,M).replace(/\n$/,"\\n")+"|");for(var q=0;q<J.length;q++)console.log("      * "+J[q])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:M,scopes:J}),this._lastTokenEndIndex=M}},T.prototype.getResult=function(A,M){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===M-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(A,M),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},T.prototype.getBinaryResult=function(A,M){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===M-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(A,M),this._binaryTokens[this._binaryTokens.length-2]=0);for(var v=new Uint32Array(this._binaryTokens.length),C=0,V=this._binaryTokens.length;C<V;C++)v[C]=this._binaryTokens[C];return v},T}();function L(T){switch(T){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}},function(n,r,i){function o(l){return Array.isArray(l)?function(c){for(var u=[],d=0,f=c.length;d<f;d++)u[d]=o(c[d]);return u}(l):typeof l=="object"?function(c){var u={};for(var d in c)u[d]=o(c[d]);return u}(l):l}Object.defineProperty(r,"__esModule",{value:!0}),r.clone=function(l){return o(l)},r.mergeObjects=function(l){for(var c=[],u=1;u<arguments.length;u++)c[u-1]=arguments[u];return c.forEach(function(d){for(var f in d)l[f]=d[f]}),l},r.basename=function l(c){var u=~c.lastIndexOf("/")||~c.lastIndexOf("\\");return u===0?c:~u==c.length-1?l(c.substring(0,c.length-1)):c.substr(1+~u)};var s=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,a=function(){function l(){}return l.hasCaptures=function(c){return c!==null&&s.test(c)},l.replaceCaptures=function(c,u,d){return c.replace(s,function(f,h,p,m){var g=d[parseInt(h||p,10)];if(!g)return f;for(var b=u.substring(g.start,g.end);b[0]===".";)b=b.substring(1);switch(m){case"downcase":return b.toLowerCase();case"upcase":return b.toUpperCase();default:return b}})},l}();r.RegexSource=a},function(n,r,i){(function(o){Object.defineProperty(r,"__esModule",{value:!0}),r.DebugFlags={InDebugMode:o!==void 0&&!!o.env.VSCODE_TEXTMATE_DEBUG}}).call(this,i(7))},function(n,r,i){var o=this&&this.__awaiter||function(f,h,p,m){return new(p||(p=Promise))(function(g,b){function _(k){try{x(m.next(k))}catch(y){b(y)}}function w(k){try{x(m.throw(k))}catch(y){b(y)}}function x(k){var y;k.done?g(k.value):(y=k.value,y instanceof p?y:new p(function(D){D(y)})).then(_,w)}x((m=m.apply(f,h||[])).next())})},s=this&&this.__generator||function(f,h){var p,m,g,b,_={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return b={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function w(x){return function(k){return function(y){if(p)throw new TypeError("Generator is already executing.");for(;_;)try{if(p=1,m&&(g=2&y[0]?m.return:y[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,y[1])).done)return g;switch(m=0,g&&(y=[2&y[0],g.value]),y[0]){case 0:case 1:g=y;break;case 4:return _.label++,{value:y[1],done:!1};case 5:_.label++,m=y[1],y=[0];continue;case 7:y=_.ops.pop(),_.trys.pop();continue;default:if(g=_.trys,!((g=g.length>0&&g[g.length-1])||y[0]!==6&&y[0]!==2)){_=0;continue}if(y[0]===3&&(!g||y[1]>g[0]&&y[1]<g[3])){_.label=y[1];break}if(y[0]===6&&_.label<g[1]){_.label=g[1],g=y;break}if(g&&_.label<g[2]){_.label=g[2],_.ops.push(y);break}g[2]&&_.ops.pop(),_.trys.pop();continue}y=h.call(f,_)}catch(D){y=[6,D],m=0}finally{p=g=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([x,k])}}};Object.defineProperty(r,"__esModule",{value:!0});var a=i(4),l=i(8),c=i(11),u=i(0),d=function(){function f(h){this._options=h,this._syncRegistry=new a.SyncRegistry(c.Theme.createFromRawTheme(h.theme,h.colorMap),h.onigLib),this._ensureGrammarCache=new Map}return f.prototype.dispose=function(){this._syncRegistry.dispose()},f.prototype.setTheme=function(h,p){this._syncRegistry.setTheme(c.Theme.createFromRawTheme(h,p))},f.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},f.prototype.loadGrammarWithEmbeddedLanguages=function(h,p,m){return this.loadGrammarWithConfiguration(h,p,{embeddedLanguages:m})},f.prototype.loadGrammarWithConfiguration=function(h,p,m){return this._loadGrammar(h,p,m.embeddedLanguages,m.tokenTypes)},f.prototype.loadGrammar=function(h){return this._loadGrammar(h,0,null,null)},f.prototype._doLoadSingleGrammar=function(h){return o(this,void 0,void 0,function(){var p,m;return s(this,function(g){switch(g.label){case 0:return[4,this._options.loadGrammar(h)];case 1:return(p=g.sent())&&(m=typeof this._options.getInjections=="function"?this._options.getInjections(h):void 0,this._syncRegistry.addGrammar(p,m)),[2]}})})},f.prototype._loadSingleGrammar=function(h){return o(this,void 0,void 0,function(){return s(this,function(p){return this._ensureGrammarCache.has(h)||this._ensureGrammarCache.set(h,this._doLoadSingleGrammar(h)),[2,this._ensureGrammarCache.get(h)]})})},f.prototype._collectDependenciesForDep=function(h,p,m){var g=this._syncRegistry.lookup(m.scopeName);if(g){m instanceof u.FullScopeDependency?u.collectDependencies(p,this._syncRegistry.lookup(h),g):u.collectSpecificDependencies(p,this._syncRegistry.lookup(h),g,m.include);var b=this._syncRegistry.injections(m.scopeName);if(b)for(var _=0,w=b;_<w.length;_++){var x=w[_];p.add(new u.FullScopeDependency(x))}}else if(m.scopeName===h)throw new Error("No grammar provided for <"+h+">")},f.prototype._loadGrammar=function(h,p,m,g){return o(this,void 0,void 0,function(){var b,_,w,x,k,y,D,S,F,O,E,N,I=this;return s(this,function(H){switch(H.label){case 0:b=new Set,_=new Set,b.add(h),w=[new u.FullScopeDependency(h)],H.label=1;case 1:return w.length>0?(x=w,w=[],[4,Promise.all(x.map(function(Q){return I._loadSingleGrammar(Q.scopeName)}))]):[3,3];case 2:for(H.sent(),k=new u.ScopeDependencyCollector,y=0,D=x;y<D.length;y++)N=D[y],this._collectDependenciesForDep(h,k,N);for(S=0,F=k.full;S<F.length;S++)N=F[S],b.has(N.scopeName)||(b.add(N.scopeName),w.push(N));for(O=0,E=k.partial;O<E.length;O++)N=E[O],b.has(N.scopeName)||_.has(N.toKey())||(_.add(N.toKey()),w.push(N));return[3,1];case 3:return[2,this.grammarForScopeName(h,p,m,g)]}})})},f.prototype.addGrammar=function(h,p,m,g){return p===void 0&&(p=[]),m===void 0&&(m=0),g===void 0&&(g=null),o(this,void 0,void 0,function(){return s(this,function(b){switch(b.label){case 0:return this._syncRegistry.addGrammar(h,p),[4,this.grammarForScopeName(h.scopeName,m,g)];case 1:return[2,b.sent()]}})})},f.prototype.grammarForScopeName=function(h,p,m,g){return p===void 0&&(p=0),m===void 0&&(m=null),g===void 0&&(g=null),this._syncRegistry.grammarForScopeName(h,p,m,g)},f}();r.Registry=d,r.INITIAL=u.StackElement.NULL,r.parseRawGrammar=l.parseRawGrammar},function(n,r,i){var o=this&&this.__awaiter||function(c,u,d,f){return new(d||(d=Promise))(function(h,p){function m(_){try{b(f.next(_))}catch(w){p(w)}}function g(_){try{b(f.throw(_))}catch(w){p(w)}}function b(_){var w;_.done?h(_.value):(w=_.value,w instanceof d?w:new d(function(x){x(w)})).then(m,g)}b((f=f.apply(c,u||[])).next())})},s=this&&this.__generator||function(c,u){var d,f,h,p,m={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(_){return function(w){if(d)throw new TypeError("Generator is already executing.");for(;m;)try{if(d=1,f&&(h=2&w[0]?f.return:w[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,w[1])).done)return h;switch(f=0,h&&(w=[2&w[0],h.value]),w[0]){case 0:case 1:h=w;break;case 4:return m.label++,{value:w[1],done:!1};case 5:m.label++,f=w[1],w=[0];continue;case 7:w=m.ops.pop(),m.trys.pop();continue;default:if(h=m.trys,!((h=h.length>0&&h[h.length-1])||w[0]!==6&&w[0]!==2)){m=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){m.label=w[1];break}if(w[0]===6&&m.label<h[1]){m.label=h[1],h=w;break}if(h&&m.label<h[2]){m.label=h[2],m.ops.push(w);break}h[2]&&m.ops.pop(),m.trys.pop();continue}w=u.call(c,m)}catch(x){w=[6,x],f=0}finally{d=h=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([b,_])}}};Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),l=function(){function c(u,d){this._theme=u,this._grammars={},this._rawGrammars={},this._injectionGrammars={},this._onigLibPromise=d}return c.prototype.dispose=function(){for(var u in this._grammars)this._grammars.hasOwnProperty(u)&&this._grammars[u].dispose()},c.prototype.setTheme=function(u){var d=this;this._theme=u,Object.keys(this._grammars).forEach(function(f){d._grammars[f].onDidChangeTheme()})},c.prototype.getColorMap=function(){return this._theme.getColorMap()},c.prototype.addGrammar=function(u,d){this._rawGrammars[u.scopeName]=u,d&&(this._injectionGrammars[u.scopeName]=d)},c.prototype.lookup=function(u){return this._rawGrammars[u]},c.prototype.injections=function(u){return this._injectionGrammars[u]},c.prototype.getDefaults=function(){return this._theme.getDefaults()},c.prototype.themeMatch=function(u){return this._theme.match(u)},c.prototype.grammarForScopeName=function(u,d,f,h){return o(this,void 0,void 0,function(){var p,m,g,b,_;return s(this,function(w){switch(w.label){case 0:return this._grammars[u]?[3,2]:(p=this._rawGrammars[u])?(m=this._grammars,g=u,b=a.createGrammar,_=[p,d,f,h,this],[4,this._onigLibPromise]):[2,null];case 1:m[g]=b.apply(void 0,_.concat([w.sent()])),w.label=2;case 2:return[2,this._grammars[u]]}})})},c}();r.SyncRegistry=l},function(n,r,i){var o,s=this&&this.__extends||(o=function(x,k){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,D){y.__proto__=D}||function(y,D){for(var S in D)D.hasOwnProperty(S)&&(y[S]=D[S])})(x,k)},function(x,k){function y(){this.constructor=x}o(x,k),x.prototype=k===null?Object.create(k):(y.prototype=k.prototype,new y)});Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),l=/\\(\d+)/,c=/\\(\d+)/g,u=function(){function x(k,y,D){this.debugRegExps=y,this.rules=D,this.scanner=k.createOnigScanner(y)}return x.prototype.dispose=function(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()},x}();r.CompiledRule=u;var d=function(){function x(k,y,D,S){this.$location=k,this.id=y,this._name=D||null,this._nameIsCapturing=a.RegexSource.hasCaptures(this._name),this._contentName=S||null,this._contentNameIsCapturing=a.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(x.prototype,"debugName",{get:function(){var k=this.$location?a.basename(this.$location.filename)+":"+this.$location.line:"unknown";return this.constructor.name+"#"+this.id+" @ "+k},enumerable:!0,configurable:!0}),x.prototype.getName=function(k,y){return this._nameIsCapturing&&this._name!==null&&k!==null&&y!==null?a.RegexSource.replaceCaptures(this._name,k,y):this._name},x.prototype.getContentName=function(k,y){return this._contentNameIsCapturing&&this._contentName!==null?a.RegexSource.replaceCaptures(this._contentName,k,y):this._contentName},x}();r.Rule=d;var f=function(x){function k(y,D,S,F,O){var E=x.call(this,y,D,S,F)||this;return E.retokenizeCapturedWithRuleId=O,E}return s(k,x),k.prototype.dispose=function(){},k.prototype.collectPatternsRecursive=function(y,D,S){throw new Error("Not supported!")},k.prototype.compile=function(y,D,S,F){throw new Error("Not supported!")},k}(d);r.CaptureRule=f;var h=function(){function x(k,y,D){if(D===void 0&&(D=!0),D)if(k){for(var S=k.length,F=0,O=[],E=!1,N=0;N<S;N++)if(k.charAt(N)==="\\"&&N+1<S){var I=k.charAt(N+1);I==="z"?(O.push(k.substring(F,N)),O.push("$(?!\\n)(?<!\\n)"),F=N+2):I!=="A"&&I!=="G"||(E=!0),N++}this.hasAnchor=E,F===0?this.source=k:(O.push(k.substring(F,S)),this.source=O.join(""))}else this.hasAnchor=!1,this.source=k;else this.hasAnchor=!1,this.source=k;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=y,this.hasBackReferences=l.test(this.source)}return x.prototype.clone=function(){return new x(this.source,this.ruleId,!0)},x.prototype.setSource=function(k){this.source!==k&&(this.source=k,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},x.prototype.resolveBackReferences=function(k,y){var D=y.map(function(S){return k.substring(S.start,S.end)});return c.lastIndex=0,this.source.replace(c,function(S,F){return(D[parseInt(F,10)]||"").replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")})},x.prototype._buildAnchorCache=function(){var k,y,D,S,F=[],O=[],E=[],N=[];for(k=0,y=this.source.length;k<y;k++)D=this.source.charAt(k),F[k]=D,O[k]=D,E[k]=D,N[k]=D,D==="\\"&&k+1<y&&((S=this.source.charAt(k+1))==="A"?(F[k+1]="\uFFFF",O[k+1]="\uFFFF",E[k+1]="A",N[k+1]="A"):S==="G"?(F[k+1]="\uFFFF",O[k+1]="G",E[k+1]="\uFFFF",N[k+1]="G"):(F[k+1]=S,O[k+1]=S,E[k+1]=S,N[k+1]=S),k++);return{A0_G0:F.join(""),A0_G1:O.join(""),A1_G0:E.join(""),A1_G1:N.join("")}},x.prototype.resolveAnchors=function(k,y){return this.hasAnchor&&this._anchorCache?k?y?this._anchorCache.A1_G1:this._anchorCache.A1_G0:y?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},x}();r.RegExpSource=h;var p=function(){function x(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return x.prototype.dispose=function(){this._disposeCaches()},x.prototype._disposeCaches=function(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)},x.prototype.push=function(k){this._items.push(k),this._hasAnchors=this._hasAnchors||k.hasAnchor},x.prototype.unshift=function(k){this._items.unshift(k),this._hasAnchors=this._hasAnchors||k.hasAnchor},x.prototype.length=function(){return this._items.length},x.prototype.setSource=function(k,y){this._items[k].source!==y&&(this._disposeCaches(),this._items[k].setSource(y))},x.prototype.compile=function(k,y,D){if(this._hasAnchors)return y?D?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(k,y,D)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(k,y,D)),this._anchorCache.A1_G0):D?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(k,y,D)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(k,y,D)),this._anchorCache.A0_G0);if(!this._cached){var S=this._items.map(function(F){return F.source});this._cached=new u(k,S,this._items.map(function(F){return F.ruleId}))}return this._cached},x.prototype._resolveAnchors=function(k,y,D){var S=this._items.map(function(F){return F.resolveAnchors(y,D)});return new u(k,S,this._items.map(function(F){return F.ruleId}))},x}();r.RegExpSourceList=p;var m=function(x){function k(y,D,S,F,O){var E=x.call(this,y,D,S,null)||this;return E._match=new h(F,E.id),E.captures=O,E._cachedCompiledPatterns=null,E}return s(k,x),k.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(k.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),k.prototype.collectPatternsRecursive=function(y,D,S){D.push(this._match)},k.prototype.compile=function(y,D,S,F){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new p,this.collectPatternsRecursive(y,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(y,S,F)},k}(d);r.MatchRule=m;var g=function(x){function k(y,D,S,F,O){var E=x.call(this,y,D,S,F)||this;return E.patterns=O.patterns,E.hasMissingPatterns=O.hasMissingPatterns,E._cachedCompiledPatterns=null,E}return s(k,x),k.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},k.prototype.collectPatternsRecursive=function(y,D,S){var F,O;for(F=0,O=this.patterns.length;F<O;F++)y.getRule(this.patterns[F]).collectPatternsRecursive(y,D,!1)},k.prototype.compile=function(y,D,S,F){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new p,this.collectPatternsRecursive(y,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(y,S,F)},k}(d);r.IncludeOnlyRule=g;var b=function(x){function k(y,D,S,F,O,E,N,I,H,Q){var $=x.call(this,y,D,S,F)||this;return $._begin=new h(O,$.id),$.beginCaptures=E,$._end=new h(N||"\uFFFF",-1),$.endHasBackReferences=$._end.hasBackReferences,$.endCaptures=I,$.applyEndPatternLast=H||!1,$.patterns=Q.patterns,$.hasMissingPatterns=Q.hasMissingPatterns,$._cachedCompiledPatterns=null,$}return s(k,x),k.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(k.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),k.prototype.getEndWithResolvedBackReferences=function(y,D){return this._end.resolveBackReferences(y,D)},k.prototype.collectPatternsRecursive=function(y,D,S){if(S){var F,O=void 0;for(O=0,F=this.patterns.length;O<F;O++)y.getRule(this.patterns[O]).collectPatternsRecursive(y,D,!1)}else D.push(this._begin)},k.prototype.compile=function(y,D,S,F){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new p,this.collectPatternsRecursive(y,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,D):this._cachedCompiledPatterns.setSource(0,D)),this._cachedCompiledPatterns.compile(y,S,F)},k}(d);r.BeginEndRule=b;var _=function(x){function k(y,D,S,F,O,E,N,I,H){var Q=x.call(this,y,D,S,F)||this;return Q._begin=new h(O,Q.id),Q.beginCaptures=E,Q.whileCaptures=I,Q._while=new h(N,-2),Q.whileHasBackReferences=Q._while.hasBackReferences,Q.patterns=H.patterns,Q.hasMissingPatterns=H.hasMissingPatterns,Q._cachedCompiledPatterns=null,Q._cachedCompiledWhilePatterns=null,Q}return s(k,x),k.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)},Object.defineProperty(k.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"debugWhileRegExp",{get:function(){return""+this._while.source},enumerable:!0,configurable:!0}),k.prototype.getWhileWithResolvedBackReferences=function(y,D){return this._while.resolveBackReferences(y,D)},k.prototype.collectPatternsRecursive=function(y,D,S){if(S){var F,O=void 0;for(O=0,F=this.patterns.length;O<F;O++)y.getRule(this.patterns[O]).collectPatternsRecursive(y,D,!1)}else D.push(this._begin)},k.prototype.compile=function(y,D,S,F){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new p,this.collectPatternsRecursive(y,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(y,S,F)},k.prototype.compileWhile=function(y,D,S,F){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new p,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,D||"\uFFFF"),this._cachedCompiledWhilePatterns.compile(y,S,F)},k}(d);r.BeginWhileRule=_;var w=function(){function x(){}return x.createCaptureRule=function(k,y,D,S,F){return k.registerRule(function(O){return new f(y,O,D,S,F)})},x.getCompiledRuleId=function(k,y,D){return k.id||y.registerRule(function(S){if(k.id=S,k.match)return new m(k.$vscodeTextmateLocation,k.id,k.name,k.match,x._compileCaptures(k.captures,y,D));if(k.begin===void 0){k.repository&&(D=a.mergeObjects({},D,k.repository));var F=k.patterns;return F===void 0&&k.include&&(F=[{include:k.include}]),new g(k.$vscodeTextmateLocation,k.id,k.name,k.contentName,x._compilePatterns(F,y,D))}return k.while?new _(k.$vscodeTextmateLocation,k.id,k.name,k.contentName,k.begin,x._compileCaptures(k.beginCaptures||k.captures,y,D),k.while,x._compileCaptures(k.whileCaptures||k.captures,y,D),x._compilePatterns(k.patterns,y,D)):new b(k.$vscodeTextmateLocation,k.id,k.name,k.contentName,k.begin,x._compileCaptures(k.beginCaptures||k.captures,y,D),k.end,x._compileCaptures(k.endCaptures||k.captures,y,D),k.applyEndPatternLast,x._compilePatterns(k.patterns,y,D))}),k.id},x._compileCaptures=function(k,y,D){var S=[];if(k){var F=0;for(var O in k)O!=="$vscodeTextmateLocation"&&(N=parseInt(O,10))>F&&(F=N);for(var E=0;E<=F;E++)S[E]=null;for(var O in k)if(O!=="$vscodeTextmateLocation"){var N=parseInt(O,10),I=0;k[O].patterns&&(I=x.getCompiledRuleId(k[O],y,D)),S[N]=x.createCaptureRule(y,k[O].$vscodeTextmateLocation,k[O].name,k[O].contentName,I)}}return S},x._compilePatterns=function(k,y,D){var S=[];if(k)for(var F=0,O=k.length;F<O;F++){var E=k[F],N=-1;if(E.include)if(E.include.charAt(0)==="#"){var I=D[E.include.substr(1)];I&&(N=x.getCompiledRuleId(I,y,D))}else if(E.include==="$base"||E.include==="$self")N=x.getCompiledRuleId(D[E.include],y,D);else{var H=null,Q=null,$=E.include.indexOf("#");$>=0?(H=E.include.substring(0,$),Q=E.include.substring($+1)):H=E.include;var L=y.getExternalGrammar(H,D);if(L)if(Q){var T=L.repository[Q];T&&(N=x.getCompiledRuleId(T,y,L.repository))}else N=x.getCompiledRuleId(L.repository.$self,y,L.repository)}else N=x.getCompiledRuleId(E,y,D);if(N!==-1){var A=y.getRule(N),M=!1;if((A instanceof g||A instanceof b||A instanceof _)&&A.hasMissingPatterns&&A.patterns.length===0&&(M=!0),M)continue;S.push(N)}}return{patterns:S,hasMissingPatterns:(k?k.length:0)!==S.length}},x}();r.RuleFactory=w},function(n,r,i){function o(s){return!!s&&!!s.match(/[\w\.:]+/)}Object.defineProperty(r,"__esModule",{value:!0}),r.createMatchers=function(s,a){for(var l,c,u,d=[],f=(u=(c=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(l=s),{next:function(){if(!u)return null;var _=u[0];return u=c.exec(l),_}}),h=f.next();h!==null;){var p=0;if(h.length===2&&h.charAt(1)===":"){switch(h.charAt(0)){case"R":p=1;break;case"L":p=-1;break;default:console.log("Unknown priority "+h+" in scope selector")}h=f.next()}var m=b();if(d.push({matcher:m,priority:p}),h!==",")break;h=f.next()}return d;function g(){if(h==="-"){h=f.next();var _=g();return function(k){return!!_&&!_(k)}}if(h==="("){h=f.next();var w=function(){for(var k=[],y=b();y&&(k.push(y),h==="|"||h===",");){do h=f.next();while(h==="|"||h===",");y=b()}return function(D){return k.some(function(S){return S(D)})}}();return h===")"&&(h=f.next()),w}if(o(h)){var x=[];do x.push(h),h=f.next();while(o(h));return function(k){return a(x,k)}}return null}function b(){for(var _=[],w=g();w;)_.push(w),w=g();return function(x){return _.every(function(k){return k(x)})}}}},function(n,r){var i,o,s=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function c(_){if(i===setTimeout)return setTimeout(_,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(_,0);try{return i(_,0)}catch{try{return i.call(null,_,0)}catch{return i.call(this,_,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:a}catch{i=a}try{o=typeof clearTimeout=="function"?clearTimeout:l}catch{o=l}})();var u,d=[],f=!1,h=-1;function p(){f&&u&&(f=!1,u.length?d=u.concat(d):h=-1,d.length&&m())}function m(){if(!f){var _=c(p);f=!0;for(var w=d.length;w;){for(u=d,d=[];++h<w;)u&&u[h].run();h=-1,w=d.length}u=null,f=!1,function(x){if(o===clearTimeout)return clearTimeout(x);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(x);try{o(x)}catch{try{return o.call(null,x)}catch{return o.call(this,x)}}}(_)}}function g(_,w){this.fun=_,this.array=w}function b(){}s.nextTick=function(_){var w=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)w[x-1]=arguments[x];d.push(new g(_,w)),d.length!==1||f||c(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=b,s.addListener=b,s.once=b,s.off=b,s.removeListener=b,s.removeAllListeners=b,s.emit=b,s.prependListener=b,s.prependOnceListener=b,s.listeners=function(_){return[]},s.binding=function(_){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(_){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(9),s=i(2),a=i(10);r.parseRawGrammar=function(l,c){return c===void 0&&(c=null),c!==null&&/\.json$/.test(c)?function(u,d){return s.DebugFlags.InDebugMode?a.parse(u,d,!0):JSON.parse(u)}(l,c):function(u,d){return s.DebugFlags.InDebugMode?o.parseWithLocation(u,d,"$vscodeTextmateLocation"):o.parse(u)}(l,c)}},function(n,r,i){function o(s,a,l){var c=s.length,u=0,d=1,f=0;function h(j){if(l===null)u+=j;else for(;j>0;)s.charCodeAt(u)===10?(u++,d++,f=0):(u++,f++),j--}function p(j){l===null?u=j:h(j-u)}function m(){for(;u<c;){var j=s.charCodeAt(u);if(j!==32&&j!==9&&j!==13&&j!==10)break;h(1)}}function g(j){return s.substr(u,j.length)===j&&(h(j.length),!0)}function b(j){var Z=s.indexOf(j,u);p(Z!==-1?Z+j.length:c)}function _(j){var Z=s.indexOf(j,u);if(Z!==-1){var we=s.substring(u,Z);return p(Z+j.length),we}return we=s.substr(u),p(c),we}c>0&&s.charCodeAt(0)===65279&&(u=1);var w=0,x=null,k=[],y=[],D=null;function S(j,Z){k.push(w),y.push(x),w=j,x=Z}function F(){if(k.length===0)return O("illegal state stack");w=k.pop(),x=y.pop()}function O(j){throw new Error("Near offset "+u+": "+j+" ~~~"+s.substr(u,50)+"~~~")}var E,N,I,H=function(){if(D===null)return O("missing <key>");var j={};l!==null&&(j[l]={filename:a,line:d,char:f}),x[D]=j,D=null,S(1,j)},Q=function(){if(D===null)return O("missing <key>");var j=[];x[D]=j,D=null,S(2,j)},$=function(){var j={};l!==null&&(j[l]={filename:a,line:d,char:f}),x.push(j),S(1,j)},L=function(){var j=[];x.push(j),S(2,j)};function T(){if(w!==1)return O("unexpected </dict>");F()}function A(){return w===1||w!==2?O("unexpected </array>"):void F()}function M(j){if(w===1){if(D===null)return O("missing <key>");x[D]=j,D=null}else w===2?x.push(j):x=j}function v(j){if(isNaN(j))return O("cannot parse float");if(w===1){if(D===null)return O("missing <key>");x[D]=j,D=null}else w===2?x.push(j):x=j}function C(j){if(isNaN(j))return O("cannot parse integer");if(w===1){if(D===null)return O("missing <key>");x[D]=j,D=null}else w===2?x.push(j):x=j}function V(j){if(w===1){if(D===null)return O("missing <key>");x[D]=j,D=null}else w===2?x.push(j):x=j}function Y(j){if(w===1){if(D===null)return O("missing <key>");x[D]=j,D=null}else w===2?x.push(j):x=j}function J(j){if(w===1){if(D===null)return O("missing <key>");x[D]=j,D=null}else w===2?x.push(j):x=j}function q(j){if(j.isClosed)return"";var Z=_("</");return b(">"),Z.replace(/&#([0-9]+);/g,function(we,ke){return String.fromCodePoint(parseInt(ke,10))}).replace(/&#x([0-9a-f]+);/g,function(we,ke){return String.fromCodePoint(parseInt(ke,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(we){switch(we){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return we})}for(;u<c&&(m(),!(u>=c));){var W=s.charCodeAt(u);if(h(1),W!==60)return O("expected <");if(u>=c)return O("unexpected end of input");var ce=s.charCodeAt(u);if(ce!==63)if(ce!==33){if(ce===47){if(h(1),m(),g("plist")){b(">");continue}if(g("dict")){b(">"),T();continue}if(g("array")){b(">"),A();continue}return O("unexpected closed tag")}var ee=(N=void 0,I=void 0,N=_(">"),I=!1,N.charCodeAt(N.length-1)===47&&(I=!0,N=N.substring(0,N.length-1)),{name:N.trim(),isClosed:I});switch(ee.name){case"dict":w===1?H():w===2?$():(x={},l!==null&&(x[l]={filename:a,line:d,char:f}),S(1,x)),ee.isClosed&&T();continue;case"array":w===1?Q():w===2?L():S(2,x=[]),ee.isClosed&&A();continue;case"key":E=q(ee),w!==1?O("unexpected <key>"):D!==null?O("too many <key>"):D=E;continue;case"string":M(q(ee));continue;case"real":v(parseFloat(q(ee)));continue;case"integer":C(parseInt(q(ee),10));continue;case"date":V(new Date(q(ee)));continue;case"data":Y(q(ee));continue;case"true":q(ee),J(!0);continue;case"false":q(ee),J(!1);continue}if(!/^plist/.test(ee.name))return O("unexpected opened tag "+ee.name)}else{if(h(1),g("--")){b("-->");continue}b(">")}else h(1),b("?>")}return x}Object.defineProperty(r,"__esModule",{value:!0}),r.parseWithLocation=function(s,a,l){return o(s,a,l)},r.parse=function(s){return o(s,null,null)}},function(n,r,i){function o(c,u){throw new Error("Near offset "+c.pos+": "+u+" ~~~"+c.source.substr(c.pos,50)+"~~~")}Object.defineProperty(r,"__esModule",{value:!0}),r.parse=function(c,u,d){var f=new s(c),h=new a,p=0,m=null,g=[],b=[];function _(){g.push(p),b.push(m)}function w(){p=g.pop(),m=b.pop()}function x(S){o(f,S)}for(;l(f,h);){if(p===0){if(m!==null&&x("too many constructs in root"),h.type===3){m={},d&&(m.$vscodeTextmateLocation=h.toLocation(u)),_(),p=1;continue}if(h.type===2){m=[],_(),p=4;continue}x("unexpected token in root")}if(p===2){if(h.type===5){w();continue}if(h.type===7){p=3;continue}x("expected , or }")}if(p===1||p===3){if(p===1&&h.type===5){w();continue}if(h.type===1){var k=h.value;if(l(f,h)&&h.type===6||x("expected colon"),l(f,h)||x("expected value"),p=2,h.type===1){m[k]=h.value;continue}if(h.type===8){m[k]=null;continue}if(h.type===9){m[k]=!0;continue}if(h.type===10){m[k]=!1;continue}if(h.type===11){m[k]=parseFloat(h.value);continue}if(h.type===2){var y=[];m[k]=y,_(),p=4,m=y;continue}if(h.type===3){var D={};d&&(D.$vscodeTextmateLocation=h.toLocation(u)),m[k]=D,_(),p=1,m=D;continue}}x("unexpected token in dict")}if(p===5){if(h.type===4){w();continue}if(h.type===7){p=6;continue}x("expected , or ]")}if(p===4||p===6){if(p===4&&h.type===4){w();continue}if(p=5,h.type===1){m.push(h.value);continue}if(h.type===8){m.push(null);continue}if(h.type===9){m.push(!0);continue}if(h.type===10){m.push(!1);continue}if(h.type===11){m.push(parseFloat(h.value));continue}if(h.type===2){y=[],m.push(y),_(),p=4,m=y;continue}if(h.type===3){D={},d&&(D.$vscodeTextmateLocation=h.toLocation(u)),m.push(D),_(),p=1,m=D;continue}x("unexpected token in array")}x("unknown state")}return b.length!==0&&x("unclosed constructs"),m};var s=function(c){this.source=c,this.pos=0,this.len=c.length,this.line=1,this.char=0},a=function(){function c(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return c.prototype.toLocation=function(u){return{filename:u,line:this.line,char:this.char}},c}();function l(c,u){u.value=null,u.type=0,u.offset=-1,u.len=-1,u.line=-1,u.char=-1;for(var d,f=c.source,h=c.pos,p=c.len,m=c.line,g=c.char;;){if(h>=p)return!1;if((d=f.charCodeAt(h))!==32&&d!==9&&d!==13){if(d!==10)break;h++,m++,g=0}else h++,g++}if(u.offset=h,u.line=m,u.char=g,d===34){for(u.type=1,h++,g++;;){if(h>=p)return!1;if(d=f.charCodeAt(h),h++,g++,d!==92){if(d===34)break}else h++,g++}u.value=f.substring(u.offset+1,h-1).replace(/\\u([0-9A-Fa-f]{4})/g,function(b,_){return String.fromCodePoint(parseInt(_,16))}).replace(/\\(.)/g,function(b,_){switch(_){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:o(c,"invalid escape sequence")}throw new Error("unreachable")})}else if(d===91)u.type=2,h++,g++;else if(d===123)u.type=3,h++,g++;else if(d===93)u.type=4,h++,g++;else if(d===125)u.type=5,h++,g++;else if(d===58)u.type=6,h++,g++;else if(d===44)u.type=7,h++,g++;else if(d===110){if(u.type=8,h++,g++,(d=f.charCodeAt(h))!==117||(h++,g++,(d=f.charCodeAt(h))!==108)||(h++,g++,(d=f.charCodeAt(h))!==108))return!1;h++,g++}else if(d===116){if(u.type=9,h++,g++,(d=f.charCodeAt(h))!==114||(h++,g++,(d=f.charCodeAt(h))!==117)||(h++,g++,(d=f.charCodeAt(h))!==101))return!1;h++,g++}else if(d===102){if(u.type=10,h++,g++,(d=f.charCodeAt(h))!==97||(h++,g++,(d=f.charCodeAt(h))!==108)||(h++,g++,(d=f.charCodeAt(h))!==115)||(h++,g++,(d=f.charCodeAt(h))!==101))return!1;h++,g++}else for(u.type=11;;){if(h>=p)return!1;if(!((d=f.charCodeAt(h))===46||d>=48&&d<=57||d===101||d===69||d===45||d===43))break;h++,g++}return u.len=h-u.offset,u.value===null&&(u.value=f.substr(u.offset,u.len)),c.pos=h,c.line=m,c.char=g,!0}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(m,g,b,_,w,x){this.scope=m,this.parentScopes=g,this.index=b,this.fontStyle=_,this.foreground=w,this.background=x};function s(m){return!!/^#[0-9a-f]{6}$/i.test(m)||!!/^#[0-9a-f]{8}$/i.test(m)||!!/^#[0-9a-f]{3}$/i.test(m)||!!/^#[0-9a-f]{4}$/i.test(m)}function a(m){if(!m)return[];if(!m.settings||!Array.isArray(m.settings))return[];for(var g=m.settings,b=[],_=0,w=0,x=g.length;w<x;w++){var k=g[w];if(k.settings){var y=void 0;typeof k.scope=="string"?y=k.scope.replace(/^[,]+/,"").replace(/[,]+$/,"").split(","):y=Array.isArray(k.scope)?k.scope:[""];var D=-1;if(typeof k.settings.fontStyle=="string"){D=0;for(var S=0,F=(N=k.settings.fontStyle.split(" ")).length;S<F;S++)switch(N[S]){case"italic":D|=1;break;case"bold":D|=2;break;case"underline":D|=4}}var O=null;typeof k.settings.foreground=="string"&&s(k.settings.foreground)&&(O=k.settings.foreground);var E=null;for(typeof k.settings.background=="string"&&s(k.settings.background)&&(E=k.settings.background),S=0,F=y.length;S<F;S++){var N,I=(N=y[S].trim().split(" "))[N.length-1],H=null;N.length>1&&(H=N.slice(0,N.length-1)).reverse(),b[_++]=new o(I,H,w,D,O,E)}}}return b}function l(m,g){m.sort(function(E,N){var I=d(E.scope,N.scope);return I!==0||(I=f(E.parentScopes,N.parentScopes))!==0?I:E.index-N.index});for(var b=0,_="#000000",w="#ffffff";m.length>=1&&m[0].scope==="";){var x=m.shift();x.fontStyle!==-1&&(b=x.fontStyle),x.foreground!==null&&(_=x.foreground),x.background!==null&&(w=x.background)}for(var k=new c(g),y=new h(0,null,b,k.getId(_),k.getId(w)),D=new p(new h(0,null,-1,0,0),[]),S=0,F=m.length;S<F;S++){var O=m[S];D.insert(0,O.scope,O.parentScopes,O.fontStyle,k.getId(O.foreground),k.getId(O.background))}return new u(k,y,D)}r.ParsedThemeRule=o,r.parseTheme=a;var c=function(){function m(g){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(g)){this._isFrozen=!0;for(var b=0,_=g.length;b<_;b++)this._color2id[g[b]]=b,this._id2color[b]=g[b]}else this._isFrozen=!1}return m.prototype.getId=function(g){if(g===null)return 0;g=g.toUpperCase();var b=this._color2id[g];if(b)return b;if(this._isFrozen)throw new Error("Missing color in color map - "+g);return b=++this._lastColorId,this._color2id[g]=b,this._id2color[b]=g,b},m.prototype.getColorMap=function(){return this._id2color.slice(0)},m}();r.ColorMap=c;var u=function(){function m(g,b,_){this._colorMap=g,this._root=_,this._defaults=b,this._cache={}}return m.createFromRawTheme=function(g,b){return this.createFromParsedTheme(a(g),b)},m.createFromParsedTheme=function(g,b){return l(g,b)},m.prototype.getColorMap=function(){return this._colorMap.getColorMap()},m.prototype.getDefaults=function(){return this._defaults},m.prototype.match=function(g){return this._cache.hasOwnProperty(g)||(this._cache[g]=this._root.match(g)),this._cache[g]},m}();function d(m,g){return m<g?-1:m>g?1:0}function f(m,g){if(m===null&&g===null)return 0;if(!m)return-1;if(!g)return 1;var b=m.length,_=g.length;if(b===_){for(var w=0;w<b;w++){var x=d(m[w],g[w]);if(x!==0)return x}return 0}return b-_}r.Theme=u,r.strcmp=d,r.strArrCmp=f;var h=function(){function m(g,b,_,w,x){this.scopeDepth=g,this.parentScopes=b,this.fontStyle=_,this.foreground=w,this.background=x}return m.prototype.clone=function(){return new m(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},m.cloneArr=function(g){for(var b=[],_=0,w=g.length;_<w;_++)b[_]=g[_].clone();return b},m.prototype.acceptOverwrite=function(g,b,_,w){this.scopeDepth>g?console.log("how did this happen?"):this.scopeDepth=g,b!==-1&&(this.fontStyle=b),_!==0&&(this.foreground=_),w!==0&&(this.background=w)},m}();r.ThemeTrieElementRule=h;var p=function(){function m(g,b,_){b===void 0&&(b=[]),_===void 0&&(_={}),this._mainRule=g,this._rulesWithParentScopes=b,this._children=_}return m._sortBySpecificity=function(g){return g.length===1||g.sort(this._cmpBySpecificity),g},m._cmpBySpecificity=function(g,b){if(g.scopeDepth===b.scopeDepth){var _=g.parentScopes,w=b.parentScopes,x=_===null?0:_.length,k=w===null?0:w.length;if(x===k)for(var y=0;y<x;y++){var D=_[y].length,S=w[y].length;if(D!==S)return S-D}return k-x}return b.scopeDepth-g.scopeDepth},m.prototype.match=function(g){if(g==="")return m._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var b,_,w=g.indexOf(".");return w===-1?(b=g,_=""):(b=g.substring(0,w),_=g.substring(w+1)),this._children.hasOwnProperty(b)?this._children[b].match(_):m._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},m.prototype.insert=function(g,b,_,w,x,k){if(b!==""){var y,D,S,F=b.indexOf(".");F===-1?(y=b,D=""):(y=b.substring(0,F),D=b.substring(F+1)),this._children.hasOwnProperty(y)?S=this._children[y]:(S=new m(this._mainRule.clone(),h.cloneArr(this._rulesWithParentScopes)),this._children[y]=S),S.insert(g+1,D,_,w,x,k)}else this._doInsertHere(g,_,w,x,k)},m.prototype._doInsertHere=function(g,b,_,w,x){if(b!==null){for(var k=0,y=this._rulesWithParentScopes.length;k<y;k++){var D=this._rulesWithParentScopes[k];if(f(D.parentScopes,b)===0)return void D.acceptOverwrite(g,_,w,x)}_===-1&&(_=this._mainRule.fontStyle),w===0&&(w=this._mainRule.foreground),x===0&&(x=this._mainRule.background),this._rulesWithParentScopes.push(new h(g,b,_,w,x))}else this._mainRule.acceptOverwrite(g,_,w,x)},m}();r.ThemeTrieElement=p}])})})(Eg);const bd=[{id:"abap",scopeName:"source.abap",path:"abap.tmLanguage.json",samplePath:"abap.sample"},{id:"actionscript-3",scopeName:"source.actionscript.3",path:"actionscript-3.tmLanguage.json",samplePath:"actionscript-3.sample"},{id:"ada",scopeName:"source.ada",path:"ada.tmLanguage.json",samplePath:"ada.sample"},{id:"apache",scopeName:"source.apacheconf",path:"apache.tmLanguage.json"},{id:"apex",scopeName:"source.apex",path:"apex.tmLanguage.json",samplePath:"apex.sample"},{id:"apl",scopeName:"source.apl",path:"apl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","json"]},{id:"applescript",scopeName:"source.applescript",path:"applescript.tmLanguage.json",samplePath:"applescript.sample"},{id:"asm",scopeName:"source.asm.x86_64",path:"asm.tmLanguage.json",samplePath:"asm.sample"},{id:"astro",scopeName:"text.html.astro",path:"astro.tmLanguage.json",samplePath:"astro.sample",embeddedLangs:["css","sass","scss","tsx"]},{id:"awk",scopeName:"source.awk",path:"awk.tmLanguage.json",samplePath:"awk.sample"},{id:"ballerina",scopeName:"source.ballerina",path:"ballerina.tmLanguage.json",samplePath:"ballerina.sample"},{id:"bat",scopeName:"source.batchfile",path:"bat.tmLanguage.json",samplePath:"bat.sample",aliases:["batch"]},{id:"berry",scopeName:"source.berry",path:"berry.tmLanguage.json",samplePath:"berry.sample",aliases:["be"]},{id:"bibtex",scopeName:"text.bibtex",path:"bibtex.tmLanguage.json"},{id:"bicep",scopeName:"source.bicep",path:"bicep.tmLanguage.json",samplePath:"bicep.sample"},{id:"c",scopeName:"source.c",path:"c.tmLanguage.json",samplePath:"c.sample"},{id:"clojure",scopeName:"source.clojure",path:"clojure.tmLanguage.json",samplePath:"clojure.sample",aliases:["clj"]},{id:"cobol",scopeName:"source.cobol",path:"cobol.tmLanguage.json",samplePath:"cobol.sample",embeddedLangs:["sql","html","java"]},{id:"codeql",scopeName:"source.ql",path:"codeql.tmLanguage.json",samplePath:"codeql.sample",aliases:["ql"]},{id:"coffee",scopeName:"source.coffee",path:"coffee.tmLanguage.json",samplePath:"coffee.sample",embeddedLangs:["javascript"]},{id:"cpp",scopeName:"source.cpp",path:"cpp.tmLanguage.json",samplePath:"cpp.sample",embeddedLangs:["sql"]},{id:"crystal",scopeName:"source.crystal",path:"crystal.tmLanguage.json",samplePath:"crystal.sample",embeddedLangs:["html","sql","css","c","javascript","shellscript"]},{id:"csharp",scopeName:"source.cs",path:"csharp.tmLanguage.json",samplePath:"csharp.sample",aliases:["c#"]},{id:"css",scopeName:"source.css",path:"css.tmLanguage.json",samplePath:"css.sample"},{id:"cue",scopeName:"source.cue",path:"cue.tmLanguage.json",samplePath:"cue.sample"},{id:"d",scopeName:"source.d",path:"d.tmLanguage.json",samplePath:"d.sample"},{id:"dart",scopeName:"source.dart",path:"dart.tmLanguage.json",samplePath:"dart.sample"},{id:"diff",scopeName:"source.diff",path:"diff.tmLanguage.json",samplePath:"diff.sample"},{id:"docker",scopeName:"source.dockerfile",path:"docker.tmLanguage.json",samplePath:"docker.sample"},{id:"dream-maker",scopeName:"source.dm",path:"dream-maker.tmLanguage.json"},{id:"elixir",scopeName:"source.elixir",path:"elixir.tmLanguage.json",samplePath:"elixir.sample",embeddedLangs:["html"]},{id:"elm",scopeName:"source.elm",path:"elm.tmLanguage.json",samplePath:"elm.sample"},{id:"erb",scopeName:"text.html.erb",path:"erb.tmLanguage.json",samplePath:"erb.sample",embeddedLangs:["html","ruby"]},{id:"erlang",scopeName:"source.erlang",path:"erlang.tmLanguage.json",samplePath:"erlang.sample"},{id:"fish",scopeName:"source.fish",path:"fish.tmLanguage.json",samplePath:"fish.sample"},{id:"fsharp",scopeName:"source.fsharp",path:"fsharp.tmLanguage.json",samplePath:"fsharp.sample",aliases:["f#"],embeddedLangs:["markdown"]},{id:"gherkin",scopeName:"text.gherkin.feature",path:"gherkin.tmLanguage.json"},{id:"git-commit",scopeName:"text.git-commit",path:"git-commit.tmLanguage.json",embeddedLangs:["diff"]},{id:"git-rebase",scopeName:"text.git-rebase",path:"git-rebase.tmLanguage.json",embeddedLangs:["shellscript"]},{id:"gnuplot",scopeName:"source.gnuplot",path:"gnuplot.tmLanguage.json"},{id:"go",scopeName:"source.go",path:"go.tmLanguage.json",samplePath:"go.sample"},{id:"graphql",scopeName:"source.graphql",path:"graphql.tmLanguage.json",embeddedLangs:["javascript","typescript","jsx","tsx"]},{id:"groovy",scopeName:"source.groovy",path:"groovy.tmLanguage.json"},{id:"hack",scopeName:"source.hack",path:"hack.tmLanguage.json",embeddedLangs:["html","sql"]},{id:"haml",scopeName:"text.haml",path:"haml.tmLanguage.json",embeddedLangs:["ruby","javascript","sass","coffee","markdown","css"]},{id:"handlebars",scopeName:"text.html.handlebars",path:"handlebars.tmLanguage.json",aliases:["hbs"],embeddedLangs:["html","css","javascript","yaml"]},{id:"haskell",scopeName:"source.haskell",path:"haskell.tmLanguage.json"},{id:"hcl",scopeName:"source.hcl",path:"hcl.tmLanguage.json"},{id:"hlsl",scopeName:"source.hlsl",path:"hlsl.tmLanguage.json"},{id:"html",scopeName:"text.html.basic",path:"html.tmLanguage.json",samplePath:"html.sample",embeddedLangs:["javascript","css"]},{id:"ini",scopeName:"source.ini",path:"ini.tmLanguage.json"},{id:"java",scopeName:"source.java",path:"java.tmLanguage.json",samplePath:"java.sample"},{id:"javascript",scopeName:"source.js",path:"javascript.tmLanguage.json",samplePath:"javascript.sample",aliases:["js"]},{id:"jinja-html",scopeName:"text.html.jinja",path:"jinja-html.tmLanguage.json",embeddedLangs:["html"]},{id:"json",scopeName:"source.json",path:"json.tmLanguage.json"},{id:"jsonc",scopeName:"source.json.comments",path:"jsonc.tmLanguage.json"},{id:"jsonnet",scopeName:"source.jsonnet",path:"jsonnet.tmLanguage.json"},{id:"jssm",scopeName:"source.jssm",path:"jssm.tmLanguage.json",samplePath:"jssm.sample",aliases:["fsl"]},{id:"jsx",scopeName:"source.js.jsx",path:"jsx.tmLanguage.json"},{id:"julia",scopeName:"source.julia",path:"julia.tmLanguage.json",embeddedLangs:["cpp","python","javascript","r","sql"]},{id:"jupyter",scopeName:"source.jupyter",path:"jupyter.tmLanguage.json",embeddedLangs:["json"]},{id:"kotlin",scopeName:"source.kotlin",path:"kotlin.tmLanguage.json"},{id:"latex",scopeName:"text.tex.latex",path:"latex.tmLanguage.json",embeddedLangs:["tex","css","html","java","javascript","typescript","lua","python","julia","ruby","xml","yaml","cpp","haskell","scala","gnuplot"]},{id:"less",scopeName:"source.css.less",path:"less.tmLanguage.json",embeddedLangs:["css"]},{id:"lisp",scopeName:"source.lisp",path:"lisp.tmLanguage.json"},{id:"logo",scopeName:"source.logo",path:"logo.tmLanguage.json"},{id:"lua",scopeName:"source.lua",path:"lua.tmLanguage.json",embeddedLangs:["c"]},{id:"make",scopeName:"source.makefile",path:"make.tmLanguage.json",aliases:["makefile"]},{id:"markdown",scopeName:"text.html.markdown",path:"markdown.tmLanguage.json",aliases:["md"],embeddedLangs:["css","html","ini","java","lua","make","perl","r","ruby","php","sql","vb","xml","xsl","yaml","bat","clojure","coffee","c","cpp","diff","docker","git-commit","git-rebase","go","groovy","pug","javascript","json","jsonc","less","objective-c","swift","scss","raku","powershell","python","rust","scala","shellscript","typescript","tsx","csharp","fsharp","dart","handlebars","erlang","elixir","latex","bibtex"]},{id:"matlab",scopeName:"source.matlab",path:"matlab.tmLanguage.json"},{id:"mdx",scopeName:"text.html.markdown.jsx",path:"mdx.tmLanguage.json",embeddedLangs:["jsx","markdown"]},{id:"nginx",scopeName:"source.nginx",path:"nginx.tmLanguage.json",embeddedLangs:["lua"]},{id:"nim",scopeName:"source.nim",path:"nim.tmLanguage.json",embeddedLangs:["c","html","xml","javascript","css","markdown"]},{id:"nix",scopeName:"source.nix",path:"nix.tmLanguage.json"},{id:"objective-c",scopeName:"source.objc",path:"objective-c.tmLanguage.json",aliases:["objc"]},{id:"objective-cpp",scopeName:"source.objcpp",path:"objective-cpp.tmLanguage.json"},{id:"ocaml",scopeName:"source.ocaml",path:"ocaml.tmLanguage.json"},{id:"pascal",scopeName:"source.pascal",path:"pascal.tmLanguage.json"},{id:"perl",scopeName:"source.perl",path:"perl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","sql"]},{id:"php",scopeName:"source.php",path:"php.tmLanguage.json",embeddedLangs:["html","xml","sql","javascript","json","css"]},{id:"plsql",scopeName:"source.plsql.oracle",path:"plsql.tmLanguage.json"},{id:"postcss",scopeName:"source.css.postcss",path:"postcss.tmLanguage.json"},{id:"powershell",scopeName:"source.powershell",path:"powershell.tmLanguage.json",aliases:["ps","ps1"]},{id:"prisma",scopeName:"source.prisma",path:"prisma.tmLanguage.json",samplePath:"prisma.sample"},{id:"prolog",scopeName:"source.prolog",path:"prolog.tmLanguage.json"},{id:"pug",scopeName:"text.pug",path:"pug.tmLanguage.json",aliases:["jade"],embeddedLangs:["javascript","css","sass","stylus","coffee","html"]},{id:"puppet",scopeName:"source.puppet",path:"puppet.tmLanguage.json"},{id:"purescript",scopeName:"source.purescript",path:"purescript.tmLanguage.json"},{id:"python",scopeName:"source.python",path:"python.tmLanguage.json",samplePath:"python.sample",aliases:["py"]},{id:"r",scopeName:"source.r",path:"r.tmLanguage.json"},{id:"raku",scopeName:"source.perl.6",path:"raku.tmLanguage.json",aliases:["perl6"]},{id:"razor",scopeName:"text.aspnetcorerazor",path:"razor.tmLanguage.json",embeddedLangs:["html","csharp"]},{id:"riscv",scopeName:"source.riscv",path:"riscv.tmLanguage.json"},{id:"ruby",scopeName:"source.ruby",path:"ruby.tmLanguage.json",samplePath:"ruby.sample",aliases:["rb"],embeddedLangs:["html","xml","sql","css","c","javascript","shellscript","lua"]},{id:"rust",scopeName:"source.rust",path:"rust.tmLanguage.json",aliases:["rs"]},{id:"sas",scopeName:"source.sas",path:"sas.tmLanguage.json",embeddedLangs:["sql"]},{id:"sass",scopeName:"source.sass",path:"sass.tmLanguage.json"},{id:"scala",scopeName:"source.scala",path:"scala.tmLanguage.json"},{id:"scheme",scopeName:"source.scheme",path:"scheme.tmLanguage.json"},{id:"scss",scopeName:"source.css.scss",path:"scss.tmLanguage.json",embeddedLangs:["css"]},{id:"shaderlab",scopeName:"source.shaderlab",path:"shaderlab.tmLanguage.json",aliases:["shader"],embeddedLangs:["hlsl"]},{id:"shellscript",scopeName:"source.shell",path:"shellscript.tmLanguage.json",aliases:["shell","bash","sh","zsh"],embeddedLangs:["ruby","python","applescript","html","markdown"]},{id:"smalltalk",scopeName:"source.smalltalk",path:"smalltalk.tmLanguage.json"},{id:"solidity",scopeName:"source.solidity",path:"solidity.tmLanguage.json"},{id:"sparql",scopeName:"source.sparql",path:"sparql.tmLanguage.json",samplePath:"sparql.sample",embeddedLangs:["turtle"]},{id:"sql",scopeName:"source.sql",path:"sql.tmLanguage.json"},{id:"ssh-config",scopeName:"source.ssh-config",path:"ssh-config.tmLanguage.json"},{id:"stylus",scopeName:"source.stylus",path:"stylus.tmLanguage.json",aliases:["styl"]},{id:"svelte",scopeName:"source.svelte",path:"svelte.tmLanguage.json",embeddedLangs:["javascript","typescript","coffee","stylus","sass","css","scss","less","postcss","pug","markdown"]},{id:"swift",scopeName:"source.swift",path:"swift.tmLanguage.json"},{id:"system-verilog",scopeName:"source.systemverilog",path:"system-verilog.tmLanguage.json"},{id:"tasl",scopeName:"source.tasl",path:"tasl.tmLanguage.json",samplePath:"tasl.sample"},{id:"tcl",scopeName:"source.tcl",path:"tcl.tmLanguage.json"},{id:"tex",scopeName:"text.tex",path:"tex.tmLanguage.json",embeddedLangs:["r"]},{id:"toml",scopeName:"source.toml",path:"toml.tmLanguage.json"},{id:"tsx",scopeName:"source.tsx",path:"tsx.tmLanguage.json",samplePath:"tsx.sample"},{id:"turtle",scopeName:"source.turtle",path:"turtle.tmLanguage.json",samplePath:"turtle.sample"},{id:"twig",scopeName:"text.html.twig",path:"twig.tmLanguage.json",embeddedLangs:["css","javascript","php","python","ruby"]},{id:"typescript",scopeName:"source.ts",path:"typescript.tmLanguage.json",aliases:["ts"]},{id:"vb",scopeName:"source.asp.vb.net",path:"vb.tmLanguage.json",aliases:["cmd"]},{id:"verilog",scopeName:"source.verilog",path:"verilog.tmLanguage.json"},{id:"vhdl",scopeName:"source.vhdl",path:"vhdl.tmLanguage.json"},{id:"viml",scopeName:"source.viml",path:"viml.tmLanguage.json",aliases:["vim","vimscript"]},{id:"vue-html",scopeName:"text.html.vue-html",path:"vue-html.tmLanguage.json",embeddedLangs:["vue","javascript"]},{id:"vue",scopeName:"source.vue",path:"vue.tmLanguage.json",embeddedLangs:["json","markdown","pug","haml","vue-html","sass","scss","less","stylus","postcss","css","typescript","coffee","javascript"]},{id:"wasm",scopeName:"source.wat",path:"wasm.tmLanguage.json"},{id:"wenyan",scopeName:"source.wenyan",path:"wenyan.tmLanguage.json",aliases:["\u6587\u8A00"]},{id:"xml",scopeName:"text.xml",path:"xml.tmLanguage.json",embeddedLangs:["java"]},{id:"xsl",scopeName:"text.xml.xsl",path:"xsl.tmLanguage.json",embeddedLangs:["xml"]},{id:"yaml",scopeName:"source.yaml",path:"yaml.tmLanguage.json"}];var cs;(function(t){t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline"})(cs||(cs={}));class wn{static toBinaryStr(e){let n=e.toString(2);for(;n.length<32;)n="0"+n;return n}static printMetadata(e){let n=wn.getLanguageId(e),r=wn.getTokenType(e),i=wn.getFontStyle(e),o=wn.getForeground(e),s=wn.getBackground(e);console.log({languageId:n,tokenType:r,fontStyle:i,foreground:o,background:s})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&1792)>>>8}static getFontStyle(e){return(e&14336)>>>11}static getForeground(e){return(e&8372224)>>>14}static getBackground(e){return(e&4286578688)>>>23}static set(e,n,r,i,o,s){let a=wn.getLanguageId(e),l=wn.getTokenType(e),c=wn.getFontStyle(e),u=wn.getForeground(e),d=wn.getBackground(e);return n!==0&&(a=n),r!==0&&(l=r===8?0:r),i!==cs.NotSet&&(c=i),o!==0&&(u=o),s!==0&&(d=s),(a<<0|l<<8|c<<11|u<<14|d<<23)>>>0}}function S0e(t){return t.endsWith("/")||t.endsWith("\\")?t.slice(0,-1):t}function E0e(t){return t.startsWith("./")?t.slice(2):t}function A0e(t){const e=t.split(/[\/\\]/g);return e[e.length-2]}function F0e(...t){return t.map(S0e).map(E0e).join("/")}function T0e(t,e){const n=new Map;for(const r of t){const i=e(r);n.has(i)?n.get(i).push(r):n.set(i,[r])}return n}function M0e(t,e){e===void 0&&(e=!1);var n=t.length,r=0,i="",o=0,s=16,a=0,l=0,c=0,u=0,d=0;function f(w,x){for(var k=0,y=0;k<w||!x;){var D=t.charCodeAt(r);if(D>=48&&D<=57)y=y*16+D-48;else if(D>=65&&D<=70)y=y*16+D-65+10;else if(D>=97&&D<=102)y=y*16+D-97+10;else break;r++,k++}return k<w&&(y=-1),y}function h(w){r=w,i="",o=0,s=16,d=0}function p(){var w=r;if(t.charCodeAt(r)===48)r++;else for(r++;r<t.length&&Ao(t.charCodeAt(r));)r++;if(r<t.length&&t.charCodeAt(r)===46)if(r++,r<t.length&&Ao(t.charCodeAt(r)))for(r++;r<t.length&&Ao(t.charCodeAt(r));)r++;else return d=3,t.substring(w,r);var x=r;if(r<t.length&&(t.charCodeAt(r)===69||t.charCodeAt(r)===101))if(r++,(r<t.length&&t.charCodeAt(r)===43||t.charCodeAt(r)===45)&&r++,r<t.length&&Ao(t.charCodeAt(r))){for(r++;r<t.length&&Ao(t.charCodeAt(r));)r++;x=r}else d=3;return t.substring(w,x)}function m(){for(var w="",x=r;;){if(r>=n){w+=t.substring(x,r),d=2;break}var k=t.charCodeAt(r);if(k===34){w+=t.substring(x,r),r++;break}if(k===92){if(w+=t.substring(x,r),r++,r>=n){d=2;break}var y=t.charCodeAt(r++);switch(y){case 34:w+='"';break;case 92:w+="\\";break;case 47:w+="/";break;case 98:w+="\b";break;case 102:w+="\f";break;case 110:w+=`
`;break;case 114:w+="\r";break;case 116:w+="	";break;case 117:var D=f(4,!0);D>=0?w+=String.fromCharCode(D):d=4;break;default:d=5}x=r;continue}if(k>=0&&k<=31)if(Gs(k)){w+=t.substring(x,r),d=2;break}else d=6;r++}return w}function g(){if(i="",d=0,o=r,l=a,u=c,r>=n)return o=n,s=17;var w=t.charCodeAt(r);if(Xh(w)){do r++,i+=String.fromCharCode(w),w=t.charCodeAt(r);while(Xh(w));return s=15}if(Gs(w))return r++,i+=String.fromCharCode(w),w===13&&t.charCodeAt(r)===10&&(r++,i+=`
`),a++,c=r,s=14;switch(w){case 123:return r++,s=1;case 125:return r++,s=2;case 91:return r++,s=3;case 93:return r++,s=4;case 58:return r++,s=6;case 44:return r++,s=5;case 34:return r++,i=m(),s=10;case 47:var x=r-1;if(t.charCodeAt(r+1)===47){for(r+=2;r<n&&!Gs(t.charCodeAt(r));)r++;return i=t.substring(x,r),s=12}if(t.charCodeAt(r+1)===42){r+=2;for(var k=n-1,y=!1;r<k;){var D=t.charCodeAt(r);if(D===42&&t.charCodeAt(r+1)===47){r+=2,y=!0;break}r++,Gs(D)&&(D===13&&t.charCodeAt(r)===10&&r++,a++,c=r)}return y||(r++,d=1),i=t.substring(x,r),s=13}return i+=String.fromCharCode(w),r++,s=16;case 45:if(i+=String.fromCharCode(w),r++,r===n||!Ao(t.charCodeAt(r)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=p(),s=11;default:for(;r<n&&b(w);)r++,w=t.charCodeAt(r);if(o!==r){switch(i=t.substring(o,r),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(w),r++,s=16}}function b(w){if(Xh(w)||Gs(w))return!1;switch(w){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function _(){var w;do w=g();while(w>=12&&w<=15);return w}return{setPosition:h,getPosition:function(){return r},scan:e?_:g,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return r-o},getTokenStartLine:function(){return l},getTokenStartCharacter:function(){return o-u},getTokenError:function(){return d}}}function Xh(t){return t===32||t===9||t===11||t===12||t===160||t===5760||t>=8192&&t<=8203||t===8239||t===8287||t===12288||t===65279}function Gs(t){return t===10||t===13||t===8232||t===8233}function Ao(t){return t>=48&&t<=57}var Tu;(function(t){t.DEFAULT={allowTrailingComma:!1}})(Tu||(Tu={}));function O0e(t,e,n){e===void 0&&(e=[]),n===void 0&&(n=Tu.DEFAULT);var r=null,i=[],o=[];function s(l){Array.isArray(i)?i.push(l):r!==null&&(i[r]=l)}var a={onObjectBegin:function(){var l={};s(l),o.push(i),i=l,r=null},onObjectProperty:function(l){r=l},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var l=[];s(l),o.push(i),i=l,r=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(l,c,u){e.push({error:l,offset:c,length:u})}};return N0e(t,a,n),i[0]}function N0e(t,e,n){n===void 0&&(n=Tu.DEFAULT);var r=M0e(t,!1);function i(F){return F?function(){return F(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}function o(F){return F?function(O){return F(O,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}var s=i(e.onObjectBegin),a=o(e.onObjectProperty),l=i(e.onObjectEnd),c=i(e.onArrayBegin),u=i(e.onArrayEnd),d=o(e.onLiteralValue),f=o(e.onSeparator),h=i(e.onComment),p=o(e.onError),m=n&&n.disallowComments,g=n&&n.allowTrailingComma;function b(){for(;;){var F=r.scan();switch(r.getTokenError()){case 4:_(14);break;case 5:_(15);break;case 3:_(13);break;case 1:m||_(11);break;case 2:_(12);break;case 6:_(16);break}switch(F){case 12:case 13:m?_(10):h();break;case 16:_(1);break;case 15:case 14:break;default:return F}}}function _(F,O,E){if(O===void 0&&(O=[]),E===void 0&&(E=[]),p(F),O.length+E.length>0)for(var N=r.getToken();N!==17;){if(O.indexOf(N)!==-1){b();break}else if(E.indexOf(N)!==-1)break;N=b()}}function w(F){var O=r.getTokenValue();return F?d(O):a(O),b(),!0}function x(){switch(r.getToken()){case 11:var F=r.getTokenValue(),O=Number(F);isNaN(O)&&(_(2),O=0),d(O);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return b(),!0}function k(){return r.getToken()!==10?(_(3,[],[2,5]),!1):(w(!1),r.getToken()===6?(f(":"),b(),S()||_(4,[],[2,5])):_(5,[],[2,5]),!0)}function y(){s(),b();for(var F=!1;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(F||_(4,[],[]),f(","),b(),r.getToken()===2&&g)break}else F&&_(6,[],[]);k()||_(4,[],[2,5]),F=!0}return l(),r.getToken()!==2?_(7,[2],[]):b(),!0}function D(){c(),b();for(var F=!1;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(F||_(4,[],[]),f(","),b(),r.getToken()===4&&g)break}else F&&_(6,[],[]);S()||_(4,[],[4,5]),F=!0}return u(),r.getToken()!==4?_(8,[4],[]):b(),!0}function S(){switch(r.getToken()){case 3:return D();case 1:return y();case 10:return w(!0);default:return x()}}return b(),r.getToken()===17?n.allowEmptyContent?!0:(_(4,[],[]),!1):S()?(r.getToken()!==17&&_(9,[],[]),!0):(_(4,[],[]),!1)}var $0e=O0e;let $p="";function L0e(t){$p=t}let Qh=null;async function I0e(){if(!Qh){let t;t=Wc.exports.loadWASM({data:await(globalThis.__shiki_fetch__||globalThis.fetch)(pv("dist/onig.wasm")).then(e=>e.arrayBuffer())}),Qh=t.then(()=>({createOnigScanner(e){return Wc.exports.createOnigScanner(e)},createOnigString(e){return Wc.exports.createOnigString(e)}}))}return Qh}function pv(t){return $p||console.warn("[Shiki] no CDN provider found, use `setCDN()` to specify the CDN for loading the resources before calling `getHighlighter()`"),`${$p}${t}`}async function R0e(t){const e=pv(t);return await(globalThis.__shiki_fetch__||globalThis.fetch)(e).then(n=>n.text())}async function mv(t){const e=[],n=$0e(await R0e(t),e,{allowTrailingComma:!0});if(e.length)throw e[0];return n}async function gv(t){let e=await mv(t);const n=bv(e);if(n.include){const r=await gv(F0e(A0e(t),n.include));r.settings&&(n.settings=r.settings.concat(n.settings)),r.bg&&!n.bg&&(n.bg=r.bg),r.colors&&(n.colors=Object.assign(Object.assign({},r.colors),n.colors)),delete n.include}return n}async function B0e(t){return await mv(t)}function P0e(t){t.settings||(t.settings=[]),!(t.settings[0]&&t.settings[0].settings&&!t.settings[0].scope)&&t.settings.unshift({settings:{foreground:t.fg,background:t.bg}})}function bv(t){const e=t.type||"dark",n=Object.assign(Object.assign({name:t.name,type:e},t),j0e(t));return t.include&&(n.include=t.include),t.tokenColors&&(n.settings=t.tokenColors,delete n.tokenColors),P0e(n),n}const Rw={light:"#333333",dark:"#bbbbbb"},Bw={light:"#fffffe",dark:"#1e1e1e"};function j0e(t){var e,n,r,i,o,s;let a,l,c=t.settings?t.settings:t.tokenColors;const u=c?c.find(d=>!d.name&&!d.scope):void 0;return!((e=u==null?void 0:u.settings)===null||e===void 0)&&e.foreground&&(a=u.settings.foreground),!((n=u==null?void 0:u.settings)===null||n===void 0)&&n.background&&(l=u.settings.background),!a&&((i=(r=t)===null||r===void 0?void 0:r.colors)===null||i===void 0?void 0:i["editor.foreground"])&&(a=t.colors["editor.foreground"]),!l&&((s=(o=t)===null||o===void 0?void 0:o.colors)===null||s===void 0?void 0:s["editor.background"])&&(l=t.colors["editor.background"]),a||(a=t.type==="light"?Rw.light:Rw.dark),l||(l=t.type==="light"?Bw.light:Bw.dark),{fg:a,bg:l}}class z0e{constructor(e,n){this.languagesPath="languages/",this.languageMap={},this.scopeToLangMap={},this._onigLibPromise=e,this._onigLibName=n}get onigLib(){return this._onigLibPromise}getOnigLibName(){return this._onigLibName}getLangRegistration(e){return this.languageMap[e]}async loadGrammar(e){const n=this.scopeToLangMap[e];if(!n)return null;if(n.grammar)return n.grammar;const r=await B0e(bd.includes(n)?`${this.languagesPath}${n.path}`:n.path);return n.grammar=r,r}addLanguage(e){this.languageMap[e.id]=e,e.aliases&&e.aliases.forEach(n=>{this.languageMap[n]=e}),this.scopeToLangMap[e.scopeName]=e}}function V0e(t,e,n,r,i){let o=n.split(/\r\n|\r|\n/),s=Eg.exports.INITIAL,a=[],l=[];for(let c=0,u=o.length;c<u;c++){let d=o[c];if(d===""){a=[],l.push([]);continue}let f,h,p;i.includeExplanation&&(f=r.tokenizeLine(d,s),h=f.tokens,p=0);let m=r.tokenizeLine2(d,s),g=m.tokens.length/2;for(let b=0;b<g;b++){let _=m.tokens[2*b],w=b+1<g?m.tokens[2*b+2]:d.length;if(_===w)continue;let x=m.tokens[2*b+1],k=wn.getForeground(x),y=e[k],D=wn.getFontStyle(x),S=[];if(i.includeExplanation){let F=0;for(;_+F<w;){let O=h[p],E=d.substring(O.startIndex,O.endIndex);F+=E.length,S.push({content:E,scopes:q0e(t,O.scopes)}),p++}}a.push({content:d.substring(_,w),color:y,fontStyle:D,explanation:S})}l.push(a),a=[],s=m.ruleStack}return l}function q0e(t,e){let n=[];for(let r=0,i=e.length;r<i;r++){let o=e.slice(0,r),s=e[r];n[r]={scopeName:s,themeMatches:W0e(t,s,o)}}return n}function Pw(t,e){let n=t+".";return t===e||e.substring(0,n.length)===n}function U0e(t,e,n,r){if(!Pw(t,n))return!1;let i=e.length-1,o=r.length-1;for(;i>=0&&o>=0;)Pw(e[i],r[o])&&i--,o--;return i===-1}function W0e(t,e,n){let r=[],i=0;for(let o=0,s=t.settings.length;o<s;o++){let a=t.settings[o],l;if(typeof a.scope=="string")l=a.scope.split(/,/).map(c=>c.trim());else if(Array.isArray(a.scope))l=a.scope;else continue;for(let c=0,u=l.length;c<u;c++){let f=l[c].split(/ /),h=f[f.length-1],p=f.slice(0,f.length-1);U0e(h,p,e,n)&&(r[i++]=a,c=u)}}return r}function H0e(t,e={}){var n;const r=e.bg||"#fff",i=T0e((n=e.lineOptions)!==null&&n!==void 0?n:[],s=>s.line);let o="";return o+=`<pre class="shiki" style="background-color: ${r}">`,e.langId&&(o+=`<div class="language-id">${e.langId}</div>`),o+="<code>",t.forEach((s,a)=>{var l;const c=a+1,u=(l=i.get(c))!==null&&l!==void 0?l:[],d=J0e(u).join(" ");o+=`<span class="${d}">`,s.forEach(f=>{const h=[`color: ${f.color||e.fg}`];f.fontStyle&cs.Italic&&h.push("font-style: italic"),f.fontStyle&cs.Bold&&h.push("font-weight: bold"),f.fontStyle&cs.Underline&&h.push("text-decoration: underline"),o+=`<span style="${h.join("; ")}">${K0e(f.content)}</span>`}),o+=`</span>
`}),o=o.replace(/\n*$/,""),o+="</code></pre>",o}const G0e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function K0e(t){return t.replace(/[&<>"']/g,e=>G0e[e])}function J0e(t){var e;const n=new Set(["line"]);for(const r of t)for(const i of(e=r.classes)!==null&&e!==void 0?e:[])n.add(i);return Array.from(n)}class Y0e extends Eg.exports.Registry{constructor(e){super(e),this._resolver=e,this.themesPath="themes/",this._resolvedThemes={},this._resolvedGrammars={}}getTheme(e){return typeof e=="string"?this._resolvedThemes[e]:e}async loadTheme(e){return typeof e=="string"?(this._resolvedThemes[e]||(this._resolvedThemes[e]=await gv(`${this.themesPath}${e}.json`)),this._resolvedThemes[e]):(e=bv(e),e.name&&(this._resolvedThemes[e.name]=e),e)}async loadThemes(e){return await Promise.all(e.map(n=>this.loadTheme(n)))}getLoadedThemes(){return Object.keys(this._resolvedThemes)}getGrammar(e){return this._resolvedGrammars[e]}async loadLanguage(e){const n=await this.loadGrammar(e.scopeName);this._resolvedGrammars[e.id]=n,e.aliases&&e.aliases.forEach(r=>{this._resolvedGrammars[r]=n})}async loadLanguages(e){for(const n of e)this._resolver.addLanguage(n);for(const n of e)await this.loadLanguage(n)}getLoadedLanguages(){return Object.keys(this._resolvedGrammars)}}function yv(t){return typeof t=="string"?bd.find(e=>{var n;return e.id===t||((n=e.aliases)===null||n===void 0?void 0:n.includes(t))}):t}function X0e(t){var e;let n=bd,r=t.themes||[];return!((e=t.langs)===null||e===void 0)&&e.length&&(n=t.langs.map(yv)),t.theme&&r.unshift(t.theme),r.length||(r=["nord"]),{_languages:n,_themes:r}}async function Q0e(t){var e,n;const{_languages:r,_themes:i}=X0e(t),o=new z0e(I0e(),"vscode-oniguruma"),s=new Y0e(o);!((e=t.paths)===null||e===void 0)&&e.themes&&(s.themesPath=t.paths.themes),!((n=t.paths)===null||n===void 0)&&n.languages&&(o.languagesPath=t.paths.languages);const l=(await s.loadThemes(i))[0];let c;await s.loadLanguages(r);const u={"#000001":"var(--shiki-color-text)","#000002":"var(--shiki-color-background)","#000004":"var(--shiki-token-constant)","#000005":"var(--shiki-token-string)","#000006":"var(--shiki-token-comment)","#000007":"var(--shiki-token-keyword)","#000008":"var(--shiki-token-parameter)","#000009":"var(--shiki-token-function)","#000010":"var(--shiki-token-string-expression)","#000011":"var(--shiki-token-punctuation)","#000012":"var(--shiki-token-link)"};function d(y,D){y.bg=u[y.bg]||y.bg,y.fg=u[y.fg]||y.fg,D.forEach((S,F)=>{D[F]=u[S]||S})}function f(y){const D=y?s.getTheme(y):l;if(!D)throw Error(`No theme registration for ${y}`);(!c||c.name!==D.name)&&(s.setTheme(D),c=D);const S=s.getColorMap();return D.name==="css-variables"&&d(D,S),{_theme:D,_colorMap:S}}function h(y){const D=s.getGrammar(y);if(!D)throw Error(`No language registration for ${y}`);return{_grammar:D}}function p(y,D="text",S,F={includeExplanation:!0}){if(Z0e(D))return[[{content:y}]];const{_grammar:O}=h(D),{_theme:E,_colorMap:N}=f(S);return V0e(E,N,y,O,F)}function m(y,D="text",S){let F;typeof D=="object"?F=D:F={lang:D,theme:S};const O=p(y,F.lang,F.theme,{includeExplanation:!1}),{_theme:E}=f(F.theme);return H0e(O,{fg:E.fg,bg:E.bg,lineOptions:F==null?void 0:F.lineOptions})}async function g(y){await s.loadTheme(y)}async function b(y){const D=yv(y);o.addLanguage(D),await s.loadLanguage(D)}function _(){return s.getLoadedThemes()}function w(){return s.getLoadedLanguages()}function x(y){const{_theme:D}=f(y);return D.bg}function k(y){const{_theme:D}=f(y);return D.fg}return{codeToThemedTokens:p,codeToHtml:m,getTheme:y=>f(y)._theme,loadTheme:g,loadLanguage:b,getBackgroundColor:x,getForegroundColor:k,getLoadedThemes:_,getLoadedLanguages:w}}function Z0e(t){return!t||["plaintext","txt","text"].includes(t)}const ebe="0.1.2";L0e(`https://cdn.jsdelivr.net/npm/shiki-es@${ebe}/dist/assets/`);function jw(t,e,n){const r=[];return Wf(i=>i.type.name===e)(t).forEach(i=>{const{language:o}=i.node.attrs;if(!n.getLoadedLanguages().includes(o))return;let s=i.pos+1;for(const a of n.codeToThemedTokens(i.node.textContent,o)){for(const l of a){const c=s+l.content.length;r.push(tt.inline(s,c,{style:`color: ${l.color}`})),s=c}s+=1}}),Te.create(t,r)}const tbe="MILKDOWN_SHIKI",qi="fence";function nbe(t){return bd.some(e=>{var n;return e.id===t||((n=e.aliases)==null?void 0:n.includes(t))})}async function rbe(t,e,n){const r=e.getLoadedLanguages(),i=[];n.descendants(s=>{const a=s.type.name===qi&&s.attrs.language;a&&!i.includes(a)&&!r.includes(a)&&nbe(a)&&i.push(a)}),await Promise.all(i.map(s=>e.loadLanguage(s).catch(a=>a))),await t.wait(ro);const o=t.get(Je);o.dispatch(o.state.tr.setMeta("asyncUpdate",!0))}const ibe=(t,e)=>new De({key:new Se(tbe),state:{init:(n,{doc:r})=>(rbe(t,e,r),jw(r,qi,e)),apply:(n,r,i,o)=>{var d,f;const s=o.selection.$head.parent.type.name===qi,a=i.selection.$head.parent.type.name===qi,l=Wf(h=>h.type.name===qi)(i.doc),c=Wf(h=>h.type.name===qi)(o.doc);return n.docChanged&&(s||a||l.length!==c.length||((d=l[0])==null?void 0:d.node.attrs.language)!==((f=c[0])==null?void 0:f.node.attrs.language)||n.steps.some(h=>{const p=h;return p.from!==void 0&&p.to!==void 0&&l.some(m=>m.pos>=p.from&&m.pos+m.node.nodeSize<=p.to)}))||n.getMeta("asyncUpdate")?jw(n.doc,qi,e):r.map(n.mapping,n.doc)}},props:{decorations(n){return this.getState(n)}}}),Zh=zn("shiki"),obe=t=>(t.record(Zh),async e=>{e.update(Ec,r=>r.concat(Zh));const n=await Q0e({theme:"one-dark-pro",langs:["bash","js","ts","json","html","css"]});e.update(Dt,r=>[...r,ibe(e,n)]),e.done(Zh)});function zw(t){return typeof t=="object"&&t!=null&&t.nodeType===1}function Vw(t,e){return(!e||t!=="hidden")&&t!=="visible"&&t!=="clip"}function ef(t,e){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var n=getComputedStyle(t,null);return Vw(n.overflowY,e)||Vw(n.overflowX,e)||function(r){var i=function(o){if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)}(t)}return!1}function ic(t,e,n,r,i,o,s,a){return o<t&&s>e||o>t&&s<e?0:o<=t&&a<=n||s>=e&&a>=n?o-t-r:s>e&&a<n||o<t&&a>n?s-e+i:0}var qw=function(t,e){var n=window,r=e.scrollMode,i=e.block,o=e.inline,s=e.boundary,a=e.skipOverflowHiddenElements,l=typeof s=="function"?s:function(Ne){return Ne!==s};if(!zw(t))throw new TypeError("Invalid target");for(var c,u,d=document.scrollingElement||document.documentElement,f=[],h=t;zw(h)&&l(h);){if((h=(u=(c=h).parentElement)==null?c.getRootNode().host||null:u)===d){f.push(h);break}h!=null&&h===document.body&&ef(h)&&!ef(document.documentElement)||h!=null&&ef(h,a)&&f.push(h)}for(var p=n.visualViewport?n.visualViewport.width:innerWidth,m=n.visualViewport?n.visualViewport.height:innerHeight,g=window.scrollX||pageXOffset,b=window.scrollY||pageYOffset,_=t.getBoundingClientRect(),w=_.height,x=_.width,k=_.top,y=_.right,D=_.bottom,S=_.left,F=i==="start"||i==="nearest"?k:i==="end"?D:k+w/2,O=o==="center"?S+x/2:o==="end"?y:S,E=[],N=0;N<f.length;N++){var I=f[N],H=I.getBoundingClientRect(),Q=H.height,$=H.width,L=H.top,T=H.right,A=H.bottom,M=H.left;if(r==="if-needed"&&k>=0&&S>=0&&D<=m&&y<=p&&k>=L&&D<=A&&S>=M&&y<=T)return E;var v=getComputedStyle(I),C=parseInt(v.borderLeftWidth,10),V=parseInt(v.borderTopWidth,10),Y=parseInt(v.borderRightWidth,10),J=parseInt(v.borderBottomWidth,10),q=0,W=0,ce="offsetWidth"in I?I.offsetWidth-I.clientWidth-C-Y:0,ee="offsetHeight"in I?I.offsetHeight-I.clientHeight-V-J:0,j="offsetWidth"in I?I.offsetWidth===0?0:$/I.offsetWidth:0,Z="offsetHeight"in I?I.offsetHeight===0?0:Q/I.offsetHeight:0;if(d===I)q=i==="start"?F:i==="end"?F-m:i==="nearest"?ic(b,b+m,m,V,J,b+F,b+F+w,w):F-m/2,W=o==="start"?O:o==="center"?O-p/2:o==="end"?O-p:ic(g,g+p,p,C,Y,g+O,g+O+x,x),q=Math.max(0,q+b),W=Math.max(0,W+g);else{q=i==="start"?F-L-V:i==="end"?F-A+J+ee:i==="nearest"?ic(L,A,Q,V,J+ee,F,F+w,w):F-(L+Q/2)+ee/2,W=o==="start"?O-M-C:o==="center"?O-(M+$/2)+ce/2:o==="end"?O-T+Y+ce:ic(M,T,$,C,Y+ce,O,O+x,x);var we=I.scrollLeft,ke=I.scrollTop;F+=ke-(q=Math.max(0,Math.min(ke+q/Z,I.scrollHeight-Q/Z+ee))),O+=we-(W=Math.max(0,Math.min(we+W/j,I.scrollWidth-$/j+ce)))}E.push({el:I,top:q,left:W})}return E};function wv(t){return t===Object(t)&&Object.keys(t).length!==0}function sbe(t,e){e===void 0&&(e="auto");var n="scrollBehavior"in document.body.style;t.forEach(function(r){var i=r.el,o=r.top,s=r.left;i.scroll&&n?i.scroll({top:o,left:s,behavior:e}):(i.scrollTop=o,i.scrollLeft=s)})}function abe(t){return t===!1?{block:"end",inline:"nearest"}:wv(t)?t:{block:"start",inline:"nearest"}}function Uw(t,e){var n=t.isConnected||t.ownerDocument.documentElement.contains(t);if(wv(e)&&typeof e.behavior=="function")return e.behavior(n?qw(t,e):[]);if(!!n){var r=abe(e);return sbe(qw(t,r),r.behavior)}}var tf,kv=function(){return tf||(tf="performance"in window?performance.now.bind(performance):Date.now),tf()};function _v(t){var e=kv(),n=Math.min((e-t.startTime)/t.duration,1),r=t.ease(n),i=t.startX+(t.x-t.startX)*r,o=t.startY+(t.y-t.startY)*r;t.method(i,o),i!==t.x||o!==t.y?requestAnimationFrame(function(){return _v(t)}):t.cb()}function lbe(t,e,n,r,i,o){r===void 0&&(r=600),i===void 0&&(i=function(d){return 1+--d*d*d*d*d});var s,a,l,c;s=t,a=t.scrollLeft,l=t.scrollTop,c=function(d,f){t.scrollLeft=Math.ceil(d),t.scrollTop=Math.ceil(f)},_v({scrollable:s,method:c,startTime:kv(),startX:a,startY:l,x:e,y:n,duration:r,ease:i,cb:o})}var cbe=function(e){return e&&!e.behavior||e.behavior==="smooth"};function ube(t,e){var n=e||{};return cbe(n)?Uw(t,{block:n.block,inline:n.inline,scrollMode:n.scrollMode,boundary:n.boundary,behavior:function(i){return Promise.all(i.reduce(function(o,s){var a=s.el,l=s.left,c=s.top,u=a.scrollLeft,d=a.scrollTop;return u===l&&d===c?o:[].concat(o,[new Promise(function(f){return lbe(a,l,c,n.duration,n.ease,function(){return f({el:a,left:[u,l],top:[d,c]})})})])},[]))}}):Promise.resolve(Uw(t,e))}var dbe=ube;const Dv=dbe,hbe=(t,{css:e})=>{const n=(r,i=1)=>t.get(qt,[r,i]);return e`
        .slash-dropdown-item {
            display: flex;
            gap: 32px;
            height: 48px;
            padding: 0 16px;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            line-height: 48px;
            font-family: ${t.get(Hn,"typography")};
            font-size: 14px;

            transition: all 0.2s ease-in-out;

            &,
            .icon {
                color: ${n("neutral",.87)};
                transition: all 0.2s ease-in-out;
            }

            &.hide {
                display: none;
            }

            &.active {
                background: ${n("secondary",.12)};
                &,
                .icon {
                    color: ${n("primary")};
                }
            }
        }
    `},fbe=(t,e)=>{const n=(r,i=1)=>t.get(qt,[r,i]);return e.css`
        width: 320px;
        min-height: 48px;
        max-height: 320px;
        overflow-y: auto;
        border-radius: ${t.get(He,"radius")};
        position: absolute;
        background: ${n("surface")};

        ${t.get(kt,void 0)}
        ${t.get(Xn,void 0)}
        ${t.get(Br,void 0)}

        &.hide {
            display: none;
        }

        ${hbe(t,e)}
    `},pbe=(t,e)=>{const n=document.createElement("div");return n.setAttribute("role","listbox"),n.setAttribute("tabindex","-1"),t.themeManager.onFlush(()=>{const r=t.getStyle(i=>fbe(t.themeManager,i));r&&n.classList.add(r)}),n.classList.add(t.getClassName({},e),"hide"),n},yn=(t,e,n,r)=>{var i;const o=(i=r==null?void 0:r.textClassName)!=null?i:"text",s=document.createElement("div");s.setAttribute("role","option"),s.classList.add("slash-dropdown-item");const a=t.get(pt,n);if(!a)throw eS(n);const l=document.createElement("span");return l.textContent=e,l.className=o,s.appendChild(a.dom),s.appendChild(l),s},mbe=(t,e)=>{const{selection:n}=t,{$from:r}=n,i=t.tr.deleteRange(r.start(),r.pos);return e==null||e(i),!1},gbe=t=>(e,n,r)=>(r&&(mbe(e,n),t()),!0),Lp=(t,e="/")=>{const{nodes:n}=t.get(ht),r=[{id:"h1",dom:yn(t.get(Fe),"Large Heading","h1"),command:()=>t.get(ve).call("TurnIntoHeading",1),keyword:["h1","large heading"],typeName:"heading"},{id:"h2",dom:yn(t.get(Fe),"Medium Heading","h2"),command:()=>t.get(ve).call("TurnIntoHeading",2),keyword:["h2","medium heading"],typeName:"heading"},{id:"h3",dom:yn(t.get(Fe),"Small Heading","h3"),command:()=>t.get(ve).call("TurnIntoHeading",3),keyword:["h3","small heading"],typeName:"heading"},{id:"bulletList",dom:yn(t.get(Fe),"Bullet List","bulletList"),command:()=>t.get(ve).call("WrapInBulletList"),keyword:["bullet list","ul"],typeName:"bullet_list"},{id:"orderedList",dom:yn(t.get(Fe),"Ordered List","orderedList"),command:()=>t.get(ve).call("WrapInOrderedList"),keyword:["ordered list","ol"],typeName:"ordered_list"},{id:"taskList",dom:yn(t.get(Fe),"Task List","taskList"),command:()=>t.get(ve).call("TurnIntoTaskList"),keyword:["task list","task"],typeName:"task_list_item"},{id:"image",dom:yn(t.get(Fe),"Image","image"),command:()=>t.get(ve).call("InsertImage"),keyword:["image"],typeName:"image"},{id:"blockquote",dom:yn(t.get(Fe),"Quote","quote"),command:()=>t.get(ve).call("WrapInBlockquote"),keyword:["quote","blockquote"],typeName:"blockquote"},{id:"table",dom:yn(t.get(Fe),"Table","table"),command:()=>t.get(ve).call("InsertTable"),keyword:["table"],typeName:"table"},{id:"code",dom:yn(t.get(Fe),"Code Fence","code"),command:()=>t.get(ve).call("TurnIntoCodeFence"),keyword:["code"],typeName:"fence"},{id:"divider",dom:yn(t.get(Fe),"Divide Line","divider"),command:()=>t.get(ve).call("InsertHr"),keyword:["divider","hr"],typeName:"hr"}],i=e.slice(1).toLocaleLowerCase();return r.filter(o=>!!n[o.typeName]&&o.keyword.some(s=>s.includes(i))).map(({keyword:o,typeName:s,...a})=>a)},bbe=t=>({content:e,isTopLevel:n})=>{if(!n)return null;const r=t.get(Je);return r!=null&&r.editable?e?e.startsWith("/")?e==="/"?{placeholder:"Type to filter...",actions:Lp(t)}:{actions:Lp(t,e)}:null:{placeholder:"Type / to use the slash commands..."}:null},ybe=(t,{css:e})=>{const n=(i,o=1)=>t.get(qt,[i,o]),r=t.get(Hn,"typography");return e`
        position: relative;
        &::before {
            position: absolute;
            cursor: text;
            font-family: ${r};
            font-size: 14px;
            color: ${n("neutral",.6)};
            content: attr(data-text);
            height: 100%;
            display: flex;
            align-items: center;
        }
    `},wbe=(t,{css:e})=>e`
    &::before {
        left: 8px;
    }
`,kbe=(t,e)=>({handleKeyDown:(n,r)=>!(t.isEmpty()||!(r instanceof KeyboardEvent)||!["ArrowUp","ArrowDown","Enter"].includes(r.key)),decorations:n=>{const r=pl(({type:d})=>d.name==="paragraph")(n.selection),i=n.plugins.find(d=>d.key==="MILKDOWN_UPLOAD$"),o=i==null?void 0:i.getState(n);if(o!=null&&o.find(n.selection.from,n.selection.to).length>0||!r||r.node.childCount>1||n.selection.$from.parentOffset!==r.node.textContent.length||r.node.firstChild&&r.node.firstChild.type.name!=="text")return t.clear(),null;const{placeholder:s,actions:a}=t.update({parentNode:n.selection.$from.node(n.selection.$from.depth-1),isTopLevel:n.selection.$from.depth===1,content:r.node.textContent,state:n});if(!s)return null;const l=(d,f)=>{const h=r.pos;return Te.create(n.doc,[tt.node(h,h+r.node.nodeSize,{class:f.filter(p=>p).join(" "),"data-text":d})])},c=e.getStyle(d=>ybe(e.themeManager,d)),u=e.getStyle(d=>wbe(e.themeManager,d));return a.length?l(s,[c,u,"empty-node","is-slash"]):l(s,[c,"empty-node"])}}),_be=t=>({id:t.id,$:t.dom,command:gbe(t.command)}),Dbe=()=>({placeholder:null,actions:[]}),xbe=t=>{const e=Dbe();return{get:()=>e,clear:()=>{e.placeholder=null,e.actions=[]},update:n=>{var r,i;const o=t(n);return e.placeholder=(r=o==null?void 0:o.placeholder)!=null?r:null,e.actions=((i=o==null?void 0:o.actions)!=null?i:[]).map(_be),e},isEmpty:()=>e.actions.length===0}},Cbe=(t,e,n)=>{const{actions:r}=t.get();if(!r.length)return e.classList.add("hide"),!1;for(e.childNodes.forEach(o=>{o.removeEventListener("mouseenter",n.mouseEnter),o.removeEventListener("mouseleave",n.mouseLeave)});e.firstChild;)e.firstChild.remove();r.forEach(({$:o})=>{o.classList.remove("active"),o.addEventListener("mouseenter",n.mouseEnter),o.addEventListener("mouseleave",n.mouseLeave),e.appendChild(o)}),e.style.maxHeight="",e.classList.remove("hide");const i=r[0];return i&&(i.$.classList.add("active"),requestAnimationFrame(()=>{Dv(i.$,{scrollMode:"if-needed",block:"nearest",inline:"nearest"})})),!0},vbe=()=>{let t=!1;return{isLock:()=>t,lock:()=>{t=!0},unlock:()=>{t=!1}}},Sbe=t=>()=>{t.unlock()},Ebe=(t,e)=>n=>{if(e.isLock())return;const{actions:r}=t.get(),i=r.findIndex(a=>a.$.classList.contains("active")),o=r[i];o&&i>=0&&o.$.classList.remove("active");const{target:s}=n;s instanceof HTMLElement&&s.classList.add("active")},Abe=()=>t=>{const{target:e}=t;e instanceof HTMLElement&&e.classList.remove("active")},Fbe=(t,e,n)=>r=>{const{target:i}=r;if(!(i instanceof HTMLElement)||!e)return;const o=()=>{r.stopPropagation(),r.preventDefault()},{actions:s}=t.get(),a=Object.values(s).find(({$:l})=>l.contains(i));if(!a){if(t.isEmpty())return;t.clear(),n.classList.add("hide"),o();return}o(),a.command(e.state,e.dispatch,e)},Tbe=(t,e,n,r)=>i=>{if(!(i instanceof KeyboardEvent))return;r.isLock()||r.lock();const{key:o}=i;if(t.isEmpty()||!["ArrowDown","ArrowUp","Enter","Escape"].includes(o))return;const{actions:s}=t.get();let a=s.findIndex(({$:u})=>u.classList.contains("active"));a<0&&(a=0);const l=u=>{const d=s[a],f=s[u];!d||!f||(d.$.classList.remove("active"),f.$.classList.add("active"),Dv(f.$,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}))};if(o==="ArrowDown"){const u=a===s.length-1?0:a+1;l(u);return}if(o==="ArrowUp"){const u=a===0?s.length-1:a-1;l(u);return}if(o==="Escape"){if(t.isEmpty())return;t.clear(),n.classList.add("hide");return}const c=s[a];!c||(c.command(e.state,e.dispatch,e),c.$.classList.remove("active"))},Mbe=(t,e)=>{am(t,e,(n,r,i)=>{const o=e.parentElement;if(!o)throw En();let s=n.left-i.left;s<0&&(s=0);let a,l;const c=n.top-i.top,u=i.height+i.top-n.bottom;u>=r.height+28?a="bottom":c>=r.height+28?a="top":u>=c?(a="bottom",l=u-28):(a="top",l=c-28),(c<0||u<0)&&(l=i.height-n.height-28,l>r.height&&(l=void 0));const d=a==="top"?n.top-i.top-(l!=null?l:r.height)-14+o.scrollTop:n.bottom-i.top+14+o.scrollTop;return e.style.maxHeight=l!==void 0&&l>0?`${l}px`:"",[d,s]})},Obe=(t,e,n,r,i)=>{const o=e.dom.parentNode;if(!o)return{};const s=pbe(n,r),a=vbe();o.appendChild(s);const l=Sbe(a),c=Fbe(t,e,s),u=Tbe(t,e,s,a),d=Ebe(t,a),f=Abe();return o.addEventListener("mousemove",l),o.addEventListener("mousedown",c),o.addEventListener("keydown",u),{update:h=>{!Cbe(t,s,{mouseEnter:d,mouseLeave:f})||i(h,s)},destroy:()=>{o.removeEventListener("mousemove",l),o.removeEventListener("mousedown",c),o.removeEventListener("keydown",u),s.remove()}}},Nbe="MILKDOWN_SLASH",$be=(t,e,n,r)=>{const i=xbe(e);return new De({key:new Se(Nbe),props:kbe(i,t),view:o=>Obe(i,o,t,n,r)})},xv=Kr((t,e)=>{var n,r;const i=(n=e==null?void 0:e.config)!=null?n:bbe,o=(r=e==null?void 0:e.calcPosition)!=null?r:Mbe;return{prosePlugins:(s,a)=>{const l=i(a);return[$be(t,l,"slash-dropdown",o)]}}}),Lbe=rn.create([xv()]),Ibe=/^(AppLayout|Debug|Markdown|Prose.*)$/,Rbe=Lbe.configure(xv,{config:t=>({parentNode:e,isTopLevel:n,content:r})=>{var s;const i=t.get(sd),o=i.filter(a=>!Ibe.test(a.name)&&a.props.every(l=>!l.required));if(!r)return{placeholder:Uc(e)?"Type / to use slash commands or # for slots...":"Type / to use slash commands..."};if(r.startsWith("/")&&(n||Uc(e)||Sp(e)))return{placeholder:r==="/"?"Type to filter...":null,actions:Lp(t,r).concat(o.filter(a=>[a.name.toLocaleLowerCase(),"component"].some(l=>l.includes(r.slice(1).toLocaleLowerCase()))).map(a=>({id:"component",dom:yn(t.get(Fe),a.name,"select"),command:()=>t.get(ve).call(rC,a)})))};if(r.startsWith("#")&&Uc(e)){const a=r.slice(1).toLocaleLowerCase(),l=i.find(d=>Wn(d.name)===Wn(e.attrs.name)),c=e.content.content.filter(d=>Sp(d)).map(d=>Wn(d.attrs.name)),u=((s=l==null?void 0:l.slots)!=null?s:[]).filter(({name:d})=>d!=="default"&&!c.includes(Wn(d))&&d.toLocaleLowerCase().includes(a));if(u.length)return{placeholder:a?"":" Type to filter...",actions:u.map(d=>({id:"component",dom:yn(t.get(Fe),d.name,"table"),command:()=>t.get(ve).call(cC,d)}))}}}}),Bbe=new Se("MILKDOWN_TRAILING"),Cv=Kr((t,e)=>({prosePlugins:()=>{var n;const r=(n=e==null?void 0:e.shouldAppend)!=null?n:o=>!(!o||["heading","paragraph"].includes(o.type.name)),i=new De({key:Bbe,state:{init:(o,s)=>{const a=s.tr.doc.lastChild;return r(a,s)},apply:(o,s,a,l)=>{if(!o.docChanged)return s;const c=o.doc.lastChild;return r(c,l)}},appendTransaction:(o,s,a)=>{var l,c,u;const{doc:d,tr:f,schema:h}=a,p=(u=(l=e==null?void 0:e.getNode)==null?void 0:l.call(e,a))!=null?u:(c=h.nodes.paragraph)==null?void 0:c.create(),m=i.getState(a),g=d.content.size;if(!(!m||!p))return f.insert(g,p)}});return[i]}}));rn.create([Cv()]);const Pbe=rn.create([Cv({shouldAppend:t=>t?["heading","paragraph"].includes(t.type.name)?t.content.size>0:!0:!1})]),jbe=({injectGlobal:t})=>t`
    /* copy from https://github.com/ProseMirror/@milkdown/prose/blob/master/style/prosemirror.css */
    .ProseMirror {
        position: relative;
    }

    .ProseMirror {
        word-wrap: break-word;
        white-space: pre-wrap;
        white-space: break-spaces;
        -webkit-font-variant-ligatures: none;
        font-variant-ligatures: none;
        font-feature-settings: 'liga' 0; /* the above doesn't seem to work in Edge */
    }

    .ProseMirror pre {
        white-space: pre-wrap;
    }

    .ProseMirror li {
        position: relative;
    }

    .ProseMirror-hideselection *::selection {
        background: transparent;
    }
    .ProseMirror-hideselection *::-moz-selection {
        background: transparent;
    }
    .ProseMirror-hideselection {
        caret-color: transparent;
    }

    .ProseMirror-selectednode {
        outline: 2px solid #8cf;
    }

    /* Make sure li selections wrap around markers */

    li.ProseMirror-selectednode {
        outline: none;
    }

    li.ProseMirror-selectednode:after {
        content: '';
        position: absolute;
        left: -32px;
        right: -2px;
        top: -2px;
        bottom: -2px;
        border: 2px solid #8cf;
        pointer-events: none;
    }

    /* Protect against generic img rules */

    img.ProseMirror-separator {
        display: inline !important;
        border: none !important;
        margin: 0 !important;
    }
`,zbe=(t,{css:e})=>{const n=er(t),r=t.get(He,"radius"),i=t.get(He,"lineWidth");return e`
        background-color: ${n("background")};
        color: ${n("neutral")};
        font-size: 14px;
        padding: 18px 6px 22px;
        border-radius: ${r};
        font-family: ${t.get(Hn,"typography")};

        .code-fence_selector-wrapper {
            position: relative;
        }

        .code-fence_selector {
            width: 180px;
            box-sizing: border-box;
            border-radius: ${r};
            margin: 0 18px 18px;
            cursor: pointer;
            background-color: ${n("surface")};
            position: relative;
            display: flex;
            color: ${n("neutral",.87)};
            letter-spacing: 0.5px;
            height: 42px;
            align-items: center;

            ${t.get(kt,void 0)};
            ${t.get(Xn,void 0)};

            & > .icon {
                width: 42px;
                height: 100%;
                display: flex;
                justify-content: center;
                align-items: center;
                color: ${n("solid",.87)};
                border-left: ${i} solid ${n("line")};

                text-align: center;
                transition: all 0.2s ease-in-out;
                &:hover {
                    background: ${n("background")};
                    color: ${n("primary")};
                }
            }

            > span:first-child {
                padding-left: 16px;
                flex: 1;
                font-weight: 500;
            }
        }

        .code-fence_selector-list-item {
            list-style: none;
            line-height: 2;
            padding-left: 16px;
            cursor: pointer;
            margin: 0 !important;
            :hover {
                background: ${n("secondary",.12)};
                color: ${n("primary")};
            }
        }

        .code-fence_selector-list {
            &[data-fold='true'] {
                display: none;
            }

            margin: 0 !important;
            font-weight: 500;
            position: absolute;
            z-index: 1;
            top: 42px;
            box-sizing: border-box;
            left: 18px;
            padding: 8px 0;
            max-height: 260px;
            width: 180px;
            background-color: ${n("surface")};
            border-top: none;
            overflow-y: auto;
            display: flex;
            flex-direction: column;

            ${t.get(Br,["y"])}
            ${t.get(kt,void 0)};
            ${t.get(Xn,void 0)};
        }
    `},Vbe=(t,e)=>{t.set("code-fence",({view:n,editable:r,onSelectLanguage:i,onBlur:o,onFocus:s,languageList:a})=>{const l=document.createElement("div"),c=document.createElement("div"),u=document.createElement("ul"),d=document.createElement("pre"),f=document.createElement("code"),h=document.createElement("div");h.className="code-fence_selector";const p=document.createElement("span");h.appendChild(p);const m=t.get(pt,"downArrow");r()&&m&&h.appendChild(m.dom),f.spellcheck=!1,c.className="code-fence_selector-wrapper",c.contentEditable="false",c.append(h),c.append(u),d.append(f);const g=document.createElement("div");f.append(g),g.style.whiteSpace="inherit",l.append(c,d),l.classList.add("code-fence"),t.onFlush(()=>{const _=zbe(t,e);_&&l.classList.add(_)}),u.className="code-fence_selector-list",u.addEventListener("mousedown",_=>{if(_.preventDefault(),_.stopPropagation(),!r())return;const w=_.target;if(!(w instanceof HTMLLIElement))return;const x=w.dataset.value;x!=null&&i(x)}),h.addEventListener("mousedown",_=>{_.preventDefault(),_.stopPropagation(),r()&&s()});const b=()=>{!r()||u.dataset.fold==="true"||o()};return document.addEventListener("mousedown",b),a.forEach(_=>{const w=document.createElement("li");w.className="code-fence_selector-list-item",w.innerText=_||"--",u.appendChild(w),w.setAttribute("data-value",_)}),{dom:l,contentDOM:g,onUpdate:_=>{l.dataset.language=_.attrs.language,p.innerText=_.attrs.language||"--",u.style.maxHeight="",u.setAttribute("data-fold",_.attrs.fold?"true":"false");const w=n.dom.parentElement;if(!w)throw En();const x=w.getBoundingClientRect(),k=c.getBoundingClientRect(),y=u.getBoundingClientRect();let D,S;const F=k.top-x.top,O=x.height+x.top-(k.height+k.top);O>=y.height+14?D="bottom":F>=y.height+14?D="top":O>=F?(D="bottom",S=O-14):(D="top",S=F-14);const E=D==="top"?-(S!=null?S:y.height):k.height;u.style.maxHeight=S!==void 0&&S>0?`${S}px`:"",u.style.top=`${E}px`},onDestroy:()=>{l.remove(),document.removeEventListener("mousedown",b)}}})},qbe=(t,{css:e})=>{const n=er(t);t.set("image",({placeholder:r,isBlock:i,onError:o,onLoad:s})=>{const a=p=>{var m;return(m=t.get(pt,p))==null?void 0:m.dom},l=document.createElement("span");l.classList.add("image-container"),t.onFlush(()=>{const p=e`
                display: inline-block;
                position: relative;
                text-align: center;
                font-size: 0;
                vertical-align: text-bottom;
                line-height: 1;

                ${i?`
                width: 100%;
                margin: 0 auto;
                `:""}

                &.ProseMirror-selectednode::after {
                    content: '';
                    background: ${n("secondary",.38)};
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                }

                img {
                    max-width: 100%;
                    height: auto;
                    object-fit: contain;
                    margin: 0 2px;
                }
                .icon,
                .placeholder {
                    display: none;
                }

                &.system {
                    width: 100%;
                    padding: 0 32px;
                    font-size: inherit;

                    img {
                        width: 0;
                        height: 0;
                        display: none;
                    }

                    .icon,
                    .placeholder {
                        display: inline;
                    }

                    box-sizing: border-box;
                    height: 48px;
                    background-color: ${n("background")};
                    border-radius: ${t.get(He,"radius")};
                    display: inline-flex;
                    gap: 32px;
                    justify-content: flex-start;
                    align-items: center;
                    .placeholder {
                        margin: 0;
                        line-height: 1;
                        &::before {
                            content: '';
                            font-size: 14px;
                            color: ${n("neutral",.6)};
                        }
                    }
                }

                &.empty {
                    .placeholder {
                        &::before {
                            content: '${r}';
                        }
                    }
                }
            `;p&&l.classList.add(p)});const c=document.createElement("img");l.append(c);let u=a("image");const d=document.createElement("span");d.classList.add("placeholder"),l.append(u,d);const f=p=>{const m=a(p);l.replaceChild(m,u),u=m},h=p=>{l.classList.add("system","loading"),f("loading");const m=document.createElement("img");m.src=p,m.onerror=()=>{o==null||o(m)},m.onload=()=>{s==null||s(m)}};return{dom:l,onUpdate:p=>{const{src:m,alt:g,title:b,loading:_,failed:w}=p.attrs;if(c.src=m,c.title=b||g,c.alt=g,m.length===0){l.classList.add("system","empty"),f("image");return}if(_){h(m);return}if(w){l.classList.remove("loading","empty"),l.classList.add("system","failed"),f("brokenImage");return}if(m.length>0){l.classList.remove("system","empty","loading");return}l.classList.add("system","empty"),f("image")}}})},Ube=(t,{css:e})=>{const n=er(t),r=t.get(He,"radius"),i=t.get(Hn,"code"),o=e`
        color: ${n("neutral",.87)};
        background-color: ${n("background")};
        border-radius: ${r};
        padding: 16px 32px;
        font-size: 14px;
        font-family: ${i};
        overflow: hidden;
        line-height: 1.5;
        .ProseMirror {
            outline: none;
        }
    `,s=e`
        display: none;
    `,a=e`
        display: flex;
        justify-content: center;
        padding: 16px 0;
    `;return{codeStyle:o,hideCodeStyle:s,previewPanelStyle:a}},Wbe=(t,e)=>{let n=!1,r;return{isEditing:()=>n,innerView:()=>r,openEditor:(i,o)=>{r=new f_(i,{state:di.create({doc:o,plugins:[nD(),po({...E_,Backspace:ml(um,a=>{var l;if(!a.selection.empty||r&&r.state.doc.textContent.length>0)return!1;const{dispatch:c,state:u}=t,d=(l=u.schema.nodes.paragraph)==null?void 0:l.create();if(!d)return!1;const f=u.tr.replaceSelectionWith(d);let h=f.selection.from-2;return h<0&&(h=0),c(f.setSelection(le.create(f.doc,h))),t.focus(),!0}),"Mod-Enter":(a,l)=>{var c;if(l){const{state:u}=t,{to:d}=u.selection,f=(c=u.schema.nodes.paragraph)==null?void 0:c.createAndFill();if(!f)return!1;const h=u.tr.replaceWith(d,d,f);t.dispatch(h.setSelection(le.create(h.doc,d))),t.focus()}return!0}}),po({"Mod-z":lu,"Mod-y":ns,"Shift-Mod-z":ns})]}),plugins:[],dispatchTransaction:a=>{if(!r)return;const{state:l,transactions:c}=r.state.applyTransaction(a);if(r.updateState(l),!a.getMeta("fromOutside")){const u=t.state.tr,d=_n.offset(e()+1);c.forEach(f=>{const{steps:h}=f;h.forEach(p=>{const m=p.map(d);if(!m)throw new Error("step discarded!");u.step(m)})}),u.docChanged&&t.dispatch(u)}}}),r.focus();const{state:s}=r;r.dispatch(s.tr.setSelection(le.create(s.doc,0))),n=!0},closeEditor:()=>{r&&r.destroy(),r=void 0,n=!1}}},Hbe=(t,e)=>{t.set("inner-editor",({view:n,getPos:r,render:i})=>{const o=Wbe(n,r),s=document.createElement("div");s.classList.add("math-block");const a=document.createElement("div"),l=document.createElement("div");let c="",u="",d="";return t.onFlush(()=>{({codeStyle:c,hideCodeStyle:u,previewPanelStyle:d}=Ube(t,e)),c&&u&&a.classList.add(c,u),d&&l.classList.add(d)}),s.append(a),{dom:s,preview:l,editor:a,onUpdate:(f,h)=>{var p;if(h){const b=f.attrs.value||f.textContent||"";a.dataset.value=b,i(b);return}const m=o.innerView();if(m){const b=m.state,_=f.content.findDiffStart(b.doc.content);if(_!=null){const w=f.content.findDiffEnd(b.doc.content);if(w){let{a:x,b:k}=w;const y=_-Math.min(x,k);y>0&&(x+=y,k+=y),m.dispatch(b.tr.replace(_,k,f.slice(_,x)).setMeta("fromOutside",!0))}}}const g=((p=f.content.firstChild)==null?void 0:p.text)||"";a.dataset.value=g,i(g)},onFocus:f=>{!n.editable||(u&&a.classList.remove(u),o.openEditor(a,f),s.classList.add("ProseMirror-selectednode"))},onBlur:()=>{u&&a.classList.add(u),o.closeEditor(),s.classList.remove("ProseMirror-selectednode")},onDestroy:()=>{l.remove(),a.remove(),s.remove()},stopEvent:f=>{const h=o.innerView(),{target:p}=f,m=p&&(h==null?void 0:h.dom.contains(p));return!!(h&&m)}}})},Gbe=(t,{css:e},n)=>{const r=er(t);return e`
        ${t.get(kt,void 0)}
        ${t.get(Xn,void 0)}

        display: inline-flex;
        justify-content: space-between;
        align-items: center;
        position: absolute;
        background: ${r("surface")};
        border-radius: ${t.get(He,"radius")};
        font-size: 16px;

        height: 56px;
        box-sizing: border-box;
        width: ${n.width};
        padding: 0 16px;
        gap: 16px;
        z-index: 2;

        input,
        button {
            all: unset;
        }

        input {
            flex-grow: 1;
            caret-color: ${r("primary")};
            &::placeholder {
                color: ${r("neutral",.6)};
            }
        }

        button {
            cursor: pointer;
            height: 36px;
            color: ${r("primary")};
            font-size: 14px;
            padding: 0 8px;
            font-weight: 500;
            letter-spacing: 1.25px;
            &:hover {
                background-color: ${r("secondary",.12)};
            }
            &.disable {
                color: ${r("neutral",.38)};
                cursor: not-allowed;
                &:hover {
                    background: transparent;
                }
            }
            &.hide {
                display: none;
            }
        }

        &.hide {
            display: none;
        }
    `},Kbe=(t,e)=>{lm(t,e,(n,r,i,o)=>{const s=t.dom.parentElement;if(!s)throw En();const a=r.left-n.left;let l=n.left-o.left-(i.width-a)/2;const c=n.bottom-o.top+14+s.scrollTop;l<0&&(l=0);const u=s.clientWidth-(i.width+4);return l>u&&(l=u),[c,l]})},Jbe=(t,e)=>{t.set("input-chip",({isBindMode:n,onUpdate:r,buttonText:i,placeholder:o,width:s="400px",calculatePosition:a=Kbe})=>{let l=null,c=!1,u="";const d=document.createElement("div");t.onFlush(()=>{const _=Gbe(t,e,{width:s});_&&d.classList.add(_)}),d.classList.add("tooltip-input");const f=document.createElement("input");o&&(f.placeholder=o),d.appendChild(f),n||(l=document.createElement("button"),l.innerText=i||"APPLY",d.appendChild(l));const h=()=>{d.classList.add("hide")},p=_=>{d.classList.remove("hide"),a(_,d)},m=_=>{const{target:w}=_;if(w instanceof HTMLInputElement){if(u=w.value,!l){r(u);return}if(!u){l.classList.add("disable"),c=!0;return}l.classList.remove("disable"),c=!1}},g=_=>{c||(_.stopPropagation(),r(u),h())},b=_=>{"key"in _&&_.key==="Enter"&&(r(u),h())};return{dom:d,init:_=>{const w=_.dom.parentElement;if(!w)throw En();f.addEventListener("input",m),f.addEventListener("keydown",b),l==null||l.addEventListener("mousedown",g),w.appendChild(d),h()},show:p,hide:h,destroy:()=>{f.removeEventListener("input",m),f.removeEventListener("keydown",b),l==null||l.removeEventListener("mousedown",g),d.remove()},update:_=>{u=_,f.value=_}}})},Ybe=(t,{css:e})=>{const n=er(t);t.set("task-list-item",({onChange:r,editable:i})=>{const o=h=>{var p;return(p=t.get(pt,h))==null?void 0:p.dom},s=document.createElement("li"),a=document.createElement("label"),l=document.createElement("span"),c=document.createElement("input"),u=document.createElement("div");let d=o("unchecked");a.appendChild(d);const f=h=>{const p=o(h);a.replaceChild(p,d),d=p};return a.append(c,l),s.append(a,u),a.contentEditable="false",c.type="checkbox",i()||(c.disabled=!0,a.style.cursor="not-allowed"),c.onchange=h=>{if(h.target instanceof HTMLInputElement){if(!i()){c.checked=!c.checked;return}h.preventDefault(),r(c.checked)}},s.dataset.type="task-item",s.classList.add("task-list-item"),t.onFlush(()=>{const h=e`
                list-style-type: none;
                position: relative;

                & > div {
                    overflow: hidden;
                    padding: 0 2px;
                    width: 100%;
                }

                label {
                    display: inline-block;
                    width: 24px;
                    height: 24px;
                    cursor: pointer;
                    input {
                        visibility: hidden;
                    }
                }
                &[data-checked='true'] {
                    > label {
                        color: ${n("primary")};
                    }
                }
                &[data-checked='false'] {
                    > label {
                        color: ${n("solid",.87)};
                    }
                }
                .paragraph {
                    margin: 8px 0;
                }
            `;h&&s.classList.add(h)}),{dom:s,contentDOM:u,onUpdate:h=>{s.dataset.checked=h.attrs.checked,h.attrs.checked?c.setAttribute("checked","checked"):c.removeAttribute("checked"),f(h.attrs.checked?"checked":"unchecked")}}})},Xbe=(t,e)=>{[Jbe,qbe,Vbe,Ybe,Hbe].forEach(n=>{n(t,e)})},Qbe=["RoobertPRO","sans-serif"],Zbe=["Consolas","Monaco","Andale Mono","Ubuntu Mono","monospace"],Ww={h1:{label:"h1",icon:"looks_one"},h2:{label:"h2",icon:"looks_two"},h3:{label:"h3",icon:"looks_3"},loading:{label:"loading",icon:"hourglass_empty"},quote:{label:"quote",icon:"format_quote"},code:{label:"code",icon:"code"},table:{label:"table",icon:"table_chart"},divider:{label:"divider",icon:"horizontal_rule"},image:{label:"image",icon:"image"},brokenImage:{label:"broken image",icon:"broken_image"},bulletList:{label:"bullet list",icon:"format_list_bulleted"},orderedList:{label:"ordered list",icon:"format_list_numbered"},taskList:{label:"task list",icon:"checklist"},bold:{label:"bold",icon:"format_bold"},italic:{label:"italic",icon:"format_italic"},inlineCode:{label:"inline code",icon:"code"},strikeThrough:{label:"strike through",icon:"strikethrough_s"},link:{label:"link",icon:"link"},leftArrow:{label:"left arrow",icon:"chevron_left"},rightArrow:{label:"right arrow",icon:"chevron_right"},upArrow:{label:"up arrow",icon:"expand_less"},downArrow:{label:"down arrow",icon:"expand_more"},alignLeft:{label:"align left",icon:"format_align_left"},alignRight:{label:"align right",icon:"format_align_right"},alignCenter:{label:"align center",icon:"format_align_center"},delete:{label:"delete",icon:"delete"},select:{label:"select",icon:"select_all"},unchecked:{label:"unchecked",icon:"check_box_outline_blank"},checked:{label:"checked",icon:"check_box"},undo:{label:"undo",icon:"turn_left"},redo:{label:"redo",icon:"turn_right"},liftList:{label:"lift list",icon:"format_indent_decrease"},sinkList:{label:"sink list",icon:"format_indent_increase"},dragHandle:{label:"drag handle",icon:"drag_indicator"},text:{label:"text",icon:"title"}},eye=t=>{const e=Ww[t];if(!e)return;const n=document.createElement("span");return n.className="icon material-icons material-icons-outlined",n.textContent=Ww[t].icon,{dom:n,label:e.label}},an={gray0:"#fafafa",gray1:"#f4f4f5",gray2:"#e4e4e7",gray3:"#d4d4d8",gray4:"#a1a1aa",gray5:"#71717a",gray6:"#52525b",gray7:"#3f3f46",gray8:"#27272a",gray9:"#18181b",primary:"#00DC82",secondary:"#36E4DA"},tye={shadow:an.gray1,primary:an.primary,secondary:an.gray3,neutral:an.gray7,solid:an.gray5,line:an.gray2,background:an.gray1,surface:"#fff"},nye={shadow:an.gray1,primary:an.primary,secondary:an.gray7,neutral:an.gray2,solid:an.gray4,line:an.gray8,background:an.gray8,surface:"#000"},rye=(t,e)=>{const{injectGlobal:n,css:r}=e,i=er(t),o=t.get(He,"radius"),s=i("neutral"),a=i("surface"),l=i("line"),c=r`
    .ProseMirror-selectednode {
      outline: none;
    }

    li.ProseMirror-selectednode {
      outline: none;
    }

    li.ProseMirror-selectednode::after {
      ${t.get(kt,void 0)};
    }
  `,u=r`
    .ProseMirror-yjs-cursor > div {
      padding: 2px 4px;
      font-family: inherit;
      font-weight: bold;
    }
  `,d=r`
    padding: 3.125em 1.25em;
    outline: none;
    & > * {
      margin: 1.875em 0;
    }
  `,f=r`
    p {
      line-height: 1.625;
    }
  `,h=r`
    blockquote {
      padding-left: 1.875em;
      line-height: 1.75em;
      border-left: 4px solid ${i("primary")};
      margin-left: 0;
      margin-right: 0;
      * {
        font-size: 1em;
        line-height: 1.5em;
      }
    }
  `,p=r`
    h1 {
      font-size: 2rem;
      font-weight: 600;
      letter-spacing: -.025em;
      line-height: 1.375;
      margin-bottom: 0.5em;
      margin-top: 1em;
    }
    h2 {
      font-size: 1.5rem;
      font-weight: 600;
      letter-spacing: -.025em;
      line-height: 1.375;
      margin-bottom: 0.5em;
      margin-top: 1.25em;
    }
    h3 {
      font-size: 1.25rem;
      font-weight: 600;
      letter-spacing: -.025em;
      line-height: 1.375;
      margin-bottom: 0.5em;
      margin-top: 1.25em;
    }
    h4 {
      font-size: 1.125rem;
      font-weight: 600;
      letter-spacing: -.025em;
      line-height: 1.375;
      margin-bottom: 0.5em;
      margin-top: 1.25em;
    }
    h5 {
      font-size: inherit;
      font-weight: 600;
      line-height: 1;
    }
    h6 {
      font-size: inherit;
      font-weight: 600;
      line-height: 1;
    }
  `,m=r`
    hr {
      height: ${t.get(He,"lineWidth")};
      background-color: ${l};
      border-width: 0;
    }
  `,g=r`
    ul,
    ol {
        padding: 0;
    }
    .list-item,
    .task-list-item {
        margin: 8px 0;
    }
    .list-item_label,
    .list-item .paragraph {
        margin: 0;
    }
    .list-item {
        display: flex;
        &_body {
            flex: 1;
        }
    }
    .list-item_label {
        display: flex;
        justify-content: center;
        width: 24px;
        height: 24px;
        font-size: 16px;
        line-height: 1.5;
        color: ${i("primary")};
    }
    .list-item[data-list-type='bullet'] {
        & > .list-item_label {
            font-size: 24px;
            line-height: 1;
        }
    }
    li {
        &::marker {
            display: none;
        }
    }
    .task-list-item {
        display: flex;
        flex-direction: row;
        align-items: flex-start;
        &_checkbox {
            margin: 8px 8px 8px 0;
            height: 16px;
        }
        & .paragraph {
            margin: 0;
        }
    }
  `,b=r`
    .code-fence {
      pre {
        font-family: ${t.get(Hn,"code")};
        margin: 0 1.2em !important;
        white-space: pre;
        overflow: auto;
        ${t.get(Br,["x"])}

        background-color: ${i("background")};
        color: ${i("neutral")};
        font-size: 0.875em;
        border-radius: 0;

        code {
          line-height: 1.5;
          font-family: ${t.get(Hn,"code")};
        }
      }
    }
  `,_=r`
    .image {
      display: inline-block;
      margin: 0 auto;
      object-fit: contain;
      width: 100%;
      position: relative;
      height: auto;
      text-align: center;
    }
  `,w=r`
    .code-inline {
      background-color: ${i("background")};
      color: ${i("neutral")};
      border-radius: ${o};
      font-size: .875rem;
      font-weight: 400;
      line-height: 1.25rem;
      padding: 3px 6px;
    }

    .strong {
      font-weight: 600;
    }

    .link,
    a {
      color: ${i("primary")};
      cursor: pointer;
      transition: all 0.4s ease-in-out;
      font-weight: 500;
      text-decoration-line: none;
      transition-duration: .15s;
      transition-property: border-color;
      border-bottom-width: 1px;
      border-color: transparent;
      &:hover {
        border-color: ${i("primary")};
      }
    }

    .strike-through {
      text-decoration-color: ${i("secondary")};
    }
  `,x=r`
    .footnote-definition {
      ${t.get(kt,void 0)};
      border-radius: ${t.get(He,"radius")};
      background-color: ${i("background")};
      padding: 1em;
      display: flex;
      flex-direction: row;
      & > .footnote-definition_content {
        flex: 1;
        width: calc(100% - 1em);
        & > dd {
          margin-inline-start: 1em;
        }
        & > dt {
          color: ${i("secondary")};
          font-weight: 500;
        }
      }
      & > .footnote-definition_anchor {
        width: 1em;
      }
    }
  `,k=r`
    /* copy from https://github.com/ProseMirror/prosemirror-tables/blob/master/style/tables.css */
    .tableWrapper {
      overflow-x: auto;
      margin: 0;
      ${t.get(Br,["x"])}
      width: 100%;
      * {
        margin: 0;
        box-sizing: border-box;
        font-size: 1em;
      }
    }
    table {
      border-collapse: collapse;
      table-layout: fixed;
      width: 100%;
      overflow: auto;
      border-radius: ${t.get(He,"radius")};
      p {
        line-height: unset;
      }
    }
    tr {
      ${t.get(kt,"bottom")};
    }
    td,
    th {
      padding: 0 1em;
      vertical-align: top;
      box-sizing: border-box;
      position: relative;

      min-width: 100px;
      ${t.get(kt,void 0)};
      text-align: left;
      line-height: 3;
      height: 3em;
    }
    th {
      background: ${i("background",.5)};
      font-weight: 400;
    }
    .column-resize-handle {
      position: absolute;
      right: -2px;
      top: 0;
      bottom: 0;
      z-index: 20;
      pointer-events: none;
      background: ${i("secondary")};
      width: ${t.get(He,"lineWidth")};
    }
    .resize-cursor {
      cursor: ew-resize;
      cursor: col-resize;
    }

    .selectedCell {
      &::after {
        z-index: 2;
        position: absolute;
        content: '';
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        background: ${i("secondary",.38)};
        pointer-events: none;
      }

      & ::selection {
        background: transparent;
      }
    }
  `;jbe(e),n`
    .milkdown {
      .material-icons-outlined {
        font-size: 1.5em;
      }

      position: relative;
      margin-left: auto;
      margin-right: auto;
      box-sizing: border-box;


      color: ${s};
      background: ${a};
      font-family: ${t.get(Hn,"typography")};

      ${t.get(Xn,void 0)}
      ${t.get(Br,void 0)}
      ${c};
      ${u};

      .editor {
        ${d};

        ${f};
        ${p};
        ${h};
        ${m};
        ${g};
        ${b};
        ${_};

        ${k};
        ${x};

        ${w};
      }
    }
  `},iye=(t,{css:e})=>{const n=er(t),r=t.get(He,"radius");return e`
        margin-top: .5rem;
        margin-bottom: .5rem;
        background-color: ${n("background")};
        color: ${n("neutral")};
        font-size: 0.875em;
        padding: 1.2em 0.4em 1.4em;
        border-radius: ${r};
        font-family: ${t.get(Hn,"typography")};

        .code-fence_selector-wrapper {
            position: relative;
        }

        .code-fence_selector {
            width: 6rem;
            box-sizing: border-box;
            border-radius: 0.375rem;
            margin: 0 1em 1em;
            cursor: pointer;
            background-color: ${n("surface")};
            position: relative;
            display: flex;
            color: ${n("neutral",.87)};
            align-items: center;
            justify-content: space-between;
            overflow: hidden;
            min-width: 0;
            text-overflow: ellipsis;
            white-space: nowrap;
            padding: 0.375rem 0.625rem;
            font-size: .75rem;
            line-height: 1rem;

            ${t.get(kt,void 0)};

            & > .icon {
                color: ${n("solid",.87)};
            }

            > span:first-child {
              font-weight: 500;
              overflow: hidden;
              text-overflow: ellipsis;
              white-space: nowrap;
            }
        }

        .code-fence_selector-list-item {
            list-style: none;
            line-height: 2;
            padding-left: 1em;
            cursor: pointer;
            margin: 0 !important;
            :hover {
                background: ${n("secondary",.12)};
                color: ${n("primary")};
            }
        }

        .code-fence_selector-list {
            &[data-fold='true'] {
                display: none;
            }

            margin: 0 !important;
            border-radius: 0.375rem;
            font-weight: 500;
            position: absolute;
            z-index: 1;
            top: 2.5em;
            box-sizing: border-box;
            left: 1em;
            padding: 0.5em 0;
            max-height: 16.75em;
            width: 11.71em;
            background-color: ${n("surface")};
            border-top: none;
            overflow-y: auto;
            display: flex;
            flex-direction: column;

            ${t.get(Br,["y"])}
            ${t.get(kt,void 0)};
        }
    `},oye=(t,e)=>{t.set("code-fence",({editable:n,onSelectLanguage:r,onBlur:i,onFocus:o,languageList:s})=>{const a=document.createElement("div"),l=document.createElement("div"),c=document.createElement("ul"),u=document.createElement("pre"),d=document.createElement("code"),f=document.createElement("div");f.className="code-fence_selector";const h=document.createElement("span");f.appendChild(h);const p=t.get(pt,"downArrow");n()&&p&&f.appendChild(p.dom),d.spellcheck=!1,l.className="code-fence_selector-wrapper",l.contentEditable="false",l.append(f),l.append(c),u.append(d);const m=document.createElement("div");d.append(m),m.style.whiteSpace="inherit",a.append(l,u),a.classList.add("code-fence"),t.onFlush(()=>{const w=iye(t,e);w&&a.classList.add(w)}),c.className="code-fence_selector-list",c.addEventListener("mousedown",w=>{if(w.preventDefault(),w.stopPropagation(),!n())return;const x=w.target;if(!(x instanceof HTMLLIElement))return;const k=x.dataset.value;k!=null&&r(k)}),f.addEventListener("mousedown",w=>{w.preventDefault(),w.stopPropagation(),n()&&o()});const g=()=>{!n()||c.dataset.fold==="true"||i()};return document.addEventListener("mousedown",g),s.forEach(w=>{const x=document.createElement("li");x.className="code-fence_selector-list-item",x.innerText=w||"--",c.appendChild(x),x.setAttribute("data-value",w)}),{dom:a,contentDOM:m,onUpdate:w=>{a.dataset.language=w.attrs.language,h.innerText=w.attrs.language||"--",c.setAttribute("data-fold",w.attrs.fold?"true":"false")},onDestroy:()=>{a.remove(),document.removeEventListener("mousedown",g)}}})},sye={typography:Qbe,code:Zbe},aye={radius:"0.5rem",lineWidth:"1px"},lye=(t,e,n)=>{const{css:r}=t;e.set(qt,i=>{if(!i)return;const[o,s]=i,a=n[o],l=R2(a);if(!!l)return`rgba(${l==null?void 0:l.join(", ")}, ${s||1})`}),e.set(He,i=>{if(!!i)return aye[i]}),e.set(Hn,i=>{if(!!i)return sye[i].join(", ")}),e.set(Br,([i="y",o="normal"]=["y","normal"])=>{const s=e.get(qt,["secondary",.38]),a=e.get(qt,["secondary",.12]),l=e.get(qt,["secondary"]);return r`
      scrollbar-width: thin;
      scrollbar-color: ${s} ${a};
      -webkit-overflow-scrolling: touch;

      &::-webkit-scrollbar {
        ${i==="y"?"width":"height"}: ${o==="thin"?2:12}px;
        background-color: transparent;
      }

      &::-webkit-scrollbar-track {
        border-radius: 999px;
        background: transparent;
        border: 4px solid transparent;
      }

      &::-webkit-scrollbar-thumb {
        border-radius: 999px;
        background-color: ${s};
        border: ${o==="thin"?0:4}px solid transparent;
        background-clip: content-box;
      }

      &::-webkit-scrollbar-thumb:hover {
        background-color: ${l};
      }
    `}),e.set(Xn,()=>{const i=e.get(He,"lineWidth"),o=s=>e.get(qt,["shadow",s]);return r`
      box-shadow: 0 ${i} ${i} ${o(.14)}, 0 2px ${i} ${o(.12)},
        0 ${i} 3px ${o(.2)};
    `}),e.set(kt,i=>{const o=e.get(He,"lineWidth"),s=e.get(qt,["line"]);return i?r`
      ${`border-${i}`}: ${o} solid ${s};
    `:r`
        border: ${o} solid ${s};
      `}),e.set(pt,i=>{if(!!i)return eye(i)}),e.set(jp,()=>{rye(e,t)}),Xbe(e,t),oye(e,t)},vv=t=>tO((e,n)=>lye(e,n,t)),cye=vv(nye),uye=vv(tye),dye=()=>{const t=typeof Fg=="function"?Fg():Qt("dark");return mt(()=>t.value==="dark"?cye:uye)},hye=t=>{const e=dye(),n=Boolean(Kw().public.ywsUrl),{editor:r,getInstance:i}=LS((o,s)=>{const a=mO.make().config(l=>l.set(Fc,o)).use(Xle(t,s)).use(de(e)).use(pce).use(TO).use(Aie).use(Wle.replace(Mm,mce())).use(Pie).use(Tfe).use(qie).use(v0e).use(obe).use(Rbe).use(roe).use(Pbe);return n&&(a.use(Uhe),a.ctx.get(cu).mounted(()=>{a.action(fw(t))})),a});return of(t.content)&&wd(t.content,()=>{var o,s,a;(a=i())==null||a.action(n?fw(t):N_((s=(o=de(t.content))==null?void 0:o.markdown)!=null?s:""))}),of(t.components)&&wd(t.components,o=>{var s;(s=i())==null||s.action(Yle(o))}),wd(e,o=>{var s;(s=i())==null||s.action(FO(o))}),r},wye=nn({__name:"Content",props:{content:{type:Object,required:!0},components:{type:Array,default:()=>[]}},emits:["update"],setup(t,{emit:e}){const n=t,r=hye({components:mt(()=>[...n.components]),content:mt(()=>n.content),onChanged:i=>e("update",i)});return(i,o)=>(ge(),Ir(de(k1),{editor:de(r)},null,8,["editor"]))}});export{wye as default};
